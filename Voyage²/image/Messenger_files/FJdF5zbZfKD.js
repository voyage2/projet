if (self.CavalryLogger) { CavalryLogger.start_js(["Fimeg"]); }

__d("BandicootSession",[],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=Object.freeze({ACTIVE:"ACTIVE",INACTIVE:"INACTIVE",CLOSED:"CLOSED"}),i=10*60*1e3,j=14*24*60*60*1e3;function k(p){return Date.now()-p.lastUpdated}function l(p){return!!(typeof p==="object"&&p&&p.lastUpdated&&p.status)}function m(p){if(p.status===h.CLOSED)return false;else if(p.status===h.INACTIVE&&k(p)>i)return false;return true}function n(p){return p.status===h.ACTIVE&&k(p)>i}function o(p){return k(p)>j}f.exports={Status:h,isValidSession:l,isTrackedSession:m,isOrphanSession:o,isCrashedSession:n}}),null);
__d("Bandicoot",["invariant","BandicootSession","FBLogger"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=5*1e3,j=i*2,k="Bandicoot:",l=c("BandicootSession").Status,m=c("BandicootSession").isValidSession,n=c("BandicootSession").isTrackedSession,o=c("BandicootSession").isCrashedSession,p=c("BandicootSession").isOrphanSession;function q(){__p&&__p();try{var t=window.localStorage;if(t){var u="__test"+Date.now();t.setItem(u,"");t.removeItem(u)}return t}catch(v){c("FBLogger")("bandicoot").warn("Local storage is full");return null}}var r=q();function s(t){"use strict";this.$Bandicoot5=k+t;this.$Bandicoot4={};this.$Bandicoot1=this.$Bandicoot7.bind(this);this.sessionID=null;this.sessionStartTime=null;this.storage=r}s.prototype.getCrashTimeData=function(){"use strict";var t=window.performance&&window.performance.memory||{},u=this.sessionStartTime;return{duration:u?Date.now()-u:0,tabs:Object.keys(this.$Bandicoot8()).length,jsHeapSizeLimit:t.jsHeapSizeLimit,totalJSHeapSize:t.totalJSHeapSize,usedJSHeapSize:t.usedJSHeapSize,elementsInDOM:document.getElementsByTagName("*").length,uri:window.location.href}};s.prototype.getLogTimeData=function(){"use strict";return{userAgent:window.navigator.userAgent}};s.prototype.logCrash=function(t,u,v){"use strict";var w=Object.assign({sessionID:t},u,v);c("FBLogger")("bandicoot").warn("Session %s crashed at %s",t,v)};s.prototype.logBrowserUnsupported=function(){"use strict";c("FBLogger")("bandicoot").warn("Browser not supported")};s.prototype.logTrackingError=function(){"use strict";c("FBLogger")("bandicoot").warn("Failed to record data for current session")};s.prototype.startSession=function(){"use strict";__p&&__p();if(!this.storage){this.logBrowserUnsupported();return}if(this.$Bandicoot2)return;if(!this.sessionID)this.sessionID=Math.random().toString(36).slice(2,9);if(!this.sessionStartTime)this.sessionStartTime=Date.now();this.$Bandicoot2=setInterval(function(){this.$Bandicoot9()}.bind(this),i);this.$Bandicoot9();if(document.addEventListener)document.addEventListener("visibilitychange",this.$Bandicoot1);this.$Bandicoot10()};s.prototype.endSession=function(){"use strict";__p&&__p();if(!this.storage)return;if(!this.$Bandicoot2)return;clearInterval(this.$Bandicoot2);this.$Bandicoot2=null;if(!this.$Bandicoot3)this.$Bandicoot11({status:l.CLOSED});this.sessionID=null;this.sessionStartTime=null;if(document.removeEventListener)document.removeEventListener("visibilitychange",this.$Bandicoot1)};s.prototype.logKnownCrashes=function(){"use strict";__p&&__p();if(!this.storage)return;if(!this.$Bandicoot2){var t=this.$Bandicoot8();t=this.$Bandicoot12(t,function(u,v){if(o(u)){this.logCrash(v,u,this.getLogTimeData());return null}else return u}.bind(this));this.$Bandicoot13(t)}};s.prototype.$Bandicoot14=function(){"use strict";var t=this.sessionID;t||h(0);return t};s.prototype.$Bandicoot9=function(){"use strict";var t=this.$Bandicoot8();this.$Bandicoot15(t);t=this.$Bandicoot16(t);this.$Bandicoot13(t)};s.prototype.$Bandicoot15=function(t){"use strict";var u=this.$Bandicoot14(),v=t[u]?t[u]:{};t[u]=babelHelpers["extends"]({},v,this.getCrashTimeData(),{lastUpdated:Date.now(),status:this.$Bandicoot17()})};s.prototype.$Bandicoot12=function(t,u){"use strict";__p&&__p();var v={};Object.keys(t).forEach(function(w){var x=t[w];if(m(x)&&n(x)&&!p(x)){var y=u(x,w);if(y)v[w]=y}});return v};s.prototype.$Bandicoot16=function(t){"use strict";__p&&__p();return this.$Bandicoot12(t,function(u,v){__p&&__p();if(o(u)){var w=u.loggerReportTime||0;if(Date.now()-w>j){u.loggerReportTime=Date.now();u.loggerReportSession=this.$Bandicoot14()}else if(u.loggerReportSession==this.$Bandicoot14()){this.logCrash(v,u,this.getLogTimeData());this.$Bandicoot4[v]=true;return null}}return u}.bind(this))};s.prototype.$Bandicoot8=function(t){"use strict";t=t||this.$Bandicoot5;var u=this.storage.getItem(t)||"{}";try{u=JSON.parse(u)}catch(v){u={};this.storage.removeItem(t);c("FBLogger")("bandicoot").catching(v).warn("Invalid JSON data")}return u};s.prototype.$Bandicoot11=function(t){"use strict";t.lastUpdated=Date.now();var u=this.$Bandicoot8(),v=this.sessionID;if(v&&u[v]){Object.assign(u[v],t);this.$Bandicoot13(u)}};s.prototype.$Bandicoot13=function(t){"use strict";__p&&__p();var u=JSON.stringify(t);try{this.storage.setItem(this.$Bandicoot5,u)}catch(v){var w=this.$Bandicoot6,x=Date.now();if(!w||x>w+i){this.logTrackingError();this.$Bandicoot6=x}try{this.storage.removeItem(this.$Bandicoot5)}catch(y){this.$Bandicoot3=true;this.endSession();c("FBLogger")("bandicoot").catching(y).warn("Removing from storage failed")}}};s.prototype.$Bandicoot10=function(){"use strict";__p&&__p();for(var t=0;t<this.storage.length;++t){var u=this.storage.key(t);if(u.indexOf(k)===0&&u!==this.$Bandicoot5){var v=this.$Bandicoot8(u),w=Object.keys(v).every(function(x){var y=v[x];return!m(y)||p(y)});if(w)this.storage.removeItem(u)}}};s.prototype.$Bandicoot7=function(){"use strict";this.$Bandicoot11({status:this.$Bandicoot17()})};s.prototype.$Bandicoot17=function(){"use strict";return document.hidden?l.INACTIVE:l.ACTIVE};f.exports=s}),null);
__d("CompositeDraftDecorator",["immutable"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("immutable").List,i=".";function j(m){this.$CompositeDraftDecorator1=m.slice()}j.prototype.getDecorations=function(m,n){var o=Array(m.getText().length).fill(null);this.$CompositeDraftDecorator1.forEach(function(p,q){var r=0,s=p.strategy,t=function t(u,v){if(k(o,u,v)){l(o,u,v,q+i+r);r++}};s(m,t,n)});return h(o)};j.prototype.getComponentForKey=function(m){var n=parseInt(m.split(i)[0],10);return this.$CompositeDraftDecorator1[n].component};j.prototype.getPropsForKey=function(m){var n=parseInt(m.split(i)[0],10);return this.$CompositeDraftDecorator1[n].props};function k(m,n,o){for(var p=n;p<o;p++)if(m[p]!=null)return false;return true}function l(m,n,o,p){for(var q=n;q<o;q++)m[q]=p}f.exports=j}),null);
__d("DraftEntityInstance",["immutable"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("immutable").Record,k=j({type:"TOKEN",mutability:"IMMUTABLE",data:Object});h=babelHelpers.inherits(l,k);i=h&&h.prototype;l.prototype.getType=function(){return this.get("type")};l.prototype.getMutability=function(){return this.get("mutability")};l.prototype.getData=function(){return this.get("data")};function l(){h.apply(this,arguments)}f.exports=l}),null);
__d("DraftEntity",["invariant","DraftEntityInstance","immutable"],(function a(b,c,d,e,f,g,h){__p&&__p();var i=c("immutable").Map,j=i(),k=0;function l(n,o){}var m={getLastCreatedEntityKey:function n(){l("DraftEntity.getLastCreatedEntityKey","contentState.getLastCreatedEntityKey");return m.__getLastCreatedEntityKey()},create:function n(o,p,q){l("DraftEntity.create","contentState.createEntity");return m.__create(o,p,q)},add:function n(o){l("DraftEntity.add","contentState.addEntity");return m.__add(o)},get:function n(o){l("DraftEntity.get","contentState.getEntity");return m.__get(o)},mergeData:function n(o,p){l("DraftEntity.mergeData","contentState.mergeEntityData");return m.__mergeData(o,p)},replaceData:function n(o,p){l("DraftEntity.replaceData","contentState.replaceEntityData");return m.__replaceData(o,p)},__getLastCreatedEntityKey:function n(){return""+k},__create:function n(o,p,q){return m.__add(new(c("DraftEntityInstance"))({type:o,mutability:p,data:q||{}}))},__add:function n(o){var p=""+ ++k;j=j.set(p,o);return p},__get:function n(o){var p=j.get(o);!!p||h(0);return p},__mergeData:function n(o,p){var q=m.__get(o),r=babelHelpers["extends"]({},q.getData(),p),s=q.set("data",r);j=j.set(o,s);return s},__replaceData:function n(o,p){var q=m.__get(o),r=q.set("data",p);j=j.set(o,r);return r}};f.exports=m}),null);
__d("EmoticonSpan.react",["cx","DraftEntity","EmojiImageURL","EmoticonsList","React","SupportedFBEmoji"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){var l=this.props.size,m=c("DraftEntity").get(this.props.entityKey).getData(),n=c("EmoticonsList").emoji[m.type],o=c("SupportedFBEmoji")[n]?c("EmojiImageURL").getFBEmojiURL(n,l):c("EmojiImageURL").getFBEmojiExtendedURL(n,l);return c("React").createElement("span",{className:"_3gl1 _5zz4",style:{backgroundImage:"url("+o+")",backgroundSize:l+"px "+l+"px",height:l+"px",width:l+"px"}},c("React").createElement("span",{className:"_ncl"},this.props.children))};function k(){i.apply(this,arguments)}k.defaultProps={size:16};f.exports=k}),null);
__d("HashtagSpan.react",["cx","React"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){"use strict";return c("React").createElement("span",babelHelpers["extends"]({},this.props,{"data-offset-key":this.props.offsetKey,className:"_5zk7",spellCheck:false}),this.props.children)};function k(){"use strict";i.apply(this,arguments)}f.exports=k}),null);
__d("MentionSpan.react",["cx","React"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){"use strict";return c("React").createElement("span",babelHelpers["extends"]({},this.props,{"data-offset-key":this.props.offsetKey,className:"_247o",spellCheck:false}),this.props.children)};function k(){"use strict";i.apply(this,arguments)}f.exports=k}),null);
__d("WeakMentionSpan.react",["cx","React"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){"use strict";return c("React").createElement("span",{"data-offset-key":this.props.offsetKey,className:"_whq",spellCheck:false},this.props.children)};function k(){"use strict";i.apply(this,arguments)}f.exports=k}),null);
__d("getEntityMatcher",["DraftEntity"],(function a(b,c,d,e,f,g){var h=c("DraftEntity").get;function i(j,k){var l=k||h;return function(m,n){m.findEntityRanges(function(o){var p=o.getEntity();return typeof p==="string"&&j(l(p))},n)}}f.exports=i}),null);
__d("getHashtagMatches",["getHashtagRegex"],(function a(b,c,d,e,f,g){__p&&__p();var h=c("getHashtagRegex")();function i(j,k){var l=j.getText(),m,n,o,p;while((m=h.exec(l))!==null){n=m.index+m[1].length;o=m[2];p=m[3];k(n,n+o.length+p.length)}}f.exports=i}),null);
__d("getMentionsInputDecorator",["CompositeDraftDecorator","EmoticonSpan.react","HashtagSpan.react","MentionSpan.react","TextDelightInComposerController","WeakMentionSpan.react","getEntityMatcher","getHashtagMatches"],(function a(b,c,d,e,f,g){__p&&__p();var h=c("TextDelightInComposerController").module,i;function j(){if(!i){var k=[{strategy:c("getEntityMatcher")(function(l){var m=l.getData();return l.getType()==="MENTION"&&m&&m.isWeak}),component:c("WeakMentionSpan.react")},{strategy:c("getEntityMatcher")(function(l){return l.getType()==="MENTION"}),component:c("MentionSpan.react")},{strategy:c("getEntityMatcher")(function(l){return l.getType()==="EMOTICON"}),component:c("EmoticonSpan.react")},{strategy:c("getHashtagMatches"),component:c("HashtagSpan.react")}].concat(h?h.getDecorations():[]);i=new(c("CompositeDraftDecorator"))(k)}return i}f.exports=j}),null);
__d("MentionsTypeaheadViewItem.react",["cx","Badge.react","ImageBlock.react","React","TypeaheadViewItem","cssURL"],(function a(b,c,d,e,f,g,h){__p&&__p();var i=c("React").PropTypes,j=c("React").createClass({displayName:"MentionsTypeaheadViewItem",mixins:[c("TypeaheadViewItem").Mixin],propTypes:babelHelpers["extends"]({},c("TypeaheadViewItem").propTypes,{ariaDescribedBy:i.string}),render:function k(){__p&&__p();var l=this.props.entry,m=l.getAuxiliaryData(),n=null;if(m)if(m.verified)n=c("React").createElement(c("Badge.react"),{type:"verified",size:"xsmall"});else if(m.nonCoworker)n=c("React").createElement(c("Badge.react"),{type:"work_non_coworker"});var o=l.getPhoto()?c("React").createElement("span",{className:"_5u93",style:{backgroundImage:c("cssURL")(l.getPhoto())}}):c("React").createElement("span",null),p=null;if(l.getSubtitle())p=c("React").createElement("div",{className:"_5u95"},l.getSubtitle());var q="_5u91"+(this.props.highlighted?" _5u92":"");return c("React").createElement("li",{role:"option",className:q,"aria-label":l.getTitle(),"aria-selected":this.props.highlighted,"aria-describedby":this.props.ariaDescribedBy,onMouseDown:this._onSelect,onMouseEnter:this._onHighlight},c("React").createElement(c("ImageBlock.react"),{spacing:"medium"},o,c("React").createElement("div",null,c("React").createElement("div",{className:"_5u94"},l.getTitle(),n),p)))}});f.exports=j}),null);
__d("AccessibilityWebLogicalGridTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:AccessibilityWebLogicalGridLoggerConfig",this.$AccessibilityWebLogicalGridTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:AccessibilityWebLogicalGridLoggerConfig",this.$AccessibilityWebLogicalGridTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$AccessibilityWebLogicalGridTypedLogger1={};return this};h.prototype.updateData=function(j){this.$AccessibilityWebLogicalGridTypedLogger1=babelHelpers["extends"]({},this.$AccessibilityWebLogicalGridTypedLogger1,j);return this};h.prototype.setVC=function(j){this.$AccessibilityWebLogicalGridTypedLogger1.vc=j;return this};h.prototype.updateExtraData=function(j){j=c("nullthrows")(c("GeneratedLoggerUtils").serializeMap(j));c("GeneratedLoggerUtils").checkExtraDataFieldNames(j,i);this.$AccessibilityWebLogicalGridTypedLogger1=babelHelpers["extends"]({},this.$AccessibilityWebLogicalGridTypedLogger1,j);return this};h.prototype.addToExtraData=function(j,k){var l={};l[j]=k;return this.updateExtraData(l)};var i={vc:true};f.exports=h}),null);
__d("LogicalGridController",["AccessibilityWebLogicalGridTypedLogger","immutable","mixInEventEmitter","RTLKeys","TabbableElements"],(function a(b,c,d,e,f,g){__p&&__p();var h=c("immutable").Map,i=c("immutable").OrderedMap,j=c("immutable").Set;k.create=function(){var n=arguments.length<=0||arguments[0]===undefined?[]:arguments[0];"use strict";return new k(l.createFromArray(n.map(function(o){return k.createRow(o)})))};k.createRow=function(){var n=arguments.length<=0||arguments[0]===undefined?[]:arguments[0];"use strict";return m.createFromArray(n.map(function(o){return k.createCell(o)}))};k.createCell=function(n){"use strict";var o=n||{},p=o.refElement,q=o.disableFocusRecovery,r=q===undefined?false:q,s=o.isRowHeader,t=s===undefined?false:s,u=o.isTabbable,v=u===undefined?false:u;return{refElement:p,disableFocusRecovery:r,isRowHeader:t,isTabbable:v}};k.coordinatesAreEquivalent=function(n,o){"use strict";return n!=null&&o!=null&&n[0]===o[0]&&n[1]===o[1]};function k(n){"use strict";this.$LogicalGridController2=null;this.$LogicalGridController1=[0,0];this.$LogicalGridController3=n;this.$LogicalGridController5=null;this.$LogicalGridController6=false;this.$LogicalGridController7=h()}k.prototype.getGridMap=function(){"use strict";return this.$LogicalGridController3};k.prototype.getRowMap=function(n){"use strict";if(n!=null)return this.$LogicalGridController3.get(n);return null};k.prototype.getCellMap=function(n){"use strict";var o=n[0],p=n[1];if(o!=null&&p!=null){var q=this.$LogicalGridController3.get(o);if(q)return q.get(p)}return null};k.prototype.putRow=function(n){"use strict";__p&&__p();if(n!=null){var o=this.$LogicalGridController3.get(n);if(!o){o=k.createRow();var p=this.$LogicalGridController3;this.$LogicalGridController3=this.$LogicalGridController3.set(n,o);this.emit("rowPut",p,this.$LogicalGridController3,o,n)}}};k.prototype.putCell=function(n,o){"use strict";__p&&__p();var p=n[0],q=n[1];if(p!=null&&q!=null){var r=this.$LogicalGridController3;this.putRow(p);var s=this.getRowMap(p);if(s){var t=s.get(q);if(!t){t=k.createCell(o);this.$LogicalGridController3=this.$LogicalGridController3.setIn(n,t);this.emit("cellPut",r,this.$LogicalGridController3,t,n)}}}};k.prototype.activateCell=function(){"use strict";if(this.$LogicalGridController2){var n=this.getCellMap(this.$LogicalGridController2);this.emit("cellActivate",this.$LogicalGridController2,n)}};k.prototype.deactivateCell=function(){"use strict";this.emit("cellDeactivate")};k.prototype.focusCell=function(n){"use strict";__p&&__p();var o=void 0,p=false;if(this.$LogicalGridController2)o=this.getCellMap(this.$LogicalGridController2);else p=true;var q=this.getCellMap(n);if(q&&!this.isFocusedCoordinate(n)){if(o)this.emit("cellBlur",this.$LogicalGridController2,o);this.$LogicalGridController2=n;if(p)this.emit("manageFocus",true);var r=this.$LogicalGridController5;this.$LogicalGridController5=this.$LogicalGridController2;this.emit("cellFocus",n,r,q)}};k.prototype.$LogicalGridController8=function(n){__p&&__p();var o=arguments.length<=1||arguments[1]===undefined?function(){return true}:arguments[1];"use strict";var p=n[0],q=n[1],r=this.getGridMap();if(r.size===0)return n;if(!r.get(p)){var s=r.keySeq().filter(function(w){return r.get(w).filter(function(x){return o(x)}).size>0}).sort(),t=s.findLastIndex(function(w){return w<=p});p=s.get(t>=0?t:s.findIndex(function(w){return w>=p}))}if(!r.get(p).get(q)){var u=r.get(p).keySeq().filter(function(w){return o(r.get(p).get(w))}).sort(),v=u.findLastIndex(function(w){return w<=q});q=u.get(v>=0?v:u.findIndex(function(w){return w>=q}))}return[p,q]};k.prototype.$LogicalGridController9=function(n,o){__p&&__p();var p=arguments.length<=2||arguments[2]===undefined?function(){return true}:arguments[2],q=arguments.length<=3||arguments[3]===undefined?false:arguments[3];"use strict";var r=this.getGridMap(),s=n[0],t=r.keySeq().filter(function(w){return r.get(w).filter(function(x){return p(x)}).size>0}).sort();if(q)if(o>0)return t.max();else return t.min();var u=void 0;if(o>0){u=t.findLastIndex(function(w){return w<=s});if(u===-1)u=0;else if(u!==t.size-1)u+=o}else{u=t.findIndex(function(w){return w>=s});if(u===-1)u=t.size-1;else if(u!==0)u+=o}var v=t.get(u);if(v===undefined)return null;return v};k.prototype.$LogicalGridController10=function(n,o){__p&&__p();var p=arguments.length<=2||arguments[2]===undefined?function(){return true}:arguments[2],q=arguments.length<=3||arguments[3]===undefined?false:arguments[3];"use strict";var r=this.getGridMap(),s=n[0],t=n[1],u=r.get(s);if(u===undefined)return null;var v=u.keySeq().filter(function(y){return p(r.get(s).get(y))}).sort();if(q){if(o>0)return v.max();return v.min()}var w=void 0;if(o>0){w=v.findLastIndex(function(y){return y<=t});if(w===-1)w=0;else if(w!==v.size-1)w+=o;else return null}else{w=v.findIndex(function(y){return y>=t});if(w===-1)w=v.size-1;else if(w!==0)w+=o;else return null}var x=v.get(w);if(x===undefined)return null;return x};k.prototype.$LogicalGridController11=function(n,o){__p&&__p();var p=arguments.length<=2||arguments[2]===undefined?false:arguments[2];"use strict";var q=this.getFocusedCellCoordinate();if(!q)return false;var r=this.$LogicalGridController8(q),s=r[0],t=r[1],u=r[0],v=r[1],w=function w(C){return!p||C.isTabbable};if(o!==0){var x=this.$LogicalGridController10(r,o,w);if(x===null){var y=this.$LogicalGridController9(r,o,w);if(y!==s&&y!==null){x=this.$LogicalGridController10([y,t],-o,w,true);if(x!==null){s=y;t=x}}}else t=x}else if(n!==0){var z=this.$LogicalGridController9(r,n,w);if(z!==null){var A=this.$LogicalGridController8([z,t],w);s=A[0];t=A[1]}}var B=u!==s||v!==t;if(B){this.focusCell([s,t]);new(c("AccessibilityWebLogicalGridTypedLogger"))().log()}return B};k.prototype.$LogicalGridController12=function(n,o){"use strict";__p&&__p();var p=this.getFocusedCellCoordinate();if(!p)return false;var q=this.$LogicalGridController8(p),r=q[0],s=q[1],t=q[0],u=q[1];if(o)r=this.$LogicalGridController9(q,n,function(){return true},true);if(r!==null){var v=this.$LogicalGridController10([r,s],n,function(){return true},true);if(v!==null)s=v}else r=t;var w=t!==r||u!==s;if(w){this.focusCell([r,s]);new(c("AccessibilityWebLogicalGridTypedLogger"))().log()}return w};k.prototype.moveFocusLeft=function(){"use strict";return this.$LogicalGridController11(0,-1)};k.prototype.moveFocusRight=function(){"use strict";return this.$LogicalGridController11(0,1)};k.prototype.moveFocusUp=function(){"use strict";return this.$LogicalGridController11(-1,0)};k.prototype.moveFocusDown=function(){"use strict";return this.$LogicalGridController11(1,0)};k.prototype.moveFocusHome=function(n){"use strict";return this.$LogicalGridController12(-1,n)};k.prototype.moveFocusEnd=function(n){"use strict";return this.$LogicalGridController12(1,n)};k.prototype.tabFocusForward=function(){"use strict";return this.$LogicalGridController11(0,1,true)};k.prototype.tabFocusBackward=function(){"use strict";return this.$LogicalGridController11(0,-1,true)};k.prototype.recoverFocus=function(){"use strict";var n=this.$LogicalGridController6&&this.getLastFocusedCellCoordinate(),o=this.getFocusedCellCoordinate()||n||this.getDefaultCellCoordinate();this.focusCell(this.$LogicalGridController8(o))};k.prototype.isFocusedCoordinate=function(n){"use strict";return k.coordinatesAreEquivalent(n,this.getFocusedCellCoordinate())};k.prototype.isManagingFocus=function(){"use strict";return!!this.$LogicalGridController2};k.prototype.clearFocusedCell=function(){"use strict";__p&&__p();var n=!!this.$LogicalGridController2;if(this.$LogicalGridController2){var o=this.getCellMap(this.$LogicalGridController2);this.emit("cellBlur",this.$LogicalGridController2,o)}this.$LogicalGridController2=null;if(n)this.emit("manageFocus",false);this.deactivateCell()};k.prototype.clearLastFocusedCell=function(){"use strict";this.$LogicalGridController5=null};k.prototype.getFocusedCell=function(){"use strict";var n=this.$LogicalGridController2;if(n)return this.getCellMap(n);return null};k.prototype.getFocusedCellCoordinate=function(){"use strict";return this.$LogicalGridController2};k.prototype.getLastFocusedCellCoordinate=function(){"use strict";return this.$LogicalGridController5};k.prototype.preserveFocusCellCoordinate=function(n){"use strict";this.$LogicalGridController6=n};k.prototype.setGridRef=function(n){"use strict";this.$LogicalGridController4=n};k.prototype.getGridRef=function(){"use strict";return this.$LogicalGridController4};k.prototype.muteTabbables=function(){__p&&__p();var n,o=this,p=arguments.length<=0||arguments[0]===undefined?[]:arguments[0];"use strict";if(!this.$LogicalGridController4)return;var q=c("TabbableElements").find(this.$LogicalGridController4);if(q.length)(function(){__p&&__p();var r=j(q),s=o.$LogicalGridController3.toList().flatten(true).map(function(t){return t.refElement}).map(function(t){return r.filter(function(u){return t.contains(u)})}).flatten(true).toSet();o.$LogicalGridController7=r.subtract(s).subtract(j(p)).toMap().mapEntries(function(t){var u=t[0];return[u,u.getAttribute("tabindex")||""]}).merge(o.$LogicalGridController7);o.$LogicalGridController7.keySeq().forEach(function(t){if(t.getAttribute("tabindex")!=="-1")t.setAttribute("tabindex","-1")})})()};k.prototype.restoreTabbables=function(){"use strict";this.$LogicalGridController7.entrySeq().forEach(function(n){var o=n[0],p=n[1];if(p==="")o.removeAttribute("tabindex");else o.setAttribute("tabindex",p)})};k.prototype.purgeCell=function(n){"use strict";__p&&__p();var o=n[0],p=n[1],q=void 0;if(o!=null&&p!=null){var r=this.getCellMap(n);if(r){q=r;this.$LogicalGridController3=this.$LogicalGridController3.deleteIn(n)}}return q};k.prototype.deleteCell=function(n){"use strict";var o=this.$LogicalGridController3,p=this.purgeCell(n);if(p)this.emit("cellDelete",o,this.$LogicalGridController3,p,n)};k.prototype.purgeRow=function(n){"use strict";__p&&__p();if(n!=null){var o=this.getRowMap(n);if(o){o.forEach(function(p,q){if(n!=null)this.purgeCell([n,q])}.bind(this),this);this.$LogicalGridController3=this.$LogicalGridController3["delete"](n)}}};k.prototype.deleteRow=function(n){"use strict";__p&&__p();if(n!=null){var o=this.getRowMap(n);if(o){var p=this.$LogicalGridController3;o.forEach(function(q,r){if(n!=null)this.deleteCell([n,r])}.bind(this),this);this.$LogicalGridController3=this.$LogicalGridController3["delete"](n);this.emit("rowDelete",p,this.$LogicalGridController3,o,n)}}};k.prototype.setDefaultCellCoordinate=function(n){"use strict";this.$LogicalGridController1=n};k.prototype.getDefaultCellCoordinate=function(){"use strict";return this.$LogicalGridController1};k.TRAVERSAL_KEY_CODES=j([c("RTLKeys").UP,c("RTLKeys").DOWN,c("RTLKeys").getRight(),c("RTLKeys").getLeft(),c("RTLKeys").TAB]);c("mixInEventEmitter")(k,{cellActivate:true,cellBlur:true,cellDeactivate:true,cellDelete:true,cellFocus:true,cellPut:true,manageFocus:true,rowDelete:true,rowPut:true});var l={createFromArray:function n(o){return i(o.map(function(p,q){return[q,p]}))}},m={createFromArray:function n(o){return i(o.map(function(p,q){return[q,p]}))}};f.exports=k}),null);
__d("LogicalGridGKCheck",["AccessibilityConfig"],(function a(b,c,d,e,f,g){var h={passed:function i(){return c("AccessibilityConfig").a11yLogicalGridComponent},decorator:function i(j,k){return function(){if(c("AccessibilityConfig").a11yLogicalGridComponent)return j.apply(k,Array.prototype.slice.call(arguments))}}};f.exports=h}),null);
__d("LogicalGridFocusStrategyBase",["cx","csx","CSS","DOM","Map","TabbableElements","getOrCreateDOMID"],(function a(b,c,d,e,f,g,h,i){__p&&__p();function j(k,l){"use strict";this.activeClass="_5-1x";this.activeClassSelector="._5-1x";this.elements=new(c("Map"))([]);this.focusClass="_5-1y";this.focusClassSelector="._5-1y";this.isCompositeWidget=k;this.onActivedescendant=l;this.root=null}j.prototype.update=function(k){"use strict";if(k&&k!==this.root)this.root=k;this.neuterTabbables()};j.prototype.focus=function(k){"use strict";if(k)this.applyFocusClass(k)};j.prototype.activate=function(k){"use strict";if(k)this.applyActiveClass(k)};j.prototype.deactivate=function(){"use strict";this.clearActiveClass()};j.prototype.blur=function(){"use strict";this.clearFocusClass()};j.prototype.destroy=function(){"use strict";this.restoreTabbables();this.elements=new(c("Map"))([])};j.prototype.activateDescendant=function(k){"use strict";this.onActivedescendant.call(null,c("getOrCreateDOMID")(k))};j.prototype.applyActiveClass=function(k){"use strict";c("CSS").addClass(k,this.activeClass)};j.prototype.applyFocusClass=function(k){"use strict";c("CSS").addClass(k,this.focusClass)};j.prototype.canActivate=function(){"use strict";return false};j.prototype.clearActiveClass=function(){"use strict";if(this.root){var k=c("DOM").scry(this.root,this.activeClassSelector);k.push(this.root);k.forEach(function(l){return c("CSS").removeClass(l,this.activeClass)}.bind(this))}};j.prototype.clearFocusClass=function(){"use strict";if(this.root){var k=c("DOM").scry(this.root,this.focusClassSelector);k.push(this.root);k.forEach(function(l){return c("CSS").removeClass(l,this.focusClass)}.bind(this))}};j.prototype.neuterTabbables=function(){"use strict";if(this.root)c("TabbableElements").find(this.root).filter(function(k){return!this.elements.has(k)}.bind(this)).forEach(function(k){var l=k.getAttribute("tabIndex");k.setAttribute("tabIndex","-1");this.elements.set(k,l)}.bind(this),this)};j.prototype.restoreTabbables=function(){"use strict";this.elements.forEach(function(k,l){if(k!=null)l.setAttribute("tabIndex",k);else l.removeAttribute("tabIndex")});this.elements=new(c("Map"))([])};f.exports=j}),null);
__d("LogicalGridItemFocusStrategy",["Focus","LogicalGridFocusStrategyBase","getActiveElement"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("LogicalGridFocusStrategyBase"));i=h&&h.prototype;j.prototype.focus=function(){"use strict";var k=this.elements.keys().next().value;if(k){if(this.isCompositeWidget)this.activateDescendant(k);else if(k!==c("getActiveElement")())c("Focus").set(k,true);i.focus.call(this,k)}};j.prototype.applyFocusClass=function(){"use strict";if(this.root)i.applyFocusClass.call(this,this.root)};function j(){"use strict";h.apply(this,arguments)}f.exports=j}),null);
__d("LogicalGridCell.react",["cx","invariant","LogicalGridItemFocusStrategy","LogicalGridController","LogicalGridGKCheck","React","ReactDOM","RTLKeys","SubscriptionsHandler","emptyFunction","joinClasses","setTimeout"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=c("React").Component,m=c("React").PropTypes,n=c("LogicalGridGKCheck").passed,o=c("LogicalGridGKCheck").decorator;j=babelHelpers.inherits(p,l);k=j&&j.prototype;function p(q,r){"use strict";__p&&__p();k.constructor.call(this,q);this.$LogicalGridCell5=function(){var s=this.context.logicalGridController;if(s)this.$LogicalGridCell4.addSubscriptions(s.addListener("cellActivate",this.$LogicalGridCell10),s.addListener("cellBlur",this.$LogicalGridCell11),s.addListener("cellDeactivate",this.$LogicalGridCell12),s.addListener("cellFocus",this.$LogicalGridCell13),s.addListener("cellPut",this.$LogicalGridCell14))}.bind(this);this.$LogicalGridCell6=function(s,t){var u=this.context.logicalGridController;if(u&&s!=null&&t!=null)u.deleteCell([s,t])}.bind(this);this.$LogicalGridCell7=function(){if(this.$LogicalGridCell9())this.$LogicalGridCell1.focus()}.bind(this);this.$LogicalGridCell8=function(){var s=this.context,t=s.logicalGridController,u=s.logicalGridRowIndex,v=this.props.columnIndex;if(t&&!this.$LogicalGridCell9()&&!this.$LogicalGridCell3&&u!=null&&v!=null)t.focusCell([u,v])}.bind(this);this.$LogicalGridCell9=function(){var s=this.context,t=s.logicalGridController,u=s.logicalGridRowIndex,v=this.props.columnIndex,w=false;if(t&&u!=null&&v!=null){var x=t.getFocusedCell(),y=t.isFocusedCoordinate([u,v]);w=y&&x!=null&&this.$LogicalGridCell2===x.refElement}return w}.bind(this);this.$LogicalGridCell10=function(){if(this.$LogicalGridCell9())this.$LogicalGridCell1.activate()}.bind(this);this.$LogicalGridCell11=function(){this.$LogicalGridCell1.deactivate();this.$LogicalGridCell1.blur()}.bind(this);this.$LogicalGridCell12=function(){this.$LogicalGridCell1.deactivate()}.bind(this);this.$LogicalGridCell13=function(s,t){this.$LogicalGridCell7()}.bind(this);this.$LogicalGridCell14=function(){this.$LogicalGridCell7()}.bind(this);this.$LogicalGridCell15=function(){if(this.$LogicalGridCell1.canActivate())this.context.logicalGridController.activateCell()}.bind(this);this.$LogicalGridCell16=function(){if(!this.$LogicalGridCell3)this.$LogicalGridCell8()}.bind(this);this.$LogicalGridCell17=function(event){var s=this.context.logicalGridController;if(event.charCode===c("RTLKeys").RETURN&&this.$LogicalGridCell1.canActivate())s.activateCell()}.bind(this);this.$LogicalGridCell18=function(){if(this.props.disableFocusRecovery)this.$LogicalGridCell19()}.bind(this);this.$LogicalGridCell19=function(){this.$LogicalGridCell3=true;c("setTimeout")(function(){this.$LogicalGridCell3=false}.bind(this),0)}.bind(this);this.$LogicalGridCell20=function(s,t){var u=this.context.logicalGridController;if(u&&s!=null&&t!=null)u.purgeCell([s,t])}.bind(this);this.$LogicalGridCell21=function(s,t){var u=arguments.length<=2||arguments[2]===undefined?false:arguments[2],v=this.context.logicalGridController;if(v&&s!=null&&t!=null)v.putCell([s,t],{refElement:this.$LogicalGridCell2,isRowHeader:this.props.isRowHeader,isTabbable:this.props.isTabbable,disableFocusRecovery:u})}.bind(this);this.$LogicalGridCell22=function(s){if(this.context.logicalGridController){var t=c("ReactDOM").findDOMNode(s);if(t&&t!==this.$LogicalGridCell2){this.$LogicalGridCell2=t;this.$LogicalGridCell1.update(t)}}}.bind(this);this.$LogicalGridCell1=new q.focusStrategy(r.logicalGridIsCompositeWidget,r.logicalGridOnActivedescendant);this.$LogicalGridCell3=false;this.$LogicalGridCell4=new(c("SubscriptionsHandler"))();this.$LogicalGridCell5=o(this.$LogicalGridCell5,this);this.$LogicalGridCell6=o(this.$LogicalGridCell6,this);this.$LogicalGridCell7=o(this.$LogicalGridCell7,this);this.$LogicalGridCell8=o(this.$LogicalGridCell8,this);this.$LogicalGridCell9=o(this.$LogicalGridCell9,this);this.$LogicalGridCell10=o(this.$LogicalGridCell10,this);this.$LogicalGridCell11=o(this.$LogicalGridCell11,this);this.$LogicalGridCell12=o(this.$LogicalGridCell12,this);this.$LogicalGridCell13=o(this.$LogicalGridCell13,this);this.$LogicalGridCell14=o(this.$LogicalGridCell14,this);this.$LogicalGridCell15=o(this.$LogicalGridCell15,this);this.$LogicalGridCell16=o(this.$LogicalGridCell16,this);this.$LogicalGridCell17=o(this.$LogicalGridCell17,this);this.$LogicalGridCell18=o(this.$LogicalGridCell18,this);this.$LogicalGridCell19=o(this.$LogicalGridCell19,this);this.$LogicalGridCell20=o(this.$LogicalGridCell20,this);this.$LogicalGridCell21=o(this.$LogicalGridCell21,this);this.$LogicalGridCell22=o(this.$LogicalGridCell22,this)}p.prototype.render=function(){__p&&__p();var q,r=this;"use strict";var s=this.context,t=s.logicalGridController,u=s.logicalGridRowIndex,v=s.logicalGridIsColumnHeader,w=this.props,x=w.children,y=w.columnIndex,z=w.component,A=w.isRowHeader,B={className:c("joinClasses")(z.props.className,this.props.className)};if(n()&&t&&u!=null)(function(){__p&&__p();var C=z.props,D=C.onClick,E=D===undefined?c("emptyFunction"):D,F=C.onFocus,G=F===undefined?c("emptyFunction"):F,H=C.onKeyPress,I=H===undefined?c("emptyFunction"):H,J=C.onMouseDown,K=J===undefined?c("emptyFunction"):J,L=C.ref,M=L===undefined?c("emptyFunction"):L;B={"aria-colindex":y!=null&&y>-1?y+1:null,className:c("joinClasses")(B.className,"_4f7k"),role:v?"columnheader":A?"rowheader":"gridcell",onClick:function(event){E(event);this.$LogicalGridCell15(event)}.bind(r),onFocus:function(event){G(event);this.$LogicalGridCell16(event)}.bind(r),onKeyPress:function(event){I(event);this.$LogicalGridCell17(event)}.bind(r),onMouseDown:function(event){K(event);this.$LogicalGridCell18(event)}.bind(r),ref:function(N){M(N);this.$LogicalGridCell22(N)}.bind(r),tabIndex:-1}})();return c("React").cloneElement(z,B,x)};p.prototype.componentWillMount=function(){"use strict";this.$LogicalGridCell5()};p.prototype.componentDidMount=function(){"use strict";if(!this.context.logicalGridIsInvisible)this.$LogicalGridCell21(this.context.logicalGridRowIndex,this.props.columnIndex,this.props.disableFocusRecovery)};p.prototype.componentWillReceiveProps=function(q,r){"use strict";__p&&__p();var s=this.context.logicalGridRowIndex,t=this.props,u=t.columnIndex,v=t.focusStrategy,w=t.disableFocusRecovery,x=t.isRowHeader,y=t.isTabbable;if(v!==q.focusStrategy){this.$LogicalGridCell1.destroy();var z=r||{},A=z.logicalGridIsCompositeWidget,B=z.logicalGridOnActivedescendant;this.$LogicalGridCell1=new q.focusStrategy(A,B);this.$LogicalGridCell1.update()}var C=r&&r.logicalGridRowIndex,D=q.disableFocusRecovery,E=q.columnIndex,F=q.isRowHeader,G=q.isTabbable;if(s!==C||u!==E||w!==D||x!==F||y!==G)this.$LogicalGridCell20(s,u)};p.prototype.componentWillUpdate=function(q,r,s){"use strict";if(!s||!s.logicalGridIsInvisible)this.$LogicalGridCell21(s&&s.logicalGridRowIndex,q.columnIndex,q.disableFocusRecovery)};p.prototype.componentDidUpdate=function(){"use strict";this.$LogicalGridCell1.update();this.$LogicalGridCell7()};p.prototype.componentWillUnmount=function(){"use strict";var q=this.context.logicalGridRowIndex,r=this.props.columnIndex;this.$LogicalGridCell4.release();this.$LogicalGridCell1.destroy();this.$LogicalGridCell6(q,r)};p.contextTypes={logicalGridController:m.instanceOf(c("LogicalGridController")),logicalGridRowIndex:m.number,logicalGridIsColumnHeader:m.bool,logicalGridIsCompositeWidget:m.bool,logicalGridIsInvisible:m.bool,logicalGridOnActivedescendant:m.func};p.propTypes={columnIndex:m.number,disableFocusRecovery:m.bool,focusStrategy:m.func,component:m.element,isRowHeader:m.bool,isTabbable:m.bool};p.defaultProps={disableFocusRecovery:false,focusStrategy:c("LogicalGridItemFocusStrategy"),component:c("React").createElement("span"),isRowHeader:false,isTabbable:false};f.exports=p}),null);
__d("LogicalGridRow.react",["invariant","cx","LogicalGridController","LogicalGridGKCheck","React","SubscriptionsHandler","joinClasses"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=c("React").Component,m=c("React").PropTypes,n=c("LogicalGridGKCheck").passed,o=c("LogicalGridGKCheck").decorator;j=babelHelpers.inherits(p,l);k=j&&j.prototype;function p(q,r){"use strict";__p&&__p();k.constructor.call(this,q);this.$LogicalGridRow3=function(){var s=this.context.logicalGridController;if(s)this.$LogicalGridRow2.addSubscriptions(s.addListener("cellDelete",this.$LogicalGridRow6))}.bind(this);this.$LogicalGridRow5=function(){if(this.$LogicalGridRow1)this.forceUpdate()}.bind(this);this.$LogicalGridRow8=function(s){var t=this.context.logicalGridController;if(t&&!(s==null))t.putRow(s)}.bind(this);this.$LogicalGridRow7=function(s){var t=this.context.logicalGridController;if(t&&s!=null)t.purgeRow(s)}.bind(this);this.$LogicalGridRow4=function(s){var t=this.context.logicalGridController;if(t&&s!=null)t.deleteRow(s)}.bind(this);this.$LogicalGridRow6=function(s,t,u,v){var w=this.props.rowIndex,x=w!=null&&s.get(w),y=v[0],z=v[1];if(x&&w===y&&z&&u===x.get(z))this.$LogicalGridRow5()}.bind(this);this.$LogicalGridRow1=false;this.$LogicalGridRow2=new(c("SubscriptionsHandler"))();this.$LogicalGridRow3=o(this.$LogicalGridRow3,this);this.$LogicalGridRow4=o(this.$LogicalGridRow4,this);this.$LogicalGridRow5=o(this.$LogicalGridRow5,this);this.$LogicalGridRow6=o(this.$LogicalGridRow6,this);this.$LogicalGridRow7=o(this.$LogicalGridRow7,this);this.$LogicalGridRow8=o(this.$LogicalGridRow8,this)}p.prototype.getChildContext=function(){"use strict";return{logicalGridRowIndex:this.props.rowIndex,logicalGridIsColumnHeader:this.props.isColumnHeader,logicalGridIsInvisible:this.props.isInvisible}};p.prototype.render=function(){"use strict";var q=this.context.logicalGridController,r=this.props,s=r.children,t=r.className,u=r.component,v=r.isInvisible,w=r.rowIndex,x={className:c("joinClasses")(u.props.className,t)};if(n()&&q)x={"aria-rowindex":w!=null&&w>-1?w+1:null,className:c("joinClasses")(x.className,v?"accessible_elem":""),role:"row",tabIndex:-1};else if(v)return null;return c("React").cloneElement(u,x,s)};p.prototype.componentWillMount=function(){"use strict";this.$LogicalGridRow3()};p.prototype.componentDidMount=function(){"use strict";this.$LogicalGridRow1=true;if(!this.props.isInvisible)this.$LogicalGridRow8(this.props.rowIndex)};p.prototype.componentWillReceiveProps=function(q,r){"use strict";var s=this.props.rowIndex;if(s!==q.rowIndex)this.$LogicalGridRow7(s)};p.prototype.componentWillUpdate=function(q){"use strict";if(!q.isInvisible)this.$LogicalGridRow8(q.rowIndex)};p.prototype.componentWillUnmount=function(){"use strict";this.$LogicalGridRow1=false;this.$LogicalGridRow4(this.props.rowIndex);this.$LogicalGridRow2.release()};p.contextTypes={logicalGridController:m.instanceOf(c("LogicalGridController"))};p.childContextTypes={logicalGridRowIndex:m.number,logicalGridIsColumnHeader:m.bool,logicalGridIsInvisible:m.bool};p.propTypes={rowIndex:m.number,component:m.element,isColumnHeader:m.bool,isInvisible:m.bool};p.defaultProps={component:c("React").createElement("div"),isColumnHeader:false,isInvisible:false};f.exports=p}),null);
__d("LogicalGridCellFocusStrategy",["Focus","LogicalGridFocusStrategyBase"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("LogicalGridFocusStrategyBase"));i=h&&h.prototype;j.prototype.focus=function(){"use strict";i.focus.call(this,this.root);if(this.isCompositeWidget&&this.root)this.activateDescendant(this.root);else c("Focus").set(this.root)};function j(){"use strict";h.apply(this,arguments)}f.exports=j}),null);
__d("fileSliceName",["UserAgent_DEPRECATED"],(function a(b,c,d,e,f,g){__p&&__p();var h="slice",i;if(i=c("UserAgent_DEPRECATED").chrome()){if(i<21)h="webkitSlice"}else if(i=c("UserAgent_DEPRECATED").firefox()){if(i<13)h="mozSlice"}else if(!(i=c("UserAgent_DEPRECATED").safari()))if(c("UserAgent_DEPRECATED").webkit())h="webkitSlice";f.exports=h}),null);
__d("FileHasher",["WebWorker","fileSliceName","emptyFunction","FileHashWorkerResource"],(function a(b,c,d,e,f,g){__p&&__p();h.isSupported=function(){"use strict";return c("WebWorker").isSupported()};function h(){"use strict";var i=c("FileHashWorkerResource");c("WebWorker").prepareResource(i);this.$FileHasher1=new(c("WebWorker"))(i).setMessageHandler(function(j){this.$FileHasher2(j)}.bind(this)).execute()}h.prototype.hash=function(i,j){"use strict";this.$FileHasher2=j;this.$FileHasher1.postMessage({file:i,fileSliceName:c("fileSliceName")});return this};h.prototype.destroy=function(){"use strict";this.$FileHasher2=c("emptyFunction");this.$FileHasher1.terminate()};f.exports=h}),null);
__d("ErrorDialog",["Dialog","emptyFunction"],(function a(b,c,d,e,f,g){var h={showAsyncError:function i(j){try{return h.show(j.getErrorSummary(),j.getErrorDescription())}catch(k){alert(j)}},show:function i(j,k,l,m){return new(c("Dialog"))().setTitle(j).setBody(k).setButtons([c("Dialog").OK]).setStackable(true).setModal(true).setHandler(l||c("emptyFunction")).setButtonsMessage(m||"").show()}};f.exports=h}),null);
__d("fileSlice",["fileSliceName"],(function a(b,c,d,e,f,g){var h=b.File&&b.File.prototype[c("fileSliceName")];if(!h)h=b.Blob&&b.Blob.prototype[c("fileSliceName")];f.exports=h}),null);
__d("PagesComposerBoostedPostsStore",["ReactComposerStoreBase","PagesComposerActionsTypes"],(function a(b,c,d,e,f,g){__p&&__p();var h,i,j={boostedPostConfig:null};h=babelHelpers.inherits(k,c("ReactComposerStoreBase"));i=h&&h.prototype;function k(){"use strict";__p&&__p();var l;i.constructor.call(this,function(){return Object.assign({},j)},function(m){switch(m.type){case c("PagesComposerActionsTypes").SET_BOOSTED_POST:if(l){var n=l.getComposerData(m.composerID);n.boostedPostConfig=m.data}break}});l=this}k.prototype.getConfig=function(l){"use strict";return this.getComposerData(l).boostedPostConfig};f.exports=new k()}),null);
__d("PhotoEditorSaveStates",["requireWeak","Map"],(function a(b,c,d,e,f,g){__p&&__p();var h;c("requireWeak")("PhotoEditorGraphic",function(l){h=l.Sticker});var i=new(c("Map"))(),j=new(c("Map"))(),k={setState:function l(m,n){i.set(m,n)},getState:function l(m){return i.get(m)},setLoggingData:function l(m,n){j.set(m,n)},getLoggingData:function l(m){return j.get(m)},getTotalNumOfStickersOnPhoto:function l(m){if(i.get(m))return i.get(m).graphics.filter(function(n){return h&&n.type===h}).length;return 0}};f.exports=k}),null);
__d("ReactComposerAttachmentInitState",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){f.exports=c("keyMirrorRecursive")({UNINITIALIZED:null,INITIALIZING:null,INITIALIZED:null},"ReactComposerAttachmentInitState")}),null);
__d("ReactComposerAttachmentStore",["ImmutableObject","ReactComposerAttachmentActionType","ReactComposerAttachmentInitState","ReactComposerAttachmentType","ReactComposerFocusActionTypes","ReactComposerStoreBaseGatedModule","performanceAbsoluteNow"],(function a(b,c,d,e,f,g){__p&&__p();var h,i,j=c("ReactComposerStoreBaseGatedModule").module;h=babelHelpers.inherits(k,j);i=h&&h.prototype;function k(){"use strict";__p&&__p();var l=void 0;i.constructor.call(this,function(){return{attachments:[],selectedAttachment:null,isSelectedAttachmentActive:false,proxiedAttachment:null}},function(m){__p&&__p();switch(m.type){case c("ReactComposerAttachmentActionType").REGISTER_ATTACHMENT:l&&l.$ReactComposerAttachmentStore1(m);break;case c("ReactComposerAttachmentActionType").SELECT_ATTACHMENT:l&&l.$ReactComposerAttachmentStore2(m);break;case c("ReactComposerAttachmentActionType").SET_ATTACHMENT_MARKUP:l&&l.$ReactComposerAttachmentStore3(m);break;case c("ReactComposerAttachmentActionType").SET_BOOTLOADED:l&&l.$ReactComposerAttachmentStore4(m);break;case c("ReactComposerAttachmentActionType").SET_BOOTSTRAPPED:l&&l.$ReactComposerAttachmentStore5(m);break;case c("ReactComposerAttachmentActionType").SET_INITIALIZED:l&&l.$ReactComposerAttachmentStore6(m);break;case c("ReactComposerFocusActionTypes").FOCUS_LOST:l&&l.$ReactComposerAttachmentStore7(m);break}});l=this}k.prototype.getAttachment=function(l,m){"use strict";var n=this.getComposerData(l);return n.attachments.find(function(o){return o.id===m})};k.prototype.getSelectedAttachmentID=function(l){"use strict";var m=this.getComposerData(l);if(m.selectedAttachment)return m.selectedAttachment.id;return null};k.prototype.getProxiedAttachmentID=function(l){"use strict";var m=this.getComposerData(l);if(m.proxiedAttachment)return m.proxiedAttachment.id;return null};k.prototype.hasAttachment=function(l,m){"use strict";return this.getComposerData(l).attachments.some(function(n){return n.id===m})};k.prototype.getIsAttachmentSelected=function(l,m){"use strict";var n=this.getComposerData(l).selectedAttachment;return!!n&&n.id===m};k.prototype.getIsAttachmentSelectedOrProxied=function(l,m){"use strict";if(this.getIsAttachmentSelected(l,m))return true;else{var n=this.getComposerData(l).proxiedAttachment;return!!n&&n.id===m}};k.prototype.isSelectedAttachmentActive=function(l){"use strict";return this.getComposerData(l).isSelectedAttachmentActive};k.prototype.isBootstrapped=function(l,m){"use strict";var n=this.getComposerData(l),o=this.$ReactComposerAttachmentStore8(n,m);return n.attachments[o].bootstrapped};k.prototype.getBootloadDuration=function(l,m){"use strict";var n=this.getComposerData(l),o=this.$ReactComposerAttachmentStore8(n,m);return n.attachments[o].bootloadDuration};k.prototype.getBootstrapDuration=function(l,m){"use strict";var n=this.getComposerData(l),o=this.$ReactComposerAttachmentStore8(n,m);return n.attachments[o].bootstrapDuration};k.prototype.getAttachmentMarkup=function(l,m){"use strict";var n=this.getComposerData(l),o=this.$ReactComposerAttachmentStore8(n,m);return n.attachments[o].markup};k.prototype.getAttachmentsConfig=function(l,m){"use strict";var n=this.getComposerData(l),o=this.$ReactComposerAttachmentStore8(n,m);return n.attachments[o].config};k.prototype.$ReactComposerAttachmentStore1=function(l){"use strict";var m=this.validateAction(l,["composerID","id"]),n=m[0],o=m[1],p=this.getComposerData(n),q=new(c("ImmutableObject"))({id:o,initState:c("ReactComposerAttachmentInitState").UNINITIALIZED,bootloaded:l.bootloaded,bootstrapped:l.bootstrapped,module:l.module,postButtonModule:l.postButtonModule,initTime:null,bootloadDuration:null,bootstrapDuration:null,config:o===c("ReactComposerAttachmentType").MEDIA&&l.config?{videoUploadParams:l.config.videoUploadParams||{}}:null});p.attachments.push(q);if(l.selected)p.selectedAttachment=q;if(l.active)p.isSelectedAttachmentActive=true;this.emitChange(n)};k.prototype.$ReactComposerAttachmentStore9=function(l){"use strict";var m=this.validateAction(l,["id","composerID"]),n=m[0],o=m[1],p=this.getComposerData(o),q=this.$ReactComposerAttachmentStore8(p,n);if(p.attachments[q].initState===c("ReactComposerAttachmentInitState").UNINITIALIZED)p.attachments[q]=c("ImmutableObject").set(p.attachments[q],{initState:c("ReactComposerAttachmentInitState").INITIALIZING});this.emitChange(o)};k.prototype.$ReactComposerAttachmentStore2=function(l){"use strict";__p&&__p();var m=this.validateAction(l,["id","composerID","activate"]),n=m[0],o=m[1],p=m[2],q=this.getComposerData(o),r=this.$ReactComposerAttachmentStore8(q,n);q.selectedAttachment=q.attachments[r];q.isSelectedAttachmentActive=p;if(q.attachments[r].initState===c("ReactComposerAttachmentInitState").UNINITIALIZED)q.attachments[r]=c("ImmutableObject").set(q.attachments[r],{initState:c("ReactComposerAttachmentInitState").INITIALIZING});if(l.proxiedAttachmentID){var s=this.$ReactComposerAttachmentStore8(q,l.proxiedAttachmentID);q.proxiedAttachment=q.attachments[s]}else delete q.proxiedAttachment;this.emitChange(o)};k.prototype.$ReactComposerAttachmentStore4=function(l){"use strict";var m=this.validateAction(l,["id","composerID","attachmentModule"]),n=m[0],o=m[1],p=m[2],q=this.getComposerData(o),r=this.$ReactComposerAttachmentStore8(q,n);q.attachments[r]=c("ImmutableObject").set(q.attachments[r],{bootloaded:true,bootloadDuration:c("performanceAbsoluteNow")()-q.attachments[r].initTime,module:p,postButtonModule:l.postButtonModule});this.emitChange(o)};k.prototype.$ReactComposerAttachmentStore5=function(l){"use strict";var m=this.validateAction(l,["id","composerID"]),n=m[0],o=m[1],p=this.getComposerData(o),q=this.$ReactComposerAttachmentStore8(p,n);p.attachments[q]=c("ImmutableObject").set(p.attachments[q],{bootstrapped:true,bootstrapDuration:c("performanceAbsoluteNow")()-p.attachments[q].initTime});this.emitChange(o)};k.prototype.$ReactComposerAttachmentStore3=function(l){"use strict";var m=this.validateAction(l,["composerID","config"]),n=m[0],o=m[1],p=this.getComposerData(n),q=o.attachmentID;if(!q)return;var r=this.$ReactComposerAttachmentStore8(p,q);p.attachments[r]=c("ImmutableObject").set(p.attachments[r],{markup:o.markup});this.emitChange(n)};k.prototype.$ReactComposerAttachmentStore6=function(l){"use strict";var m=this.validateAction(l,["id","composerID"]),n=m[0],o=m[1],p=this.getComposerData(o),q=this.$ReactComposerAttachmentStore8(p,n);p.attachments[q]=c("ImmutableObject").set(p.attachments[q],{initState:c("ReactComposerAttachmentInitState").INITIALIZED,initTime:c("performanceAbsoluteNow")()});this.emitChange(o)};k.prototype.$ReactComposerAttachmentStore7=function(l){"use strict";var m=this.validateAction(l,"composerID"),n=this.getProxiedAttachmentID(m);n&&this.$ReactComposerAttachmentStore2({composerID:m,id:this.getProxiedAttachmentID(m),activate:false})};k.prototype.$ReactComposerAttachmentStore8=function(l,m){"use strict";__p&&__p();var n=-1;for(var o=0;o<l.attachments.length;o++)if(l.attachments[o].id===m){n=o;break}if(n===-1)throw new Error("Undefined attachment id: "+m);return n};f.exports=new k()}),null);
__d("ReactComposerAttachmentActions",["ReactComposerAttachmentActionType","ReactComposerAttachmentStore","ReactComposerDispatcher"],(function a(b,c,d,e,f,g){__p&&__p();h.prototype.registerAttachment=function(i,j){"use strict";var k=babelHelpers["extends"]({composerID:i,type:c("ReactComposerAttachmentActionType").REGISTER_ATTACHMENT},j);c("ReactComposerDispatcher").dispatch(k)};h.prototype.initializeAttachment=function(i,j){"use strict";var k={composerID:i,type:c("ReactComposerAttachmentActionType").INITIALIZE_ATTACHMENT,id:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.selectAttachment=function(i,j){var k=arguments.length<=2||arguments[2]===undefined?false:arguments[2],l=arguments[3],m=arguments[4],n=arguments[5];"use strict";var o=c("ReactComposerAttachmentStore").getSelectedAttachmentID(i);if(!o)return;var p={composerID:i,type:c("ReactComposerAttachmentActionType").SELECT_ATTACHMENT,id:j,activate:k,loggingName:l,currentAttachmentID:o,proxiedAttachmentID:n,sproutSurface:m};c("ReactComposerDispatcher").dispatch(p)};h.prototype.setInitialized=function(i,j){"use strict";var k={composerID:i,type:c("ReactComposerAttachmentActionType").SET_INITIALIZED,id:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.setBootloaded=function(i,j,k,l){"use strict";var m={composerID:i,type:c("ReactComposerAttachmentActionType").SET_BOOTLOADED,id:j,attachmentModule:k,postButtonModule:l};c("ReactComposerDispatcher").dispatch(m)};h.prototype.setBootstrapped=function(i,j){"use strict";var k={composerID:i,type:c("ReactComposerAttachmentActionType").SET_BOOTSTRAPPED,id:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.setAttachmentMarkup=function(i,j){"use strict";var k={composerID:i,type:c("ReactComposerAttachmentActionType").SET_ATTACHMENT_MARKUP,config:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.changeUploadStatus=function(i,j){"use strict";var k={composerID:i,type:c("ReactComposerAttachmentActionType").UPLOAD_ATTACHMENT,uploading:j};c("ReactComposerDispatcher").dispatch(k)};function h(){"use strict"}f.exports=new h()}),null);
__d("ReactComposerAlbumActionType",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){f.exports=c("keyMirrorRecursive")({CREATE_ALBUM_CLICKED:null},"ReactComposerAlbumActionType")}),null);
__d("ReactComposerAudienceActionTypes",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){f.exports=c("keyMirrorRecursive")({SET_AUDIENCE:null,SET_AUDIENCE_ELEMENT:null,SET_AUDIENCE_INSTANCE:null,SET_PRIVACYX_NULL_DANGEROUS:null,SET_COLLECTION:null},"ReactComposerAudienceActionTypes")}),null);
__d("ReactComposerAudienceStore",["csx","invariant","DOM","ReactComposerActionStore","ReactComposerAudienceActionTypes","$"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k;j=babelHelpers.inherits(l,c("ReactComposerActionStore"));k=j&&j.prototype;function l(){"use strict";__p&&__p();var m=void 0;k.constructor.call(this,function(){return{audience:null,audienceElement:null,audienceInstance:null,legacyAudience:null,privacyxNullDangerous:false,collectionID:null,privacyLabel:null}},function(n){__p&&__p();switch(n.type){case c("ReactComposerAudienceActionTypes").SET_AUDIENCE:m&&m.$ReactComposerAudienceStore1(n);break;case c("ReactComposerAudienceActionTypes").SET_AUDIENCE_ELEMENT:m&&m.$ReactComposerAudienceStore2(n);break;case c("ReactComposerAudienceActionTypes").SET_AUDIENCE_INSTANCE:m&&m.$ReactComposerAudienceStore3(n);break;case c("ReactComposerAudienceActionTypes").SET_PRIVACYX_NULL_DANGEROUS:m&&m.$ReactComposerAudienceStore4(n);break;case c("ReactComposerAudienceActionTypes").SET_COLLECTION:m&&m.$ReactComposerAudienceStore5(n);break}});m=this}l.prototype.getAudience=function(m){"use strict";__p&&__p();if(this.getPrivacyxNullDangerous(m))return null;try{var n=c("DOM").scry(c("$")(m),"._5dd8");n.length<2||i(0);var o=n[0];if(o){var p=c("DOM").scry(o,'input[name="privacyx"]');p.length<2||i(0);if(p.length===1)return p[0].value}}catch(q){}return this.getComposerData(m).audience};l.prototype.getLegacyAudience=function(m){"use strict";return this.getComposerData(m).legacyAudience};l.prototype.getAudienceElement=function(m){"use strict";return this.getComposerData(m).audienceElement};l.prototype.getAudienceInstance=function(m){"use strict";return this.getComposerData(m).audienceInstance};l.prototype.getPrivacyxNullDangerous=function(m){"use strict";return this.getComposerData(m).privacyxNullDangerous};l.prototype.getCollectionID=function(m){"use strict";return this.getComposerData(m).collectionID};l.prototype.getPrivacyLabel=function(m){"use strict";return this.getComposerData(m).privacyLabel};l.prototype.$ReactComposerAudienceStore1=function(m){"use strict";var n=this.validateAction(m,"composerID"),o=this.getComposerData(n);o.audience=m.audience;o.legacyAudience=m.legacyAudience;this.emitChange(n)};l.prototype.$ReactComposerAudienceStore2=function(m){"use strict";var n=this.validateAction(m,["composerID","audienceElement"]),o=n[0],p=n[1],q=this.getComposerData(o);q.audienceElement=p;this.emitChange(o)};l.prototype.$ReactComposerAudienceStore3=function(m){"use strict";var n=this.validateAction(m,"composerID"),o=this.getComposerData(n);o.audienceInstance=m.audienceInstance;this.emitChange(n)};l.prototype.$ReactComposerAudienceStore4=function(m){"use strict";var n=this.validateAction(m,"composerID"),o=this.getComposerData(n);o.privacyxNullDangerous=m.privacyxNullDangerous;this.emitChange(n)};l.prototype.$ReactComposerAudienceStore5=function(m){"use strict";var n=this.validateAction(m,["composerID","collectionID"]),o=n[0],p=n[1],q=this.getComposerData(o);q.collectionID=p;q.privacyLabel=m.privacyLabel;this.emitChange(o)};f.exports=new l()}),null);
__d("ReactComposerMediaUploadActionType",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){f.exports=c("keyMirrorRecursive")({PHOTO_UPLOAD_ENQUEUED:null,PHOTO_UPLOAD_RESIZE_STARTED:null,PHOTO_UPLOAD_RESIZE_PROGRESS:null,PHOTO_UPLOAD_RESIZE_DONE:null,PHOTO_UPLOAD_RESIZE_FAILED:null,PHOTO_UPLOAD_RESIZER_UNAVAILABLE:null,PHOTO_UPLOAD_UPLOADING:null,PHOTO_UPLOAD_IS_SPHERICAL:null,PHOTO_UPLOAD_DONE:null,PHOTO_UPLOAD_FAILED:null,PHOTO_UPLOAD_RETRY:null,PHOTO_UPLOAD_EXTRA_DONE:null,PHOTOS_SELECT:null,PHOTO_ADD_UPLOAD:null,PHOTO_SET_THUMBNAIL:null,SPHERICAL_PHOTO_CHECK_DONE:null,SPHERICAL_PHOTO_CHECK_FAILED:null,VIDEO_UPLOAD_ENQUEUED:null,VIDEO_UPLOAD_METADATA_PARSED:null,VIDEO_UPLOAD_UPLOADING:null,VIDEO_UPLOAD_DONE:null,VIDEO_UPLOAD_FAILED:null,VIDEO_UPLOAD_RETRY:null,VIDEO_SET_THUMBNAIL:null,VIDEO_SET_UPLOADER:null,VIDEOS_HIDDEN:null,VIDEOS_SHOWN:null,MEDIA_UPLOAD_MOVED:null,MEDIA_UPLOAD_REMOVE:null,MEDIA_UPLOAD_PROGRESS:null,MEDIA_UPLOAD_INPUT_CLICKED:null,MEDIA_UPLOAD_INPUT_DONE:null,PREFILL_MEDIAS:null,REORDER_MEDIAS:null},"ReactComposerMediaUploadActionType")}),null);
__d("ReactComposerPhotoActionType",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){f.exports=c("keyMirrorRecursive")({PHOTO_RECOGNITION_STARTED:null,PHOTO_RECOGNITION_FINISHED:null,PHOTO_RECOGNITION_ALL_FINISHED:null,PHOTO_ADD_FACEBOX:null,PHOTO_TAG_FACEBOX:null,PHOTO_TAG_XY:null,PHOTO_TAG_XY_PRODUCT:null,PHOTO_UNTAG_FACEBOX:null,PHOTO_REMOVE:null,PHOTO_UNTAG_SUBJECT_FROM_ALL_PHOTOS:null,PHOTO_EDIT_STARTED:null,PHOTO_EDIT_FINISHED:null,PHOTO_SET_BEING_TAGGED:null,PHOTO_LOADING_EDIT_FINISHED:null,PHOTO_UNTAG_ALL:null,PHOTO_SPHERICAL_UPDATING:null,PHOTO_UPDATE_ALL_PHOTO_TAGS:null},"ReactComposerPhotoActionType")}),null);
__d("ReactComposerPhotoStore",["immutable","ReactComposerMediaUploadActionType","ReactComposerPhotoActionType","ReactComposerStoreBase"],(function a(b,c,d,e,f,g){__p&&__p();var h,i,j=c("immutable").Record({cubestripURI:null,faceboxes:c("immutable").Map(),height:null,id:null,imageSrc:null,isLoadingPhotoEdit:false,isRecognizingFaceboxes:false,thumbSrc:null,uploadID:null,width:null,xyTags:c("immutable").Map()}),k=c("immutable").Record({id:null,photoID:null,x:null,y:null,top:null,left:null,width:null,height:null,croppedURI:null,taggedSubjectID:null,taggedValue:null,isMagicTag:false,recognizedSubjectID:null}),l=c("immutable").Record({from_facebox:false,name:null,photoID:null,source:null,subject:null,x:null,y:null,is_product_tag:false});h=babelHelpers.inherits(m,c("ReactComposerStoreBase"));i=h&&h.prototype;function m(){"use strict";__p&&__p();var n=void 0;i.constructor.call(this,function(){return{photos:c("immutable").Map(),photoBeingTagged:null,isSphericalPhotoUpdating:false}},function(o){__p&&__p();switch(o.type){case c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_DONE:n&&n.$ReactComposerPhotoStore1(o);break;case c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_EXTRA_DONE:n&&n.$ReactComposerPhotoStore2(o);break;case c("ReactComposerMediaUploadActionType").PHOTO_ADD_UPLOAD:n&&n.$ReactComposerPhotoStore3(o);break;case c("ReactComposerPhotoActionType").PHOTO_RECOGNITION_STARTED:n&&n.$ReactComposerPhotoStore4(o);break;case c("ReactComposerPhotoActionType").PHOTO_RECOGNITION_FINISHED:n&&n.$ReactComposerPhotoStore5(o);break;case c("ReactComposerPhotoActionType").PHOTO_RECOGNITION_ALL_FINISHED:n&&n.$ReactComposerPhotoStore6(o);break;case c("ReactComposerPhotoActionType").PHOTO_ADD_FACEBOX:n&&n.$ReactComposerPhotoStore7(o);break;case c("ReactComposerPhotoActionType").PHOTO_TAG_XY_PRODUCT:n&&n.$ReactComposerPhotoStore8(o);break;case c("ReactComposerPhotoActionType").PHOTO_TAG_XY:n&&n.$ReactComposerPhotoStore9(o);break;case c("ReactComposerPhotoActionType").PHOTO_TAG_FACEBOX:n&&n.$ReactComposerPhotoStore10(o);break;case c("ReactComposerPhotoActionType").PHOTO_UNTAG_FACEBOX:n&&n.$ReactComposerPhotoStore11(o);break;case c("ReactComposerPhotoActionType").PHOTO_REMOVE:n&&n.$ReactComposerPhotoStore12(o);break;case c("ReactComposerPhotoActionType").PHOTO_UNTAG_SUBJECT_FROM_ALL_PHOTOS:n&&n.$ReactComposerPhotoStore13(o);break;case c("ReactComposerPhotoActionType").PHOTO_SET_BEING_TAGGED:n&&n.$ReactComposerPhotoStore14(o);break;case c("ReactComposerMediaUploadActionType").PREFILL_MEDIAS:n&&n.$ReactComposerPhotoStore15(o);break;case c("ReactComposerPhotoActionType").PHOTO_EDIT_STARTED:n&&n.$ReactComposerPhotoStore16(o);break;case c("ReactComposerPhotoActionType").PHOTO_LOADING_EDIT_FINISHED:n&&n.$ReactComposerPhotoStore17(o);break;case c("ReactComposerPhotoActionType").PHOTO_UNTAG_ALL:n&&n.$ReactComposerPhotoStore18(o);break;case c("ReactComposerPhotoActionType").PHOTO_SPHERICAL_UPDATING:n&&n.$ReactComposerPhotoStore19(o);break;case c("ReactComposerPhotoActionType").PHOTO_UPDATE_ALL_PHOTO_TAGS:n&&n.$ReactComposerPhotoStore20(o);break;default:}});n=this}m.prototype.getPhotos=function(n){"use strict";return this.getComposerData(n).photos};m.prototype.isLimitExceeded=function(n,o){"use strict";return this.getPhotos(n).size>o};m.prototype.getPhoto=function(n,o){"use strict";return this.getComposerData(n).photos.get(o)};m.prototype.isRecognizing=function(n){"use strict";return this.getComposerData(n).photos.some(function(o){return o.isRecognizingFaceboxes})};m.prototype.getIsSubjectTagged=function(n,o){"use strict";var p=this.getComposerData(n).photos;return p.some(function(q){return this.getIsSubjectTaggedInPhoto(n,q.id,o)}.bind(this))};m.prototype.getIsSubjectTaggedInPhoto=function(n,o,p){"use strict";var q=this.getPhoto(n,o),r=q.faceboxes.some(function(t){return t.taggedSubjectID===p}),s=q.xyTags.some(function(t){return t.subject===p});return r||s};m.prototype.hasTagsInPhoto=function(n,o){"use strict";var p=this.getPhoto(n,o);if(!p)return false;var q=p.faceboxes.some(function(s){return s.taggedSubjectID!==null}),r=p.xyTags.size>0;return q||r};m.prototype.getAllTaggedFaceboxes=function(n){"use strict";var o=this.getPhotos(n),p=[];o.forEach(function(q){p=p.concat(q.faceboxes.toArray())});return p.filter(function(q){return!!q.get("taggedSubjectID")})};m.prototype.getTaggedFaceboxes=function(n,o){"use strict";var p=this.getPhoto(n,o);return!p?null:p.faceboxes.filter(function(q){return!!q.get("taggedSubjectID")}).map(function(q){return q.toObject()}).toArray()};m.prototype.getFaceboxes=function(n,o){"use strict";var p=this.getPhoto(n,o);return!p?null:p.faceboxes.map(function(q){return q.toObject()}).toArray()};m.prototype.getXYTags=function(n,o){"use strict";var p=this.getPhoto(n,o);return!p?null:p.xyTags.map(function(q){return q.toObject()}).toArray()};m.prototype.getAllXYTags=function(n){"use strict";var o=this.getPhotos(n),p=[];o.forEach(function(q){p=p.concat(q.xyTags.toArray())});return p};m.prototype.getPhotoBeingTagged=function(n){"use strict";return this.getComposerData(n).photoBeingTagged};m.prototype.isSphericalPhotoUpdating=function(n){"use strict";return this.getComposerData(n).isSphericalPhotoUpdating};m.prototype.$ReactComposerPhotoStore1=function(n){"use strict";var o=this.validateAction(n,["composerID","uploadID","photoID","thumbSrc","cubestripURI","imageSrc","width","height"]),p=o[0],q=o[1],r=o[2],s=o[3],t=o[4],u=o[5],v=o[6],w=o[7];this.$ReactComposerPhotoStore21(p,r,new j({id:r,uploadID:q,thumbSrc:s,cubestripURI:t,imageSrc:u,width:v,height:w}));this.emitChange(p)};m.prototype.$ReactComposerPhotoStore2=function(n){"use strict";this.$ReactComposerPhotoStore1(n)};m.prototype.$ReactComposerPhotoStore4=function(n){"use strict";var o=this.validateAction(n,["composerID","photoID"]),p=o[0],q=o[1],r=this.getComposerData(p);r.photos=r.photos.update(q,function(s){return s.set("isRecognizingFaceboxes",true)});this.emitChange(p)};m.prototype.$ReactComposerPhotoStore5=function(n){"use strict";var o=this.validateAction(n,["composerID","photoID"]),p=o[0],q=o[1],r=this.getComposerData(p);r.photos=r.photos.update(q,function(s){return s&&s.set("isRecognizingFaceboxes",false)});this.emitChange(p)};m.prototype.$ReactComposerPhotoStore6=function(n){"use strict";var o=this.validateAction(n,["composerID","photos"]),p=o[0],q=o[1],r=this.getComposerData(p);r.photos=r.photos.map(function(s){return q.indexOf(s.id)!==-1?s.set("isRecognizingFaceboxes",false):s});this.emitChange(p)};m.prototype.$ReactComposerPhotoStore7=function(n){"use strict";__p&&__p();var o=this.validateAction(n,["composerID","photoID","facebox"]),p=o[0],q=o[1],r=o[2],s=this.getComposerData(p),t=r.bestRecognition,u=null,v=null;if(t){u=t.subjectID;v=t.value}s.photos=s.photos.update(q,function(w){return w&&w.update("faceboxes",function(x){return x.set(r.id,new k({id:r.id,photoID:q,x:r.x,y:r.y,top:r.top,left:r.left,width:r.width,height:r.height,croppedURI:r.croppedURI,taggedSubjectID:u,taggedValue:v,isMagicTag:!!u,recognizedSubjectID:u}))})});this.emitChange(p)};m.prototype.$ReactComposerPhotoStore9=function(n){"use strict";var o=this.validateAction(n,["composerID","value","photoID","source","subject","x","y"]),p=o[0],q=o[1],r=o[2],s=o[3],t=o[4],u=o[5],v=o[6],w=this.getComposerData(p);w.photos=w.photos.update(r,function(x){return x.update("xyTags",function(y){return y.set(t,new l({name:q,photoID:r,source:s,subject:t,x:u,y:v}))})});this.emitChange(p)};m.prototype.$ReactComposerPhotoStore8=function(n){"use strict";var o=this.validateAction(n,["composerID","value","photoID","source","subject","x","y"]),p=o[0],q=o[1],r=o[2],s=o[3],t=o[4],u=o[5],v=o[6],w=this.getComposerData(p);w.photos=w.photos.update(r,function(x){return x.update("xyTags",function(y){return y.set(t,new l({name:q,photoID:r,source:s,subject:t,x:u,y:v,is_product_tag:true}))})});this.emitChange(p)};m.prototype.$ReactComposerPhotoStore10=function(n){"use strict";var o=this.validateAction(n,["composerID","photoID","faceboxID","subjectID","value"]),p=o[0],q=o[1],r=o[2],s=o[3],t=o[4],u=this.getComposerData(p);u.photos=u.photos.update(q,function(v){return v.update("faceboxes",function(w){return w.update(r,function(x){return x.withMutations(function(y){return y.set("taggedSubjectID",s).set("taggedValue",t).set("isMagicTag",false)})})})});this.emitChange(p)};m.prototype.$ReactComposerPhotoStore18=function(n){"use strict";var o=this.validateAction(n,["composerID","photoID"]),p=o[0],q=o[1],r=this.getComposerData(p);r.photos=r.photos.update(q,function(s){s=s.set("xyTags",c("immutable").Map());return s});this.emitChange(p)};m.prototype.$ReactComposerPhotoStore11=function(n){"use strict";var o=this.validateAction(n,["composerID","photoID","faceboxID"]),p=o[0],q=o[1],r=o[2],s=this.getComposerData(p);s.photos=s.photos.update(q,function(t){return t.update("faceboxes",function(u){return u.update(r,function(v){return v.withMutations(function(w){return w.remove("taggedSubjectID").remove("taggedValue").set("isMagicTag",false)})})})});this.emitChange(p)};m.prototype.$ReactComposerPhotoStore12=function(n){"use strict";var o=this.validateAction(n,["composerID","photoID"]),p=o[0],q=o[1],r=this.getComposerData(p);r.photos=r.photos["delete"](q)};m.prototype.$ReactComposerPhotoStore13=function(n){"use strict";__p&&__p();var o=this.validateAction(n,["composerID","subjectID"]),p=o[0],q=o[1],r=this.getComposerData(p);r.photos=r.photos.map(function(s){return s.withMutations(function(t){return t.update("faceboxes",function(u){return u.map(function(v){if(v.taggedSubjectID!==q)return v;return v.withMutations(function(t){return t.remove("taggedSubjectID").remove("taggedValue").set("isMagicTag",false)})})}).update("xyTags",function(u){return u.filterNot(function(v){return v.subject===q})})})});this.emitChange(p)};m.prototype.$ReactComposerPhotoStore14=function(n){"use strict";var o=this.validateAction(n,["composerID","photoID"]),p=o[0],q=o[1],r=this.getComposerData(p);r.photoBeingTagged=q;this.emitChange(p)};m.prototype.$ReactComposerPhotoStore15=function(n){"use strict";var o=this.validateAction(n,["composerID","medias"]),p=o[0],q=o[1];q.forEach(function(r){this.$ReactComposerPhotoStore21(p,r.photoID,new j({id:r.photoID,uploadID:r.uploadID,thumbSrc:r.thumbSrc,imageSrc:r.imageSrc,width:r.width,height:r.height,cubestripURI:r.cubestripURI}))}.bind(this));this.emitChange(p)};m.prototype.$ReactComposerPhotoStore16=function(n){"use strict";var o=this.validateAction(n,["composerID","photoID"]),p=o[0],q=o[1],r=this.getComposerData(p);r.photos=r.photos.update(q,function(s){return s.set("isLoadingPhotoEdit",true)});this.emitChange(p)};m.prototype.$ReactComposerPhotoStore17=function(n){"use strict";var o=this.validateAction(n,["composerID","photoID"]),p=o[0],q=o[1],r=this.getComposerData(p);r.photos=r.photos.update(q,function(s){return s.set("isLoadingPhotoEdit",false)});this.emitChange(p)};m.prototype.$ReactComposerPhotoStore3=function(n){"use strict";var o=this.validateAction(n,["composerID","photo"]),p=o[0],q=o[1];this.$ReactComposerPhotoStore21(p,q.id,q);this.emitChange(p)};m.prototype.$ReactComposerPhotoStore19=function(n){"use strict";var o=this.validateAction(n,["composerID","isSphericalPhotoUpdating"]),p=o[0],q=o[1],r=this.getComposerData(p);r.isSphericalPhotoUpdating=q;this.emitChange(p)};m.prototype.$ReactComposerPhotoStore20=function(n){"use strict";__p&&__p();var o=this.validateAction(n,["composerID","photoID","faceboxes","xyTags"]),p=o[0],q=o[1],r=o[2],s=o[3],t=this.getComposerData(p),u={};r.forEach(function(w){u[w.id]=new k(w)});var v={};s.forEach(function(w){v[w.subject]=new l(w)});t.photos=t.photos.update(q,function(w){return w&&w.set("faceboxes",c("immutable").Map(u)).set("xyTags",c("immutable").Map(v))});this.emitChange(p)};m.prototype.$ReactComposerPhotoStore21=function(n,o,p){"use strict";var q=this.getComposerData(n);q.photos=q.photos.set(o,p)};f.exports=new m()}),null);
__d("ReactComposerPhotoActions",["ReactComposerDispatcher","ReactComposerPhotoActionType","ReactComposerPhotoStore"],(function a(b,c,d,e,f,g){__p&&__p();c("ReactComposerPhotoStore");var h={startRecognizing:function i(j,k){c("ReactComposerDispatcher").dispatch({composerID:j,photoID:k,type:c("ReactComposerPhotoActionType").PHOTO_RECOGNITION_STARTED})},finishRecognizingPhoto:function i(j,k){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerPhotoActionType").PHOTO_RECOGNITION_FINISHED,photoID:k})},finishRecognizing:function i(j,k,l){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerPhotoActionType").PHOTO_RECOGNITION_ALL_FINISHED,photos:k,facerecWaterfallEvent:l})},addFacebox:function i(j,k,l){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerPhotoActionType").PHOTO_ADD_FACEBOX,photoID:k,facebox:l})},tagXY:function i(j,k,l,m,n,o,p){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerPhotoActionType").PHOTO_TAG_XY,value:l,photoID:k,source:m,subject:n,x:o,y:p})},tagXYProduct:function i(j,k,l,m,n,o,p){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerPhotoActionType").PHOTO_TAG_XY_PRODUCT,value:l,photoID:k,source:m,subject:n,x:o,y:p})},tagFacebox:function i(j,k,l,m,n){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerPhotoActionType").PHOTO_TAG_FACEBOX,photoID:k,faceboxID:l,subjectID:m,value:n})},untagFacebox:function i(j,k,l,m){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerPhotoActionType").PHOTO_UNTAG_FACEBOX,photoID:k,faceboxID:l,subjectID:m})},removePhoto:function i(j,k,l){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerPhotoActionType").PHOTO_REMOVE,photoID:k,uploadID:l})},untagSubjectFromAllPhotos:function i(j,k){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerPhotoActionType").PHOTO_UNTAG_SUBJECT_FROM_ALL_PHOTOS,subjectID:k})},untagAllForPhoto:function i(j,k){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerPhotoActionType").PHOTO_UNTAG_ALL,photoID:k})},startPhotoEdit:function i(j,k){c("ReactComposerDispatcher").dispatch({composerID:j,photoID:k,type:c("ReactComposerPhotoActionType").PHOTO_EDIT_STARTED})},finishPhotoEdit:function i(j){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerPhotoActionType").PHOTO_EDIT_FINISHED})},setPhotoBeingTagged:function i(j,k){c("ReactComposerDispatcher").dispatch({composerID:j,photoID:k,type:c("ReactComposerPhotoActionType").PHOTO_SET_BEING_TAGGED})},finishLoadingPhotoEdit:function i(j,k){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerPhotoActionType").PHOTO_LOADING_EDIT_FINISHED,photoID:k})},changeSphericalPhotoUpdateStatus:function i(j,k){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerPhotoActionType").PHOTO_SPHERICAL_UPDATING,isSphericalPhotoUpdating:k})},updateAllPhotoTags:function i(j,k,l,m){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerPhotoActionType").PHOTO_UPDATE_ALL_PHOTO_TAGS,photoID:k,faceboxes:l,xyTags:m})}};f.exports=h}),null);
__d("ReactComposerPhotoUploadState",[],(function a(b,c,d,e,f,g){f.exports={PHOTO_UPLOAD_ENQUEUED:"PHOTO_UPLOAD_ENQUEUED",PHOTO_UPLOAD_RESIZE_STARTED:"PHOTO_UPLOAD_RESIZE_STARTED",PHOTO_UPLOAD_RESIZE_DONE:"PHOTO_UPLOAD_RESIZE_DONE",PHOTO_UPLOAD_RESIZE_FAILED:"PHOTO_UPLOAD_RESIZE_FAILED",PHOTO_UPLOAD_UPLOADING:"PHOTO_UPLOAD_UPLOADING",PHOTO_UPLOAD_DONE:"PHOTO_UPLOAD_DONE",PHOTO_UPLOAD_FAILED:"PHOTO_UPLOAD_FAILED"}}),null);
__d("ReactComposerMediaUploadActions",["ReactComposerDispatcher","ReactComposerMediaUploadActionType","ReactComposerPhotoActions","ReactComposerPhotoUploadState","ReactComposerMediaUploadStore","ReactComposerPhotoStore"],(function a(b,c,d,e,f,g){__p&&__p();c("ReactComposerMediaUploadStore");c("ReactComposerPhotoStore");var h={enqueue:function i(j,k,l,m,n,o,p){var q=arguments.length<=7||arguments[7]===undefined?[]:arguments[7],r=arguments.length<=8||arguments[8]===undefined?false:arguments[8];c("ReactComposerDispatcher").dispatch({composerID:j,mediaType:o,uploadID:k,type:n,filename:l,fileURL:p?p:"",index:m,xyTags:q,isSpherical:r})},startResizing:function i(j,k,l){c("ReactComposerDispatcher").dispatch({composerID:j,loggingData:l,uploadID:k,type:c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_RESIZE_STARTED})},progressResizing:function i(j,k,l){c("ReactComposerDispatcher").dispatch({composerID:j,uploadID:k,type:c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_RESIZE_PROGRESS,progress:l})},doneResizing:function i(j,k,l){c("ReactComposerDispatcher").dispatch({composerID:j,loggingData:l,uploadID:k,type:c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_RESIZE_DONE})},failResizing:function i(j,k,l){c("ReactComposerDispatcher").dispatch({composerID:j,loggingData:l,uploadID:k,type:c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_RESIZE_FAILED})},doneSphericalCheck:function i(j,k,l,m,n){c("ReactComposerDispatcher").dispatch({composerID:j,loggingData:l,uploadID:k,type:c("ReactComposerMediaUploadActionType").SPHERICAL_PHOTO_CHECK_DONE,sphericalImage:m,useLocalSphericalImage:n})},failSphericalCheck:function i(j,k,l){c("ReactComposerDispatcher").dispatch({composerID:j,loggingData:l,uploadID:k,type:c("ReactComposerMediaUploadActionType").SPHERICAL_PHOTO_CHECK_FAILED})},videoMetadataParsed:function i(j,k,l){c("ReactComposerDispatcher").dispatch({type:c("ReactComposerMediaUploadActionType").VIDEO_UPLOAD_METADATA_PARSED,composerID:j,uploadID:k,metadata:l})},startUploading:function i(j,k,l,m){c("ReactComposerDispatcher").dispatch({composerID:j,uploadID:k,type:m,fileUpload:l})},progressUploading:function i(j,k,l,m,n){c("ReactComposerDispatcher").dispatch({composerID:j,uploadID:k,type:c("ReactComposerMediaUploadActionType").MEDIA_UPLOAD_PROGRESS,progress:l,use_real_progress_percentage:m,use_progress_linearity:n})},isSpherical:function i(j,k,l,m){c("ReactComposerDispatcher").dispatch({composerID:j,uploadID:k,type:c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_IS_SPHERICAL,isSpherical:l,projectionType:m})},doneUploading:function i(j){c("ReactComposerDispatcher").dispatch(j)},doneUploadingExtra:function i(j,k,l,m,n,o,p,q){c("ReactComposerDispatcher").dispatch({type:c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_EXTRA_DONE,composerID:j,uploadID:k,photoID:l,thumbSrc:m,cubestripURI:n,imageSrc:o,width:p,height:q})},failUploading:function i(j,k,l,m,n,o){c("ReactComposerDispatcher").dispatch({composerID:j,uploadID:k,type:o,error:n,fileUpload:l,timeToUpload:m})},removeAllPhotoUploads:function i(j,k){k.forEach(function(l){return this.removePhotoAndPhotoUpload(j,l)}.bind(this))},removePhotoAndPhotoUpload:function i(j,k){if(k.state===c("ReactComposerPhotoUploadState").PHOTO_UPLOAD_DONE)c("ReactComposerPhotoActions").removePhoto(j,k.photoID,k.id);else this.removeMediaUpload(j,k.id)},removeMediaUpload:function i(j,k){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerMediaUploadActionType").MEDIA_UPLOAD_REMOVE,uploadID:k})},mediaMoved:function i(j,k,l){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerMediaUploadActionType").MEDIA_UPLOAD_MOVED,from:k,to:l})},resizerUnavailable:function i(j){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_RESIZER_UNAVAILABLE})},photosSelect:function i(j,k,l){c("ReactComposerDispatcher").dispatch({composerID:j,method:l,numPhotos:k,type:c("ReactComposerMediaUploadActionType").PHOTOS_SELECT})},retryMediaUpload:function i(j,k){c("ReactComposerDispatcher").dispatch({composerID:j,type:k})},reorderMedias:function i(j,k){c("ReactComposerDispatcher").dispatch({composerID:j,mediaIDs:k,type:c("ReactComposerMediaUploadActionType").REORDER_MEDIAS})},prefillMedias:function i(j,k){c("ReactComposerDispatcher").dispatch({composerID:j,medias:k,type:c("ReactComposerMediaUploadActionType").PREFILL_MEDIAS})},setVideoThumbnail:function i(j,k,l){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerMediaUploadActionType").VIDEO_SET_THUMBNAIL,thumbSrc:l,uploadID:k})},addPhotoUpload:function i(j,k,l,m){c("ReactComposerDispatcher").dispatch({type:c("ReactComposerMediaUploadActionType").PHOTO_ADD_UPLOAD,composerID:j,index:k,photo:m,upload:l})},setPhotoThumbnail:function i(j,k,l){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerMediaUploadActionType").PHOTO_SET_THUMBNAIL,thumbSrc:l,uploadID:k})},hideVideos:function i(j){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerMediaUploadActionType").VIDEOS_HIDDEN})},showVideos:function i(j){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerMediaUploadActionType").VIDEOS_SHOWN})}};f.exports=h}),null);
__d("ReactComposerPhotoUpload",["immutable"],(function a(b,c,d,e,f,g){f.exports=c("immutable").Record({error:{},filename:null,fileSize:null,fileUpload:null,fileURL:null,height:null,id:null,mediaType:null,originalPhotoID:null,photoID:null,progress:null,useRealProgressPercentage:false,useProgressLinearity:null,state:null,thumbSrc:null,width:null,xyTags:[],videoMetadata:null,canShowSphericalSingletonNux:false,flatPhotoID:null,sphericalImage:null,isSpherical:false,isSphericalVideo:false,projectionType:null,sphericalPhotoID:null,useLocalSphericalImage:false,isFromPrefill:false,holidayCardID:null})}),null);
__d("ReactComposerMediaUploadStore",["invariant","Bootloader","immutable","PhotoEditorSaveStates","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerDispatcher","ReactComposerMediaUploadActionType","ReactComposerMediaUploadType","ReactComposerPhotoActionType","ReactComposerPhotoStore","ReactComposerPhotoUpload","ReactComposerPhotoUploadState","ReactComposerStoreBase","ReactComposerVideoXUploader"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;i=babelHelpers.inherits(k,c("ReactComposerStoreBase"));j=i&&i.prototype;function k(){"use strict";__p&&__p();var l=void 0;j.constructor.call(this,function(){return{removedIDs:c("immutable").Set(),uploads:c("immutable").List(),uploadsByID:c("immutable").Map(),videoUploader:null,hideVideos:false}},function(m){__p&&__p();if(l&&l.$ReactComposerMediaUploadStore1(m))return;switch(m.type){case c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_ENQUEUED:case c("ReactComposerMediaUploadActionType").VIDEO_UPLOAD_ENQUEUED:l&&l.$ReactComposerMediaUploadStore2(m);break;case c("ReactComposerMediaUploadActionType").VIDEO_UPLOAD_METADATA_PARSED:l&&l.$ReactComposerMediaUploadStore3(m);break;case c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_RESIZE_STARTED:l&&l.$ReactComposerMediaUploadStore4(m);break;case c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_RESIZE_PROGRESS:l&&l.$ReactComposerMediaUploadStore5(m);break;case c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_RESIZE_DONE:l&&l.$ReactComposerMediaUploadStore6(m,c("ReactComposerPhotoUploadState").PHOTO_UPLOAD_RESIZE_DONE);break;case c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_RESIZE_FAILED:l&&l.$ReactComposerMediaUploadStore6(m,c("ReactComposerPhotoUploadState").PHOTO_UPLOAD_RESIZE_FAILED);break;case c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_UPLOADING:case c("ReactComposerMediaUploadActionType").VIDEO_UPLOAD_UPLOADING:l&&l.$ReactComposerMediaUploadStore7(m);break;case c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_IS_SPHERICAL:l&&l.$ReactComposerMediaUploadStore8(m);break;case c("ReactComposerMediaUploadActionType").VIDEO_SET_THUMBNAIL:case c("ReactComposerMediaUploadActionType").PHOTO_SET_THUMBNAIL:l&&l.$ReactComposerMediaUploadStore9(m);break;case c("ReactComposerMediaUploadActionType").MEDIA_UPLOAD_PROGRESS:l&&l.$ReactComposerMediaUploadStore5(m);break;case c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_DONE:case c("ReactComposerMediaUploadActionType").VIDEO_UPLOAD_DONE:c("ReactComposerDispatcher").waitFor([c("ReactComposerPhotoStore").getDispatchToken()]);l&&l.$ReactComposerMediaUploadStore10(m);break;case c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_EXTRA_DONE:c("ReactComposerDispatcher").waitFor([c("ReactComposerPhotoStore").getDispatchToken()]);l&&l.$ReactComposerMediaUploadStore11(m);break;case c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_FAILED:case c("ReactComposerMediaUploadActionType").VIDEO_UPLOAD_FAILED:l&&l.$ReactComposerMediaUploadStore12(m);break;case c("ReactComposerMediaUploadActionType").MEDIA_UPLOAD_REMOVE:case c("ReactComposerPhotoActionType").PHOTO_REMOVE:l&&l.$ReactComposerMediaUploadStore13(m);break;case c("ReactComposerMediaUploadActionType").MEDIA_UPLOAD_MOVED:l&&l.$ReactComposerMediaUploadStore14(m);break;case c("ReactComposerMediaUploadActionType").PREFILL_MEDIAS:l&&l.$ReactComposerMediaUploadStore15(m);break;case c("ReactComposerMediaUploadActionType").REORDER_MEDIAS:l&&l.$ReactComposerMediaUploadStore16(m);break;case c("ReactComposerMediaUploadActionType").PHOTO_ADD_UPLOAD:l&&l.$ReactComposerMediaUploadStore17(m);break;case c("ReactComposerMediaUploadActionType").SPHERICAL_PHOTO_CHECK_DONE:l&&l.$ReactComposerMediaUploadStore18(m);break;case c("ReactComposerMediaUploadActionType").VIDEOS_HIDDEN:l&&l.$ReactComposerMediaUploadStore19(m);break;case c("ReactComposerMediaUploadActionType").VIDEOS_SHOWN:l&&l.$ReactComposerMediaUploadStore20(m);break;default:}});l=this}k.prototype.getMediaUploadExists=function(l,m){"use strict";var n=this.getComposerData(l);return n.uploadsByID.get(m)!==undefined};k.prototype.getMediaUpload=function(l,m){"use strict";return this.$ReactComposerMediaUploadStore21(this.getComposerData(l),m)};k.prototype.getUploadIndex=function(l,m){"use strict";return this.$ReactComposerMediaUploadStore22(this.getComposerData(l),m)};k.prototype.getUploads=function(l){"use strict";var m=this.getComposerData(l);if(m.hideVideos)return m.uploads.filter(function(n){return n.mediaType!==c("ReactComposerMediaUploadType").VIDEO});else return this.getComposerData(l).uploads};k.prototype.getUploadsOfType=function(l,m){"use strict";var n=this.getUploads(l).filter(function(o){return o.mediaType===m});return n};k.prototype.getUploadsCount=function(l,m){"use strict";if(!m)return this.getComposerData(l).uploads.size;return this.getComposerData(l).uploads.filter(function(n){return n.mediaType===m}).size};k.prototype.getNonPrefillVideoUploadsCount=function(l){"use strict";return this.getUploadsOfType(l,c("ReactComposerMediaUploadType").VIDEO).filter(function(m){return!m.isFromPrefill}).size};k.prototype.getSphericalPhotoCount=function(l){"use strict";return this.getUploadsOfType(l,c("ReactComposerMediaUploadType").PHOTO).filter(function(m){return m.isSpherical}).size};k.prototype.getNonsphericalPhotoCount=function(l){"use strict";return this.getUploadsOfType(l,c("ReactComposerMediaUploadType").PHOTO).filter(function(m){return!m.isSpherical}).size};k.prototype.getHasUploadBeenRemoved=function(l,m){"use strict";var n=this.getComposerData(l);return n.removedIDs.has(m)};k.prototype.isUploading=function(l){"use strict";return this.getUploads(l).some(function(m){return m.state!==c("ReactComposerPhotoUploadState").PHOTO_UPLOAD_RESIZE_FAILED&&m.state!==c("ReactComposerPhotoUploadState").PHOTO_UPLOAD_DONE&&m.state!==c("ReactComposerPhotoUploadState").PHOTO_UPLOAD_FAILED})};k.prototype.getTotalNumberOfStickersOnPhotos=function(l){"use strict";var m=0;this.getUploads(l).forEach(function(n){var o=n.get("originalPhotoID");if(o)m+=c("PhotoEditorSaveStates").getTotalNumOfStickersOnPhoto(o)});return m};k.prototype.getVideoUploader=function(l,m){"use strict";var n=this.getComposerData(l);if(!n.videoUploader){var o=new(c("ReactComposerVideoXUploader"))({composerID:l,uploaderParams:m});n.videoUploader=o}return n.videoUploader};k.prototype.$ReactComposerMediaUploadStore2=function(l){"use strict";var m=this.validateAction(l,["composerID","mediaType","uploadID","filename","fileURL","index","xyTags","isSpherical"]),n=m[0],o=m[1],p=m[2],q=m[3],r=m[4],s=m[5],t=m[6],u=m[7];this.$ReactComposerMediaUploadStore23(n,s,new(c("ReactComposerPhotoUpload"))({id:p,mediaType:o,state:c("ReactComposerPhotoUploadState").PHOTO_UPLOAD_ENQUEUED,filename:q,fileURL:r,xyTags:t,isSpherical:u}));this.emitChange(n)};k.prototype.$ReactComposerMediaUploadStore3=function(l){"use strict";var m=this.validateAction(l,["composerID","uploadID","metadata"]),n=m[0],o=m[1],p=m[2],q=this.getComposerData(n);this.$ReactComposerMediaUploadStore24(q,o,function(r){return r.withMutations(function(r){return r.set("videoMetadata",p)})});this.emitChange(n)};k.prototype.$ReactComposerMediaUploadStore4=function(l){"use strict";var m=this.validateAction(l,["composerID","uploadID"]),n=m[0],o=m[1],p=this.getComposerData(n);this.$ReactComposerMediaUploadStore24(p,o,function(q){return q.withMutations(function(q){return q.set("state",c("ReactComposerPhotoUploadState").PHOTO_UPLOAD_RESIZE_STARTED).set("progress",0)})});this.emitChange(n)};k.prototype.$ReactComposerMediaUploadStore7=function(l){"use strict";var m=this.validateAction(l,["composerID","uploadID","fileUpload"]),n=m[0],o=m[1],p=m[2],q=this.getComposerData(n),r=p&&p.getFile&&p.getFile().size;this.$ReactComposerMediaUploadStore24(q,o,function(s){return s.withMutations(function(s){return s.set("state",c("ReactComposerPhotoUploadState").PHOTO_UPLOAD_UPLOADING).set("progress",0).set("fileUpload",p).set("fileSize",r||null)})});this.emitChange(n)};k.prototype.$ReactComposerMediaUploadStore5=function(l){"use strict";var m=this.validateAction(l,["composerID","uploadID","progress"]),n=m[0],o=m[1],p=m[2],q=this.getComposerData(n),r=l.use_real_progress_percentage?l.use_real_progress_percentage:false,s=l.use_progress_linearity!=null?l.use_progress_linearity:0;this.$ReactComposerMediaUploadStore24(q,o,function(t){return t.set("progress",p).set("useRealProgressPercentage",r).set("useProgressLinearity",s)});this.emitChange(n)};k.prototype.$ReactComposerMediaUploadStore10=function(l){"use strict";var m=this.validateAction(l,["composerID","uploadID","photoID"]),n=m[0],o=m[1],p=m[2],q=this.getComposerData(n);this.$ReactComposerMediaUploadStore24(q,o,function(r){return r.withMutations(function(s){return s.set("state",c("ReactComposerPhotoUploadState").PHOTO_UPLOAD_DONE).set("photoID",p).set("sphericalPhotoID",l.sphericalPhotoID).set("originalPhotoID",l.originalPhotoID||p).set("progress",100).set("isSphericalVideo",!!l.isSphericalVideo).remove("fileUpload")})});if(!l.cubestripURI)this.$ReactComposerMediaUploadStore24(q,o,function(r){return r.set("isSpherical",false)});this.emitChange(n)};k.prototype.$ReactComposerMediaUploadStore11=function(l){"use strict";var m=this.validateAction(l,["composerID","uploadID","photoID","cubestripURI"]),n=m[0],o=m[1],p=m[2],q=m[3],r=this.getUploadsCount(n);this.$ReactComposerMediaUploadStore23(n,r,new(c("ReactComposerPhotoUpload"))({id:o,photoID:p,mediaType:c("ReactComposerMediaUploadType").PHOTO,originalPhotoID:p,state:c("ReactComposerPhotoUploadState").PHOTO_UPLOAD_DONE,isSpherical:Boolean(q)}));this.emitChange(n)};k.prototype.$ReactComposerMediaUploadStore8=function(l){"use strict";var m=this.validateAction(l,["composerID","uploadID","isSpherical"]),n=m[0],o=m[1],p=m[2];this.$ReactComposerMediaUploadStore24(this.getComposerData(n),o,function(q){return q.withMutations(function(q){return q.set("isSpherical",p).set("projectionType",l.projectionType)})})};k.prototype.$ReactComposerMediaUploadStore12=function(l){"use strict";var m=this.validateAction(l,["composerID","uploadID"]),n=m[0],o=m[1],p=this.getComposerData(n);this.$ReactComposerMediaUploadStore24(p,o,function(q){return q.withMutations(function(q){return q.set("state",c("ReactComposerPhotoUploadState").PHOTO_UPLOAD_FAILED).set("error",l.error)})});this.emitChange(n)};k.prototype.$ReactComposerMediaUploadStore13=function(l){"use strict";__p&&__p();var m=this.validateAction(l,["composerID","uploadID"]),n=m[0],o=m[1],p=this.getComposerData(n),q=this.$ReactComposerMediaUploadStore22(p,o),r=p.uploads.get(q);if(r.mediaType==c("ReactComposerMediaUploadType").VIDEO)if(r.state===c("ReactComposerPhotoUploadState").PHOTO_UPLOAD_UPLOADING)p.videoUploader.cancelUpload(o);else{if(!p.videoUploader){var s=c("ReactComposerAttachmentStore").getAttachmentsConfig(n,c("ReactComposerAttachmentType").MEDIA);s||h(0);this.getVideoUploader(n,s.videoUploadParams)}p.videoUploader.deleteUpload(o)}p.uploads=p.uploads["delete"](q);p.uploadsByID=p.uploadsByID["delete"](o);for(var t=q;t<p.uploads.size;t++){var u=p.uploads.get(t).id;p.uploadsByID=p.uploadsByID.set(u,t)}p.removedIDs=p.removedIDs.add(o);this.emitChange(n)};k.prototype.$ReactComposerMediaUploadStore9=function(l){"use strict";var m=this.validateAction(l,["composerID","uploadID","thumbSrc"]),n=m[0],o=m[1],p=m[2],q=this.getComposerData(n);this.$ReactComposerMediaUploadStore24(q,o,function(r){return r.set("thumbSrc",p)});this.emitChange(n)};k.prototype.$ReactComposerMediaUploadStore6=function(l,m){"use strict";var n=this.validateAction(l,["composerID","uploadID"]),o=n[0],p=n[1];this.$ReactComposerMediaUploadStore25(o,p,m);this.emitChange(o)};k.prototype.$ReactComposerMediaUploadStore14=function(l){"use strict";var m=this.validateAction(l,["composerID","from","to"]),n=m[0],o=m[1],p=m[2],q=this.getComposerData(n);q.uploads=q.uploads.splice(o,1).splice(p,0,q.uploads.get(o));q.uploadsByID=q.uploads.groupBy(function(r,s){return s}).toMap().map(function(r){return r.first().id}).flip();this.emitChange(n)};k.prototype.$ReactComposerMediaUploadStore16=function(l){"use strict";var m=this.validateAction(l,["composerID","mediaIDs"]),n=m[0],o=m[1],p=this.getComposerData(n);p.uploads=o.map(function(q){return this.$ReactComposerMediaUploadStore21(p,q)}.bind(this));p.uploadsByID=p.uploads.groupBy(function(q,r){return r}).toMap().map(function(q){return q.first().id}).flip();this.emitChange(n)};k.prototype.$ReactComposerMediaUploadStore15=function(l){"use strict";var m=this.validateAction(l,["composerID","medias"]),n=m[0],o=m[1];o.forEach(function(p,q){this.$ReactComposerMediaUploadStore23(n,q,new(c("ReactComposerPhotoUpload"))({id:p.uploadID,photoID:p.photoID,mediaType:p.mediaType,originalPhotoID:p.photoID,state:c("ReactComposerPhotoUploadState").PHOTO_UPLOAD_DONE,thumbSrc:p.thumbSrc,fileURL:p.fileURL||p.imageSrc,filename:p.filename,isSpherical:Boolean(p.cubestripURI),height:p.height,width:p.width,isFromPrefill:true,holidayCardID:p.holidayCardID}))}.bind(this));this.emitChange(n)};k.prototype.$ReactComposerMediaUploadStore17=function(l){"use strict";var m=this.validateAction(l,["composerID","index","upload"]),n=m[0],o=m[1],p=m[2],q=this.getComposerData(n);q.uploads=q.uploads.splice(o,0,p);for(var r=o;r<q.uploads.size;r++){var s=q.uploads.get(r).id;q.uploadsByID=q.uploadsByID.set(s,r)}this.emitChange(n)};k.prototype.$ReactComposerMediaUploadStore18=function(l){"use strict";var m=this.validateAction(l,["composerID","uploadID","sphericalImage","useLocalSphericalImage"]),n=m[0],o=m[1],p=m[2],q=m[3],r=this.getComposerData(n);this.$ReactComposerMediaUploadStore24(r,o,function(s){return s.withMutations(function(s){return s.set("sphericalImage",p).set("useLocalSphericalImage",q)})});this.emitChange(n)};k.prototype.$ReactComposerMediaUploadStore19=function(l){"use strict";var m=this.validateAction(l,["composerID"]),n=this.getComposerData(m);n.hideVideos=true;this.emitChange(m)};k.prototype.$ReactComposerMediaUploadStore20=function(l){"use strict";var m=this.validateAction(l,["composerID"]),n=this.getComposerData(m);n.hideVideos=false;this.emitChange(m)};k.prototype.$ReactComposerMediaUploadStore25=function(l,m,n){"use strict";var o=this.getComposerData(l);this.$ReactComposerMediaUploadStore24(o,m,function(p){return p.set("state",n)})};k.prototype.$ReactComposerMediaUploadStore24=function(l,m,n){"use strict";var o=this.$ReactComposerMediaUploadStore26(l,m),p=o[0],q=o[1];l.uploads=l.uploads.set(q,n(p,q))};k.prototype.$ReactComposerMediaUploadStore26=function(l,m){"use strict";var n=this.$ReactComposerMediaUploadStore22(l,m);return[l.uploads.get(n),n]};k.prototype.$ReactComposerMediaUploadStore22=function(l,m){"use strict";var n=l.uploadsByID.get(m);if(n===undefined)throw new Error("Upload "+m+" hasn't been registered");return n};k.prototype.$ReactComposerMediaUploadStore21=function(l,m){"use strict";var n=this.$ReactComposerMediaUploadStore22(l,m);return l.uploads.get(n)};k.prototype.$ReactComposerMediaUploadStore1=function(l){"use strict";if(c("ReactComposerMediaUploadActionType")[l.type]){var m=l.composerID,n=l.uploadID;if(n==null)return false;return this.getHasUploadBeenRemoved(m,n)}return false};k.prototype.$ReactComposerMediaUploadStore23=function(l,m,n){"use strict";var o=this.getComposerData(l);o.uploads=o.uploads.splice(m,0,n);for(var p=m;p<o.uploads.size;p++){var q=o.uploads.get(p).id;o.uploadsByID=o.uploadsByID.set(q,p)}this.$ReactComposerMediaUploadStore27(l,n)};k.prototype.$ReactComposerMediaUploadStore27=function(l,m){__p&&__p();var n,o=this,p;"use strict";if(m.mediaType==c("ReactComposerMediaUploadType").PHOTO)(function(){var q=new Image();q.onload=function(){var r=this.getComposerData(l);this.$ReactComposerMediaUploadStore24(r,m.id,function(s){return s.withMutations(function(s){return s.set("height",q.height).set("width",q.width)})});this.emitChange(l)}.bind(o);q.src=m.fileURL})();else if(m.mediaType==c("ReactComposerMediaUploadType").VIDEO)(function(){var q=document.createElement("video");q.onloadedmetadata=function(){var r=this.getComposerData(l);this.$ReactComposerMediaUploadStore24(r,m.id,function(s){return s.withMutations(function(s){return s.set("height",q.videoHeight).set("width",q.videoWidth)})});this.emitChange(l)}.bind(o);q.src=m.fileURL})()};f.exports=new k()}),null);
__d("MultimediaUploadProcessingDialog.react",["fbt","React","XUIDialog.react","XUIDialogTitle.react","XUIDialogBody.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.state={dialogShown:true},this.$MultimediaUploadProcessingDialog1=function(){return this.props.numOfVideos===1?h._("La vid\u00e9o de votre publication est en cours de traitement. Nous vous enverrons une notification quand votre publication sera pr\u00eate."):h._("Les vid\u00e9os de votre publication sont en cours de traitement. Nous vous enverrons notification quand votre publication sera pr\u00eate.")}.bind(this),this.$MultimediaUploadProcessingDialog2=function(){return h._("Traitement des vid\u00e9os")},n}l.prototype.componentWillReceiveProps=function(m){if(m.show)this.setState({dialogShown:true})};l.prototype.render=function(){return c("React").createElement(c("XUIDialog.react"),{shown:this.state.dialogShown,"data-testid":"video_processing_dialog",width:400},c("React").createElement(c("XUIDialogTitle.react"),null,this.$MultimediaUploadProcessingDialog2()),c("React").createElement(c("XUIDialogBody.react"),null,this.$MultimediaUploadProcessingDialog1()))};l.propTypes={numOfVideos:k.number.isRequired};f.exports=l}),null);
__d("ReactComposerMediaFilterUtils",["ComposerXNativeAudioUploadsConfig","VideoUploadConfig"],(function a(b,c,d,e,f,g){var h={hasVideos:function i(j){return this.filterVideos(j).length>0},hasAudioFiles:function i(j){return this.filterAudioFiles(j).length>0},filterVideos:function i(j){return this.filterFileOfSupportedType(j,c("VideoUploadConfig").videoExtensions)},filterAudioFiles:function i(j){return this.filterFileOfSupportedType(j,c("ComposerXNativeAudioUploadsConfig").audioExtensions)},filterFileOfSupportedType:function i(j,k){return j.filter(function(l){var m=l.indexOf(".")!==-1?l.split(".").pop().toLowerCase():"";return k[m]})}};f.exports=h}),null);
__d("StickyUploadAPI",["Bootloader","React","ReactDOM","gkx"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){return c("gkx")("AT6x3WzM5afyBAwbnmUpW9Olv3wdDN3xSqQhqwBGrZhWeJK8flAb5rzdClCIeUBHXrOg3tS0SeRU1vA2lGoy2paF")}function i(){if(!h())return false;n(function(){k&&k.actions.registerUpload()});return true}function j(){if(!h())return false;n(function(){k&&k.actions.clearAllUploads()});return true}var k=null,l=false,m=[];function n(o){__p&&__p();if(k&&l){o();return}m.push(o);c("Bootloader").loadModules(["StickyUploadContainer.react","StickyUploadStore","StickyUploadPrivateActions"],function(p,q,r){__p&&__p();k={store:q,actions:r};if(!l){var s=document.getElementById("sticky-upload-hook");if(!s)throw new Error("Unable to mount Sticky Upload UI because sticky-upload-hook element does not exist.");l=true;c("ReactDOM").render(c("React").createElement(p,null),s)}for(var t=m,u=Array.isArray(t),v=0,t=u?t:t[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var w;if(u){if(v>=t.length)break;w=t[v++]}else{v=t.next();if(v.done)break;w=v.value}var x=w;x()}m.splice(0,m.length)},"StickyUploadAPI")}f.exports={enabled:h,registerUpload:i,clearAllUploads:j}}),null);
__d("ImageExtensions",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({GIF:"gif",JPG:"jpg",PNG:"png",ICO:"ico",BMP:"bmp",WEBP:"webp",BEST:"best",PNG2JPG:"png2jpg",MP4:"mp4"})}),null);
__d("VideoUploadFeatureDetector",["UserAgent_DEPRECATED","fileSlice"],(function a(b,c,d,e,f,g){var h={supportsChunking:function i(){return typeof c("fileSlice")==="function"&&this.supportsXHR()},supportsFullProgress:function i(){return!c("UserAgent_DEPRECATED").firefox()},supportsFileAPI:function i(){return"FileList"in window},supportsFileReading:function i(){return"FileReader"in window&&"DataView"in window},supportsXHR:function i(){return"FormData"in window}};f.exports=h}),null);
__d("VideoUploadFile",["fileSlice","ImageExtensions","VideoCreatorProductType","VideoUploadFeatureDetector"],(function a(b,c,d,e,f,g){__p&&__p();function h(i,j,k,l){"use strict";this.$VideoUploadFile1=i;this.$VideoUploadFile2=j;this.$VideoUploadFile3=k;this.$VideoUploadFile4=l}h.fromFile=function(i){"use strict";var j=h.getExtensionFromFileName(i.name);return new this(null,i,i.size,j)};h.fromFileInput=function(i){"use strict";var j=null,k=null,l=h.getExtensionFromFileInput(i);if(c("VideoUploadFeatureDetector").supportsFileAPI()&&i.files.length){j=i.files[0];k=j.size}return new this(i,j,k,l)};h.prototype.getFileInput=function(){"use strict";return this.$VideoUploadFile1};h.prototype.getFile=function(){"use strict";return this.$VideoUploadFile2};h.prototype.getSize=function(){"use strict";return this.$VideoUploadFile3};h.prototype.getExtension=function(){"use strict";return this.$VideoUploadFile4};h.prototype.getCreatorProduct=function(){"use strict";if(this.$VideoUploadFile4===c("ImageExtensions").GIF)return c("VideoCreatorProductType").ANIMATED_GIFS;return c("VideoCreatorProductType").CORE_VIDEOS};h.prototype.getChunk=function(i,j){"use strict";return this.$VideoUploadFile2?c("fileSlice").call(this.$VideoUploadFile2,i,j):null};h.getExtensionFromFileInput=function(i){"use strict";return this.getExtensionFromFileName(i.value)};h.getExtensionFromFileName=function(i){"use strict";return i.indexOf(".")!=-1?i.split(".").pop().toLowerCase():""};f.exports=h}),null);
__d("VideoUploadLogger",["Banzai"],(function a(b,c,d,e,f,g){__p&&__p();function h(j){__p&&__p();this._source=j.source;this._composerDialogVersion=j.composer_dialog_version;this._waterfallID=j.waterfall_id;this._targetID=j.target_id;this._delay=j.delay;this._times=[];this._isChunkedUpload=j.is_chunked_upload;this._actorID=j.actor_id;this._composerEntryPointRef=j.composer_entry_point_ref;this._isRemoteUpload=j.is_remote_upload;this._containerType=j.container_type}var i={BANZAI_GK:"videos",BANZAI_ROUTE:"video_waterfall",SOURCE_SIMPLE:"simple",SOURCE_COMPOSER:"composer",EVENT_STARTED_GENERATE_THUMBNAILS:"upload.client.started_generate_thumbnails",EVENT_FINISHED_GENERATE_THUMBNAILS:"upload.client.finished_generate_thumbnails",EVENT_SELECTED_CUSTOM_THUMBNAIL:"upload.client.selected_custom_thumbnail",EVENT_VIDEO_DIMENSIONS_UNREADABLE:"upload.client.video_dimensions_unreadable",EVENT_REPLACE_VIDEO:"upload.client.replace_video",EVENT_STARTED_FLOW:"upload.client.started_flow",EVENT_FINISHED_FLOW:"upload.client.finished_flow",EVENT_FAILED_FLOW:"upload.client.failed_flow",EVENT_CANCELED_FLOW:"upload.client.canceled_flow",EVENT_RESIGNED_FLOW:"upload.client.resigned_flow",EVENT_REQUESTED_UPLOADING:"upload.client.requested_uploading",EVENT_INVALIDATED_UPLOADING:"upload.client.invalidated_uploading",EVENT_STARTED_UPLOADING:"upload.client.started_uploading",EVENT_PROGRESS_UPLOADING_START_REQUEST:"upload.client.progress_uploading_start_request",EVENT_FINISHED_UPLOADING:"upload.client.finished_uploading",EVENT_CANCELED_UPLOADING:"upload.client.canceled_uploading",EVENT_ABANDONED_UPLOADING:"upload.client.abandoned_uploading",EVENT_FAILED_UPLOADING:"upload.client.failed_uploading",EVENT_STARTED_SENDING_BYTES:"upload.client.started_sending_bytes",EVENT_FINISHED_SENDING_BYTES:"upload.client.finished_sending_bytes",EVENT_CANCELED_SENDING_BYTES:"upload.client.canceled_sending_bytes",EVENT_FAILED_SENDING_BYTES:"upload.client.failed_sending_bytes",EVENT_STARTED_START_REQUEST:"upload.client.started_sending_start_request",EVENT_FINISHED_START_REQUEST:"upload.client.finished_sending_start_request",EVENT_FAILED_START_REQUEST:"upload.client.failed_sending_start_request",EVENT_STARTED_POST_REQUEST:"upload.client.started_sending_post_request",EVENT_FINISHED_POST_REQUEST:"upload.client.finished_sending_post_request",EVENT_FAILED_POST_REQUEST:"upload.client.failed_sending_post_request",EVENT_STARTED_SENDING_CHUNK_BYTES:"upload.client.started_sending_chunk_bytes",EVENT_FINISHED_SENDING_CHUNK_BYTES:"upload.client.finished_sending_chunk_bytes",EVENT_CANCELED_SENDING_CHUNK_BYTES:"upload.client.canceled_sending_chunk_bytes",EVENT_FAILED_SENDING_CHUNK_BYTES:"upload.client.failed_sending_chunk_bytes",EVENT_TIMEOUT_SENDING_CHUNK_BYTES:"upload.client.timeout_sending_chunk_bytes",EVENT_RESUMABLE_CALLED:"upload.client.resumable_called",EVENT_RESUMABLE_STARTED:"upload.client.resumable_started",EVENT_RESUMABLE_SUCCESS:"upload.client.resumable_success",EVENT_RESUMABLE_FAILED:"upload.client.resumable_failed",EVENT_ENCODING_START_OBSERVED:"encode.client.encoding_start_observed",EVENT_ENCODING_SUCCESS_OBSERVED:"encode.client.encoding_success_observed",EVENT_ENCODING_FAIL_OBSERVED:"encode.client.encoding_fail_observed",EVENT_RECEIVED_RESPONSE:"upload.client.received_response",EVENT_STARTED_FLOW_EXP1:"upload.client.started_flow_exp1",EVENT_FINISHED_FLOW_EXP1:"upload.client.finished_flow_exp1",EVENT_CANCELED_FLOW_EXP1:"upload.client.canceled_flow_exp1"};Object.assign(h,i);Object.assign(h.prototype,{logEvent:function j(event,k){__p&&__p();var l=babelHelpers["extends"]({},k);if(l.elapsed_time==null)if(event.indexOf("started")!==-1)this._times[event]=Date.now();else if(event.indexOf("finished")!==-1)l.elapsed_time=this._computeElapsedTime(event,"finished");else if(event.indexOf("canceled")!==-1)l.elapsed_time=this._computeElapsedTime(event,"canceled");else if(event.indexOf("failed")!==-1)l.elapsed_time=this._computeElapsedTime(event,"failed");l.event=event;l.source=this._source;l.composer_dialog_version=this._composerDialogVersion;l.waterfall_id=this._waterfallID;l.target_id=this._targetID;l.is_chunked_upload=this._isChunkedUpload;l.actor_id=this._actorID;l.composer_entry_point_ref=this._composerEntryPointRef;l.is_remote_upload=this._isRemoteUpload;l.container_type=this._containerType;c("Banzai").post(h.BANZAI_ROUTE,l,{delay:this._delay,retry:true})},_computeElapsedTime:function j(event,k){var l=event.replace(k,"started"),m=this._times[l];return m?Date.now()-m:null}});f.exports=h}),null);
__d("VideoUploadProgressBar",["cx","CSS","VideoUploadFeatureDetector"],(function a(b,c,d,e,f,g,h){__p&&__p();function i(j){"use strict";__p&&__p();this.$VideoUploadProgressBar1=j.progress_bar;this.$VideoUploadProgressBar2=j.throbber;this.$VideoUploadProgressBar3=j.uploader;this.$VideoUploadProgressBar4=j.start_margin;this.$VideoUploadProgressBar5=j.start_delay;this.$VideoUploadProgressBar6=j.end_margin;this.$VideoUploadProgressBar7=j.end_delay;this.$VideoUploadProgressBar8=j.progress_bar_label;this.$VideoUploadProgressBar9()}i.prototype.reset=function(){"use strict";this.$VideoUploadProgressBar1.setPosition(0)};i.prototype.getRoot=function(){"use strict";return this.$VideoUploadProgressBar1.getRoot()};i.computeProgress=function(j,k,l,m,n){"use strict";var o=Math.min(j+k,l);return o/l*(100-m-n)+m};i.prototype.$VideoUploadProgressBar9=function(){"use strict";if(c("VideoUploadFeatureDetector").supportsFileAPI()){this.$VideoUploadProgressBar3.subscribe("upload-requested",this.$VideoUploadProgressBar10.bind(this));this.$VideoUploadProgressBar3.subscribe("upload-progressed",this.$VideoUploadProgressBar11.bind(this));this.$VideoUploadProgressBar3.subscribe("online",this.$VideoUploadProgressBar12.bind(this));this.$VideoUploadProgressBar3.subscribe("offline",this.$VideoUploadProgressBar13.bind(this))}else this.$VideoUploadProgressBar3.subscribe("upload-requested",this.$VideoUploadProgressBar14.bind(this))};i.prototype.$VideoUploadProgressBar10=function(event){"use strict";c("CSS").show(this.$VideoUploadProgressBar1.getRoot());c("CSS").removeClass(this.$VideoUploadProgressBar1.getRoot(),"_5r5a");this.$VideoUploadProgressBar1.setTarget(this.$VideoUploadProgressBar4,this.$VideoUploadProgressBar5);this.$VideoUploadProgressBar15(0)};i.prototype.$VideoUploadProgressBar15=function(j){"use strict";if(this.$VideoUploadProgressBar8)this.$VideoUploadProgressBar1.changeLabel(""+j.toFixed(1)+"%")};i.prototype.$VideoUploadProgressBar11=function(event,j){"use strict";c("CSS").removeClass(this.$VideoUploadProgressBar1.getRoot(),"_5r5a");var k=i.computeProgress(j.start_offset,j.sent_bytes,j.file_size,this.$VideoUploadProgressBar4,this.$VideoUploadProgressBar6);this.$VideoUploadProgressBar1.setPosition(k);this.$VideoUploadProgressBar15(k);if(k>=100-this.$VideoUploadProgressBar6){this.$VideoUploadProgressBar1.setTarget(100,this.$VideoUploadProgressBar7);this.$VideoUploadProgressBar15(100)}};i.prototype.$VideoUploadProgressBar12=function(event){"use strict";c("CSS").removeClass(this.$VideoUploadProgressBar1.getRoot(),"_5r5a")};i.prototype.$VideoUploadProgressBar13=function(event){"use strict";c("CSS").addClass(this.$VideoUploadProgressBar1.getRoot(),"_5r5a")};i.prototype.$VideoUploadProgressBar14=function(event){"use strict";c("CSS").show(this.$VideoUploadProgressBar2)};f.exports=i}),null);
__d("VideoUploadCrashMonitor",["Bandicoot","VideoUploadLogger"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("Bandicoot"));i=h&&h.prototype;function j(k,l,m,n,o,p,q,r){"use strict";i.constructor.call(this,"VideoUploadSession");this.$VideoUploadCrashMonitor1={waterfallID:k,actorID:l,source:m,targetID:n,loggingDelay:o,supportsChunking:p,composerEntryPointRef:q,flowStarted:r}}j.prototype.flowStarted=function(){"use strict";this.$VideoUploadCrashMonitor1.flowStarted=true};j.prototype.getCrashTimeData=function(){"use strict";return this.$VideoUploadCrashMonitor1};j.prototype.logCrash=function(k,l,m){"use strict";if(!l.waterfallID)return;var n=new(c("VideoUploadLogger"))({actor_id:l.actorID,source:l.source,waterfall_id:l.waterfallID,target_id:l.targetID,delay:l.loggingDelay,is_chunked_upload:l.supportsChunking,composer_entry_point_ref:l.composerEntryPointRef}),o={error:"Crash Detected",error_description:"Detected video upload did not complete due to a crash"};n.logEvent(c("VideoUploadLogger").EVENT_FAILED_UPLOADING,o);if(l.flowStarted)n.logEvent(c("VideoUploadLogger").EVENT_RESIGNED_FLOW,{})};f.exports=j}),null);
__d("VideoUploadFileValidator",["errorCode","fbt","ErrorDialog","ImageExtensions","Link.react","React","killswitch"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j=[1363019,1363020,1363021,1363022,1363023,1363024,1363025,1363026,1363027,1363030,1363031,1363032,1363033,1363038,1363039,1363040,1363048],k=["VIDEO__INVALID_GUIDE_DATA"];function l(m){"use strict";this.$VideoUploadFileValidator1=m}l.prototype.validate=function(m,n){"use strict";return this.$VideoUploadFileValidator2(m)&&this.$VideoUploadFileValidator3(m)&&this.$VideoUploadFileValidator4(m.getExtension()===c("ImageExtensions").GIF,n)};l.prototype.getValidationErrorMessage=function(m,n){"use strict";return this.$VideoUploadFileValidator5(m)||this.$VideoUploadFileValidator6(m)||this.$VideoUploadFileValidator7(m.getExtension()===c("ImageExtensions").GIF,n)};l.canReplaceVideoForError=function(h){"use strict";if(!h)return true;if(k.indexOf(h)>-1)return false;if(j.indexOf(h)>-1)return true;return false};l.prototype.$VideoUploadFileValidator2=function(m){"use strict";var n=this.$VideoUploadFileValidator5(m);if(n){c("ErrorDialog").show(n.summary,n.description);return false}else return true};l.prototype.$VideoUploadFileValidator5=function(m){"use strict";if(this.$VideoUploadFileValidator1.extensions[m.getExtension()])return;var n="http://www.facebook.com/help/?faq=218673814818907#What-formats-of-video-files-can-I-upload?",o=c("React").createElement(c("Link.react"),{href:n},i._("formats recommand\u00e9s"));return{summary:i._("Format de fichier non pris en charge"),description:i._("Le format du fichier que vous avez s\u00e9lectionn\u00e9 n\u2019est pas pris en charge. Veuillez utiliser l\u2019un de nos {link} pour les fichiers vid\u00e9o.",[i.param("link",o)])}};l.prototype.$VideoUploadFileValidator3=function(m){"use strict";var n=this.$VideoUploadFileValidator6(m);if(n){c("ErrorDialog").show(n.summary,n.description);return false}else return true};l.prototype.$VideoUploadFileValidator6=function(m){"use strict";var n;if(m.getSize()===null)return;if(m.getSize()<this.$VideoUploadFileValidator1.minSize)n=this.$VideoUploadFileValidator8();if(m.getSize()>this.$VideoUploadFileValidator1.maxSize)n=this.$VideoUploadFileValidator9();return n};l.prototype.$VideoUploadFileValidator8=function(){"use strict";var m=Math.round(this.$VideoUploadFileValidator1.minSize/1024);return{summary:i._("Fichier vid\u00e9o trop petit"),description:i._("Le fichier vid\u00e9o que vous avez essay\u00e9 d\u2019importer est trop petit. La taille minimale pour un fichier vid\u00e9o est de {min-size} Ko. Veuillez r\u00e9essayer avec un fichier plus volumineux.",[i.param("min-size",m)])}};l.prototype.$VideoUploadFileValidator9=function(){"use strict";var m=Math.floor(this.$VideoUploadFileValidator1.maxSize/1024/1024);return{summary:i._("Fichier vid\u00e9o trop volumineux"),description:i._("Le fichier vid\u00e9o que vous avez essay\u00e9 d\u2019importer est trop volumineux. La taille maximale pour un fichier vid\u00e9o est de {max-size} Mo. Veuillez r\u00e9essayer avec un fichier plus petit.",[i.param("max-size",m)])}};l.prototype.$VideoUploadFileValidator4=function(m,n){"use strict";var o=this.$VideoUploadFileValidator7(m,n);if(o){c("ErrorDialog").show(o.summary,o.description);return false}else return true};l.prototype.$VideoUploadFileValidator7=function(m,n){"use strict";__p&&__p();var o;if(!n)return;var p=n.format.duration;if(p){if(p>this.$VideoUploadFileValidator1.maxLength)o=this.$VideoUploadFileValidator10();if(p<this.$VideoUploadFileValidator1.minLength&&!m)o=this.$VideoUploadFileValidator11()}if(!n.streams||!n.streams.primaryVideo)return;var q=n.streams.primaryVideo.width,r=n.streams.primaryVideo.height,s=0,t=0;if(n.videoPlayerData!==null){s=n.videoPlayerData.height;t=n.videoPlayerData.width}if(!c("killswitch")("VIDEO_DIMENSIONS_FROM_PLAYER_IN_UPLOAD_DIALOG")&&t!==0&&s!==0){q=t;r=s}if(!n.streams.primaryVideo&&n.streams.primaryAudio)o=this.$VideoUploadFileValidator12();if(q<this.$VideoUploadFileValidator1.minWidth)o=this.$VideoUploadFileValidator13();if(r<this.$VideoUploadFileValidator1.minHeight)o=this.$VideoUploadFileValidator14();var u=q/r;if(this.$VideoUploadFileValidator1.require16to9AspectRatio)if(u>2||u<1.6)o=this.$VideoUploadFileValidator15();if(this.$VideoUploadFileValidator1.minAspectRatio)if(u<this.$VideoUploadFileValidator1.minAspectRatio)o=this.$VideoUploadFileValidator16();if(this.$VideoUploadFileValidator1.maxAspectRatio)if(u>this.$VideoUploadFileValidator1.maxAspectRatio)o=this.$VideoUploadFileValidator17();return o};l.prototype.$VideoUploadFileValidator10=function(){"use strict";if(this.$VideoUploadFileValidator1.source==="profile_video")return{summary:i._("La dur\u00e9e de la vid\u00e9o de profil est trop longue"),description:i._("La dur\u00e9e maximale est {max-length} secondes. Veuillez importer une vid\u00e9o plus courte.",[i.param("max-length",this.$VideoUploadFileValidator1.maxLength)])};else return{summary:i._("Vid\u00e9o trop longue"),description:i._("La vid\u00e9o que vous avez essay\u00e9 d\u2019envoyer est trop longue. La dur\u00e9e maximum est de {max-length} minutes. Veuillez en importer une plus courte.",[i.param("max-length",Math.round(this.$VideoUploadFileValidator1.maxLength/60))])}};l.prototype.$VideoUploadFileValidator11=function(){"use strict";return{summary:i._("Fichier vid\u00e9o trop court"),description:i._({"second":"La vid\u00e9o que vous avez essay\u00e9 de t\u00e9l\u00e9charger est trop courte. La dur\u00e9e minimale d\u2019une vid\u00e9o est de {min-length} secondes. Veuillez en t\u00e9l\u00e9charger une plus longue.","seconds":"La vid\u00e9o que vous avez essay\u00e9e de t\u00e9l\u00e9charger est trop courte. La dur\u00e9e minimale d\u2019une vid\u00e9o est de {min-length} secondes. Veuillez en t\u00e9l\u00e9charger une plus longue."},[i.param("min-length",this.$VideoUploadFileValidator1.minLength),i["enum"](this.$VideoUploadFileValidator1.minLength===1?"second":"seconds",{second:"second",seconds:"seconds"})])}};l.prototype.$VideoUploadFileValidator12=function(){"use strict";var m="http://www.facebook.com/help/?faq=218673814818907#What-formats-of-video-files-can-I-upload?",n=c("React").createElement(c("Link.react"),{href:m},i._("format vid\u00e9o pris en charge"));return{summary:i._("Aucune vid\u00e9o d\u00e9tect\u00e9e"),description:i._("Il semble que vous essayez d\u2019importer un fichier qui n\u2019est pas une vid\u00e9o. Veuillez essayer d\u2019importer un {supported-video-format link}",[i.param("supported-video-format link",n)])}};l.prototype.$VideoUploadFileValidator13=function(){"use strict";return{summary:i._("Largeur de la vid\u00e9o trop petite"),description:i._("La largeur de la vid\u00e9o que vous avez essay\u00e9 d\u2019importer est trop petite. La largeur minimale est de {min-width}. Veuillez en importer une plus grande.",[i.param("min-width",this.$VideoUploadFileValidator1.minWidth)])}};l.prototype.$VideoUploadFileValidator15=function(){"use strict";return{summary:i._("Impossible d\u2019importer la vid\u00e9o"),description:i._("Les vid\u00e9os ont une meilleure apparence avec une proportion 16:9. Veuillez modifier votre vid\u00e9o et l\u2019importer de nouveau.")}};l.prototype.$VideoUploadFileValidator14=function(){"use strict";return{summary:i._("Hauteur de la vid\u00e9o trop petite"),description:i._("La hauteur de la vid\u00e9o que vous avez essay\u00e9 d\u2019importer est trop petite. La hauteur minimale est de {min-height}. Veuillez en importer une plus grande.",[i.param("min-height",this.$VideoUploadFileValidator1.minHeight)])}};l.prototype.$VideoUploadFileValidator17=function(){"use strict";return{summary:i._("Proportions trop grandes"),description:i._("La vid\u00e9o que vous avez s\u00e9lectionn\u00e9e est trop large. Les proportions des vid\u00e9os doivent \u00eatre comprises entre {max_aspect_ratio} et {min_aspect_ratio}.",[i.param("max_aspect_ratio",this.$VideoUploadFileValidator1.maxAspectRatio+":1"),i.param("min_aspect_ratio",this.$VideoUploadFileValidator1.minAspectRatio+":1")])}};l.prototype.$VideoUploadFileValidator16=function(){"use strict";return{summary:i._("Proportions trop petites"),description:i._("La vid\u00e9o que vous avez s\u00e9lectionn\u00e9e est trop haute. Les proportions des vid\u00e9os doivent \u00eatre comprises entre {max_aspect_ratio} et {min_aspect_ratio}.",[i.param("max_aspect_ratio",this.$VideoUploadFileValidator1.maxAspectRatio+":1"),i.param("min_aspect_ratio",this.$VideoUploadFileValidator1.minAspectRatio+":1")])}};f.exports=l}),null);
__d("ISOVideoBoxConstants",[],(function a(b,c,d,e,f,g){"use strict";var h={BOX_BASE_SIZE:8,GSPHERICAL_UUID:[255,204,130,99,248,85,74,147,136,20,88,122,2,82,31,221],FBSPHERICAL_UUID:[174,36,178,77,60,143,79,24,138,123,224,9,193,56,53,193]};f.exports=h}),null);
__d("FBSphericalMetadataTags",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({SPHERICAL:"FBSpherical:Spherical",INITIAL_VERTICAL_FOV_DEGREES:"FBSpherical:InitialVerticalFOVDegrees",GUIDE:"FBSpherical:Guide",HOTSPOT:"FBSpherical:HotspotMetadata",USED_360_DIRECTOR:"FBSpherical:Used360Director"})}),null);
__d("GSphericalMetadataTags",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({SPHERICAL:"GSpherical:Spherical",INITIAL_VIEW_HEADING_DEGREES:"GSpherical:InitialViewHeadingDegrees",INITIAL_VIEW_PITCH_DEGREES:"GSpherical:InitialViewPitchDegrees",PROJECTION_TYPE:"GSpherical:ProjectionType",STEREO_MODE:"GSpherical:StereoMode",STITCHED:"GSpherical:Stitched",STITCHING_SOFTWARE:"GSpherical:StitchingSoftware"})}),null);
__d("SphericalVideoMetadataTags",["FBSphericalMetadataTags","GSphericalMetadataTags"],(function a(b,c,d,e,f,g){"use strict";var h=Object.freeze({GSPHERICAL:c("GSphericalMetadataTags"),FBSPHERICAL:c("FBSphericalMetadataTags")});f.exports=h}),null);
__d("VideoProjection",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({FLAT:"flat",EQUIRECTANGULAR:"equirectangular",CUBEMAP:"cubemap",UNPADDED_CUBEMAP:"unpadded_cubemap",UNPADDED_CUBESTRIP:"unpadded_cubestrip",OFFSET_CUBEMAP:"offset_cubemap",ROTATED_CUBEMAP:"rotated_cubemap",PYRAMID:"pyramid",STRETCHED_CUBEMAP:"stretched_cubemap",BARREL:"barrel",SINGLE_FISH_EYE:"single_fish_eye",CDS_BARREL:"cds_barrel",EQUIANGULAR_CUBEMAP:"equiangular_cubemap"})}),null);
__d("VideoSphericalMetadataUtil",["SphericalVideoMetadataTags","VideoProjection","VideoStereoFormat"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={parseXMLToDocument:function i(j){__p&&__p();if(!j)return null;j=j.replace(/\0/g,"");var k=void 0;if(window.DOMParser){var l=new DOMParser();k=l.parseFromString(j,"text/xml")}else{k=new window.ActiveXObject("Microsoft.XMLDOM");k.async="false";k.loadXML(j)}return k},stringToProjectionType:function i(j){if(Object.values(c("VideoProjection")).includes(j))return j;else return null},stringToStereoMode:function i(j){if(Object.values(c("VideoStereoFormat")).includes(j))return j;else return null},getUnsupportedGSphericalTagsXML:function i(j){__p&&__p();var k=j.getElementsByTagNameNS("*","*"),l=null;for(var m=0;m<k.length;m++){var n=k[m],o=n.nodeName,p=n.parentElement;if(o!=="parsererror"&&p&&p.nodeName!=="parsererror"&&Object.values(c("SphericalVideoMetadataTags").GSPHERICAL).indexOf(o)<0&&Object.values(c("SphericalVideoMetadataTags").GSPHERICAL).indexOf(p.nodeName)<0){if(!l)l="";var q=n.outerHTML;l+="<"+o+q.slice(o.length+1,-(o.length+1))+o+">"}}return l},arrayBufferToFile:function i(j,k,l){return new File([j],k,{type:l})},stringToArrayBuffer:function i(j){var k=new ArrayBuffer(j.length),l=new DataView(k);for(var m=0;m<j.length;m++)l.setUint8(m,j.charCodeAt(m));return k},bufferToFile:function i(j,k,l){var m=j.buffer;return this.arrayBufferToFile(m,k,l)},uuidArrayEquals:function i(j,k){if(j.length!==k.length)return false;for(var l=0;l<j.length;l++)if(j[l]!==k[l])return false;return true}};f.exports=h}),null);
__d("VideoUploadSphericalLogger",["Banzai"],(function a(b,c,d,e,f,g){__p&&__p();var h=3e3;function i(){"use strict";this.$VideoUploadSphericalLogger1={};this.$VideoUploadSphericalLogger2=false;this.$VideoUploadSphericalLogger3=0}i.prototype.log=function(){"use strict";this.$VideoUploadSphericalLogger2?this.$VideoUploadSphericalLogger4():this.$VideoUploadSphericalLogger5()};i.prototype.$VideoUploadSphericalLogger5=function(){"use strict";c("Banzai").post("spherical_video_composer_upload",babelHelpers["extends"]({},this.$VideoUploadSphericalLogger1))};i.prototype.$VideoUploadSphericalLogger4=function(){"use strict";var j=Date.now();if(j-this.$VideoUploadSphericalLogger3>h){this.$VideoUploadSphericalLogger3=j;this.$VideoUploadSphericalLogger5()}};i.prototype.setDirectorsCutEnabled=function(j){"use strict";this.$VideoUploadSphericalLogger1.directors_cut_enabled=j;return this};i.prototype.setFieldOfView=function(j){"use strict";this.$VideoUploadSphericalLogger1.field_of_view=j;return this};i.prototype.setFileExtension=function(j){"use strict";this.$VideoUploadSphericalLogger1.file_extension=j;return this};i.prototype.setHasSphericalMetadata=function(j){"use strict";this.$VideoUploadSphericalLogger1.has_spherical_metadata=j;return this};i.prototype.setPitchDegrees=function(j){"use strict";this.$VideoUploadSphericalLogger1.pitch_degrees=j;return this};i.prototype.setTargetID=function(j){"use strict";this.$VideoUploadSphericalLogger1.target_id=j;return this};i.prototype.setVideoID=function(j){"use strict";this.$VideoUploadSphericalLogger1.video_id=j;return this};i.prototype.setUserAction=function(j){"use strict";this.$VideoUploadSphericalLogger1.user_action=j;if(j==="drag_video_preview"||j==="scroll_video_preview")this.$VideoUploadSphericalLogger2=true;else this.$VideoUploadSphericalLogger2=false;return this};i.prototype.setVideoPreviewPosition=function(j){"use strict";this.$VideoUploadSphericalLogger1.video_preview_position=j;return this};i.prototype.setYawDegrees=function(j){"use strict";this.$VideoUploadSphericalLogger1.yaw_degrees=j;return this};i.prototype.setIsRedesign=function(j){"use strict";this.$VideoUploadSphericalLogger1.is_redesign=j;return this};i.prototype.setFinalGuideEnabled=function(j){"use strict";this.$VideoUploadSphericalLogger1.final_guide_enabled=j;return this};i.prototype.setFinalNumGuidePoints=function(j){"use strict";this.$VideoUploadSphericalLogger1.final_num_guide_points=j;return this};i.prototype.setIsNuxTest=function(j){"use strict";this.$VideoUploadSphericalLogger1.is_nux_test=j;return this};f.exports=new i()}),null);
__d("checkForSphericalTag",["VideoSphericalMetadataUtil"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i){var j=c("VideoSphericalMetadataUtil").parseXMLToDocument(i);if(!j)return false;var k=j.getElementsByTagNameNS("*","Spherical");if(k.length===0)return false;var l=k[0],m=l.childNodes[0].nodeValue;return m.toLowerCase()==="true"}f.exports=h}),null);
__d("getVideo64BitAtomLength",["Int64"],(function a(b,c,d,e,f,g){"use strict";function h(i,j,k,l){var m=i.getUint32(j+l+k),n=i.getUint32(j+k+l+l);return new(c("Int64"))(n,m).toNumber()}f.exports=h}),null);
__d("VideoUploadMetadataParser",["regeneratorRuntime","Promise","VideoUploadFeatureDetector","VideoUploadSphericalLogger","VideoSphericalMetadataUtil","ISOVideoBoxConstants","fileSlice","killswitch","getVideo64BitAtomLength","checkForSphericalTag"],(function a(b,c,aa,ba,d,ca){__p&&__p();var e=4,f=4,g=5242880,h=24,i=88,j=20,k=16,l=4,m=84,n=20,o=62,p=4,q=12,r=12,s=16,t=36,u=1,v=1,w=4,x=1,y=1,z=4,A=4,B=1e3;function C(D,E){"use strict";this.$VideoUploadMetadataParser1=D;this.$VideoUploadMetadataParser2=E}C.prototype.getHandler=function(){"use strict";return this.$VideoUploadMetadataParser2};C.prototype.parse=function(){"use strict";__p&&__p();if(!c("VideoUploadFeatureDetector").supportsFileReading()){this.$VideoUploadMetadataParser2(null);return null}switch(this.$VideoUploadMetadataParser1.getExtension()){case"mp4":case"mov":case"m4v":case"3gp":case"3g2":c("VideoUploadSphericalLogger").setFileExtension(this.$VideoUploadMetadataParser1.getExtension());break;default:this.$VideoUploadMetadataParser2(null);return null}return this.$VideoUploadMetadataParser3(0,Math.min(g,this.$VideoUploadMetadataParser1.getSize()),null)};C.prototype.$VideoUploadMetadataParser3=function D(E,F,G){__p&&__p();var H,I,J;return c("regeneratorRuntime").async(function K(L){__p&&__p();while(1)switch(L.prev=L.next){case 0:"use strict";H=new FileReader();I=new(c("Promise"))(function(M,N){__p&&__p();H.onload=function P(event){__p&&__p();var Q;return c("regeneratorRuntime").async(function R(S){__p&&__p();while(1)switch(S.prev=S.next){case 0:S.prev=0;Q=this.$VideoUploadMetadataParser4(new DataView(H.result),0,F-E,E,G);if(!Q.completed){S.next=8;break}Q=this.$VideoUploadMetadataParser5(Q);Q.completed=true;M(Q);S.next=13;break;case 8:S.next=10;return c("regeneratorRuntime").awrap(this.$VideoUploadMetadataParser3(E+Q.nextOffset,Math.min(this.$VideoUploadMetadataParser1.getSize(),E+Q.nextOffset+g),Q));case 10:Q=S.sent;Q.completed=false;M(Q);case 13:S.next=18;break;case 15:S.prev=15;S.t0=S["catch"](0);N(S.t0);case 18:case"end":return S.stop()}},null,this,[[0,15]])}.bind(this);var O=this.$VideoUploadMetadataParser1.getFile();H.readAsArrayBuffer(c("fileSlice").call(O,E,F))}.bind(this));J=this.$VideoUploadMetadataParser6();return L.abrupt("return",new(c("Promise"))(function(M,N){__p&&__p();try{c("Promise").all([I,J]).then(function(P){var Q=P[0];if(Q.completed){var R=P[1];Q.videoPlayerData=R;this.$VideoUploadMetadataParser2(Q)}M(Q)}.bind(this),function(P){this.$VideoUploadMetadataParser2(null);N(P)}.bind(this)).done()}catch(O){this.$VideoUploadMetadataParser2(null);N(O)}}.bind(this)));case 5:case"end":return L.stop()}},null,this)};C.prototype.$VideoUploadMetadataParser6=function(){"use strict";__p&&__p();if(c("killswitch")("VIDEO_DIMENSIONS_FROM_PLAYER_IN_UPLOAD_DIALOG")||!b.URL||!b.URL.createObjectURL)return null;var D=this.$VideoUploadMetadataParser1.getFile(),E=document.createElement("video"),F=new(c("Promise"))(function(H,I){var J=setTimeout(function(){clearTimeout(J);I("Video onloadedmetadata timed out")},B)}),G=new(c("Promise"))(function(H,I){E.onloadedmetadata=function(){try{var K={width:E.videoWidth,height:E.videoHeight};H(K)}catch(J){I(J)}};try{E.src=b.URL.createObjectURL(D)}catch(J){I(J)}});return c("Promise").race([G,F])};C.prototype.$VideoUploadMetadataParser7=function(D,E,F){"use strict";var G=[];for(var H=0;H<F;H++)G.push(String.fromCharCode(D.getUint8(E+H)));return G.join("")};C.prototype.$VideoUploadMetadataParser8=function(D,E,F){"use strict";__p&&__p();var G={version:null,ambisonic_type:null,ambisonic_order:null,ambisonic_channel_ordering:null,ambisonic_normalization:null,num_channels:null,channel_map:[]},H=0;G.version=D.getUint8(E+H);H=u;G.ambisonic_type=D.getUint8(E+H);H+=v;G.ambisonic_order=D.getUint32(E+H);H+=w;G.ambisonic_channel_ordering=D.getUint8(E+H);H+=x;G.ambisonic_normalization=D.getUint8(E+H);H+=y;G.num_channels=D.getUint32(E+H);H+=z;for(var I=0;I<G.num_channels;I++){G.channel_map.push(D.getUint32(E+H));H+=A;if(H>F)return null}return JSON.stringify(G)};C.prototype.$VideoUploadMetadataParser9=function(D,E,F,G){"use strict";__p&&__p();try{var H=f+e,I=c("ISOVideoBoxConstants").GSPHERICAL_UUID.length;if(H+I<F){var J=[];for(var K=0;K<I;K++)J.push(D.getUint8(E+H+K));var L=c("VideoSphericalMetadataUtil").uuidArrayEquals(J,c("ISOVideoBoxConstants").GSPHERICAL_UUID),M=c("VideoSphericalMetadataUtil").uuidArrayEquals(J,c("ISOVideoBoxConstants").FBSPHERICAL_UUID);H+=I;if(L||M){var N=this.$VideoUploadMetadataParser7(D,E+H,F-H);if(c("checkForSphericalTag")(N)){G.sphericalMetadata.spherical=true;if(M)G.sphericalMetadata.FBSphericalMetadataXML=N;else G.sphericalMetadata.sphericalMetadataXml=N}}}}catch(O){}};C.prototype.$VideoUploadMetadataParser4=function(D,E,F,G,H){"use strict";__p&&__p();if(!H)H={widths:[],heights:[],streamTypes:[],streamDurations:[],spherical:false,sphericalMetadata:{sphericalMetadataXml:null,FBSphericalMetadataXML:null,fbSpatialAudioMetadataXml:null,ytSa3dMetadataJson:null},isParsingInMediaInformationAtom:false,endOfMediaInformationAtomOffset:null};var I=null;while(E<F){var J=D.getUint32(E),K=this.$VideoUploadMetadataParser7(D,E+e,f);if(J===1)J=c("getVideo64BitAtomLength")(D,E,f,e);if(E+J>F){H.completed=false;H.nextOffset=E;if(J>F)H.nextOffset+=J;return H}if(H.isParsingInMediaInformationAtom&&E>=H.endOfMediaInformationAtomOffset){H.isParsingInMediaInformationAtom=false;H.endOfMediaInformationAtomOffset=null}if(E+G===0&&K!=="ftyp")throw new Error("No ftyp atom");if(J===0)throw new Error("len is 0");var L=function L(){var Z=D.getUint32(E+j),$=D.getUint32(E+h);return $/Z};switch(K){case"moov":case"trak":case"mdia":case"stbl":E+=e+f;break;case"mvhd":H.duration=L();E+=J;break;case"tkhd":var M=D.getUint16(E+m),N=D.getUint16(E+i);H.widths.push(M);H.heights.push(N);I=D.getUint32(E+n);E+=J;break;case"hdlr":if(!H.isParsingInMediaInformationAtom){var O=this.$VideoUploadMetadataParser7(D,E+k,l);switch(O){case"vide":O="video";break;case"soun":O="audio";break;case"subt":O="subtitle";break;default:O="data"}H.streamTypes.push(O)}E+=J;break;case"mdhd":H.streamDurations.push(L());E+=J;break;case"uuid":this.$VideoUploadMetadataParser9(D,E,J,H);E+=J;break;case"meta":var P=r+q+p,Q=this.$VideoUploadMetadataParser7(D,E+P,4);if(Q!=="face"){E+=J;break}var R=e+f+o,S=this.$VideoUploadMetadataParser7(D,E+R,J-R);if(S!==null){if(H.sphericalMetadata.fbSpatialAudioMetadataXml===null)H.sphericalMetadata.fbSpatialAudioMetadataXml="<fb360_spatial_audio>";if(I)H.sphericalMetadata.fbSpatialAudioMetadataXml+='\n                <track id="'+I.toString()+'">\n                  '+S+"\n                </track>\n              ";else H.sphericalMetadata.fbSpatialAudioMetadataXml+="\n                <spatial_audio_formatting>\n                  "+S+"\n                </spatial_audio_formatting>\n              "}E+=J;break;case"minf":var T=this.$VideoUploadMetadataParser7(D,E+2*e+f,f);if(T==="smhd"){E+=e+f;H.isParsingInMediaInformationAtom=true;H.endOfMediaInformationAtomOffset=E+J}else E+=J;break;case"stsd":var U=this.$VideoUploadMetadataParser7(D,E+f+s,f);if(U==="mp4a")E+=s;else E+=J;break;case"mp4a":var V=D.getUint32(E+t),W=D.getUint32(E+t+V),X=this.$VideoUploadMetadataParser7(D,E+t+V+e,f);if(X==="SA3D"){var Y=this.$VideoUploadMetadataParser8(D,E+t+V+e+f,W);if(Y!==null)if(H.sphericalMetadata.ytSa3dMetadataJson===null)H.sphericalMetadata.ytSa3dMetadataJson=Y}E+=J;break;default:E+=J}}H.completed=true;if(H.sphericalMetadata.fbSpatialAudioMetadataXml)H.sphericalMetadata.fbSpatialAudioMetadataXml+="</fb360_spatial_audio>";return H};C.prototype.$VideoUploadMetadataParser5=function(D){"use strict";__p&&__p();var E={streams:{numAudioTracks:0},format:{},metadata:{}},F=D.widths.length,G=D.heights.length,H=D.streamTypes.length,I=D.streamDurations.length;if(F!==G||F!==H||F!==I)return null;for(var J=0;J<F;J++){var K={width:D.widths[J],height:D.heights[J],duration:D.streamDurations[J],type:D.streamTypes[J]};if(K.type==="video"){var L=K.width*K.height,M=E.streams.primaryVideo;if(!M||M.width*M.height>L)E.streams.primaryVideo=K}else if(K.type==="audio"){var N=E.streams.primaryAudio;if(!N||N.duration<K.duration)E.streams.primaryAudio=K;E.streams.numAudioTracks++}}E.format.duration=D.duration;E.format.isSpherical=D.sphericalMetadata.spherical;if(D.sphericalMetadata.spherical){E.metadata.sphericalMetadataXml=D.sphericalMetadata.sphericalMetadataXml;E.metadata.FBSphericalMetadataXML=D.sphericalMetadata.FBSphericalMetadataXML;E.metadata.fbSpatialAudioMetadataXml=D.sphericalMetadata.fbSpatialAudioMetadataXml;E.metadata.ytSa3dMetadataJson=D.sphericalMetadata.ytSa3dMetadataJson}c("VideoUploadSphericalLogger").setHasSphericalMetadata(D.sphericalMetadata.spherical);return E};d.exports=C}),null);
__d("VideoUploadRequest",["AsyncRequest","DOM","DTSG","FileForm","Form","PHPQuerySerializer","VideoUploadFeatureDetector","emptyFunction","flattenPHPQueryData","submitForm"],(function a(b,c,d,e,f,g){__p&&__p();var h="video";function i(j){"use strict";__p&&__p();this.$VideoUploadRequest1=j;this.$VideoUploadRequest2=null;this.$VideoUploadRequest3=false;this.$VideoUploadRequest4=null;this.$VideoUploadRequest5=null;this.$VideoUploadRequest6=null;this.$VideoUploadRequest7=null;this.$VideoUploadRequest8=c("emptyFunction");this.$VideoUploadRequest9=c("emptyFunction");this.$VideoUploadRequest10=c("emptyFunction");this.$VideoUploadRequest11=c("emptyFunction");this.$VideoUploadRequest12=null}i.prototype.setAllowCrossOrigin=function(j){"use strict";this.$VideoUploadRequest3=j;return this};i.prototype.setData=function(j){"use strict";this.$VideoUploadRequest4=j;return this};i.prototype.setWaterfallID=function(j){"use strict";this.$VideoUploadRequest6=j;return this};i.prototype.setSuccessHandler=function(j){"use strict";this.$VideoUploadRequest8=j;return this};i.prototype.setErrorHandler=function(j){"use strict";this.$VideoUploadRequest9=j;return this};i.prototype.setTransportErrorHandler=function(j){"use strict";this.$VideoUploadRequest10=j;return this};i.prototype.setUploadProgressHandler=function(j){"use strict";this.$VideoUploadRequest11=j;return this};i.prototype.setTimeoutHandler=function(j,k){"use strict";this.$VideoUploadRequest7=j;this.$VideoUploadRequest12=k;return this};i.prototype.setThumbnail=function(j){"use strict";this.$VideoUploadRequest13=j;return this};i.prototype.setHandle=function(j){"use strict";this.$VideoUploadRequest5=j;return this};i.prototype.setCaptions=function(j){"use strict";this.$VideoUploadRequest14=j;return this};i.prototype.setHotspotXML=function(j){"use strict";this.$VideoUploadRequest15=j;return this};i.prototype.send=function(){"use strict";__p&&__p();if(this.$VideoUploadRequest2)throw new Error("An upload request is already in progress.");if(c("VideoUploadFeatureDetector").supportsXHR()){this.$VideoUploadRequest2=this.$VideoUploadRequest16();if(this.$VideoUploadRequest13||this.$VideoUploadRequest14||this.$VideoUploadRequest15){var j=new FormData();if(this.$VideoUploadRequest13)j.append("thumb",this.$VideoUploadRequest13);if(this.$VideoUploadRequest14)this.$VideoUploadRequest14.forEach(function(l,m){var n=l.getIsDefault()?"captions_default":"captions_file"+m;j.append(n,l.getFile())});if(this.$VideoUploadRequest15)j.append("hotspots_xml",this.$VideoUploadRequest15);if(this.$VideoUploadRequest4){var k=c("flattenPHPQueryData")(this.$VideoUploadRequest4);Object.keys(k).forEach(function(l){j.append(l,k[l])})}this.$VideoUploadRequest2.setRawData(j)}this.$VideoUploadRequest2.send()}else{this.$VideoUploadRequest2=this.$VideoUploadRequest17();this.$VideoUploadRequest18(this.$VideoUploadRequest2)}};i.prototype.sendChunk=function(j){"use strict";__p&&__p();if(this.$VideoUploadRequest2)throw new Error("An upload request is already in progress.");var k=new FormData();if(this.$VideoUploadRequest5)k.append("fbuploader_video_file_chunk",this.$VideoUploadRequest5);else k.append("video_file_chunk",j);this.$VideoUploadRequest2=this.$VideoUploadRequest16();this.$VideoUploadRequest2.setRawData(k);this.$VideoUploadRequest2.send()};i.prototype.sendFile=function(j){"use strict";__p&&__p();if(this.$VideoUploadRequest2)throw new Error("An upload request is already in progress.");this.$VideoUploadRequest2=this.$VideoUploadRequest17();var k=j.cloneNode(false);j.name=h;c("DOM").replace(j,k);c("DOM").appendContent(this.$VideoUploadRequest2.getRoot(),j);this.$VideoUploadRequest18(this.$VideoUploadRequest2);j.name=k.name;c("DOM").replace(k,j)};i.prototype.abort=function(){"use strict";if(!this.$VideoUploadRequest2)return;this.$VideoUploadRequest2.abort();this.$VideoUploadRequest2=null};i.prototype.$VideoUploadRequest16=function(){"use strict";var j=this.__getAsyncRequest().setAllowCrossOrigin(this.$VideoUploadRequest3).setURI(this.$VideoUploadRequest1).setData(this.$VideoUploadRequest4).setRequestHeader("X_FB_VIDEO_WATERFALL_ID",this.$VideoUploadRequest6).setHandler(this.$VideoUploadRequest8).setErrorHandler(this.$VideoUploadRequest9).setTransportErrorHandler(this.$VideoUploadRequest10).setUploadProgressHandler(this.$VideoUploadRequest11);if(this.$VideoUploadRequest12)j.setTimeoutHandler(this.$VideoUploadRequest7,this.$VideoUploadRequest12);return j};i.prototype.__getAsyncRequest=function(){"use strict";return new(c("AsyncRequest"))()};i.prototype.$VideoUploadRequest17=function(){"use strict";var j=c("DOM").create("form",{action:this.$VideoUploadRequest1,method:"POST"});c("Form").createHiddenInputs(babelHelpers["extends"]({fb_dtsg:c("DTSG").getToken()},this.$VideoUploadRequest4),j);var k=new(c("FileForm"))(j,null,{allowCrossOrigin:this.$VideoUploadRequest3});k.subscribe("success",this.$VideoUploadRequest19.bind(this));k.subscribe("failure",this.$VideoUploadRequest20.bind(this));k.subscribe("progress",this.$VideoUploadRequest21.bind(this));return k};i.prototype.$VideoUploadRequest18=function(j){"use strict";c("DOM").appendContent(document.body,j.getRoot());c("submitForm")(j.getRoot())};i.prototype.$VideoUploadRequest19=function(event,j){"use strict";this.$VideoUploadRequest8(j.response)};i.prototype.$VideoUploadRequest20=function(event,j){"use strict";this.$VideoUploadRequest9(j.response)};i.prototype.$VideoUploadRequest21=function(event,j){"use strict";this.$VideoUploadRequest11(j.event)};f.exports=i}),null);
__d("VideoUploadPostRequestManager",["ArbiterMixin","VideoUploadRequest","mixin"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("mixin")(c("ArbiterMixin")));i=h&&h.prototype;function j(k,l,m,n,o){"use strict";i.constructor.call(this);this.$VideoUploadPostRequestManager1=k;this.$VideoUploadPostRequestManager2=l;this.$VideoUploadPostRequestManager3=m;this.$VideoUploadPostRequestManager4=0;this.$VideoUploadPostRequestManager5=n;this.$VideoUploadPostRequestManager6=o;this.$VideoUploadPostRequestManager7=0}j.prototype.getRequest=function(){"use strict";return this.$VideoUploadPostRequestManager8};j.prototype.sendRequest=function(k){"use strict";__p&&__p();if(this.$VideoUploadPostRequestManager8)return;this.$VideoUploadPostRequestManager9=babelHelpers["extends"]({},k.getMetadata(),this.__createRequestData(k));this.$VideoUploadPostRequestManager10=this.$VideoUploadPostRequestManager9.thumb;delete this.$VideoUploadPostRequestManager9.thumb;this.$VideoUploadPostRequestManager11=this.$VideoUploadPostRequestManager9.captions;delete this.$VideoUploadPostRequestManager9.captions;this.$VideoUploadPostRequestManager12=this.$VideoUploadPostRequestManager9.hotspotXML;delete this.$VideoUploadPostRequestManager9.hotspotXML;this.$VideoUploadPostRequestManager13=k.getWaterfallID();this.$VideoUploadPostRequestManager14();this.inform("request-started")};j.prototype.$VideoUploadPostRequestManager14=function(){"use strict";clearTimeout(this.$VideoUploadPostRequestManager15);this.$VideoUploadPostRequestManager15=null;this.$VideoUploadPostRequestManager8=this.__getVideoUploadRequest(this.$VideoUploadPostRequestManager1).setAllowCrossOrigin(true).setData(this.$VideoUploadPostRequestManager9).setThumbnail(this.$VideoUploadPostRequestManager10).setCaptions(this.$VideoUploadPostRequestManager11).setHotspotXML(this.$VideoUploadPostRequestManager12).setWaterfallID(this.$VideoUploadPostRequestManager13).setSuccessHandler(this.$VideoUploadPostRequestManager16.bind(this)).setErrorHandler(this.$VideoUploadPostRequestManager17.bind(this)).setTransportErrorHandler(this.$VideoUploadPostRequestManager18.bind(this));this.$VideoUploadPostRequestManager8.send()};j.prototype.__createRequestData=function(k){"use strict";return{video_id:k.getVideoID(),target_id:k.getTargetID(),source:k.getSource(),waterfall_id:k.getWaterfallID(),creator_product:k.getCreatorProduct(),composer_entry_point_ref:k.getComposerEntryPointRef&&k.getComposerEntryPointRef(),composer_dialog_version:k.getComposerDialogVersion(),supports_chunking:k.getSupportsChunking()}};j.prototype.__getVideoUploadRequest=function(k){"use strict";return new(c("VideoUploadRequest"))(k)};j.prototype.clearRequest=function(){"use strict";this.$VideoUploadPostRequestManager8=null;this.$VideoUploadPostRequestManager7=0;this.$VideoUploadPostRequestManager4=0};j.prototype.isInProgress=function(){"use strict";return!!this.$VideoUploadPostRequestManager8};j.prototype.$VideoUploadPostRequestManager19=function(k){"use strict";clearTimeout(this.$VideoUploadPostRequestManager15);this.$VideoUploadPostRequestManager15=setTimeout(this.$VideoUploadPostRequestManager14.bind(this),k)};j.prototype.$VideoUploadPostRequestManager20=function(k,l){"use strict";return Math.pow(k,l)*1e3};j.prototype.$VideoUploadPostRequestManager16=function(k){"use strict";var l=k.getPayload();this.inform("request-finished",{video_id:l.video_id,video_asset_id:l.video_asset_id,container_type:l.container_type,transport_retries:this.$VideoUploadPostRequestManager4,server_retries:this.$VideoUploadPostRequestManager7});this.clearRequest()};j.prototype.$VideoUploadPostRequestManager21=function(k){"use strict";this.inform("request-failed",{error_code:k.getError(),error_description:k.getErrorDescription(),error_summary:k.getErrorSummary(),transport_retries:this.$VideoUploadPostRequestManager4,server_retries:this.$VideoUploadPostRequestManager7,error_is_transient:k.isTransient()});this.clearRequest()};j.prototype.$VideoUploadPostRequestManager17=function(k){"use strict";this.$VideoUploadPostRequestManager8=null;this.$VideoUploadPostRequestManager4=0;if(k.isTransient()&&this.$VideoUploadPostRequestManager7<this.$VideoUploadPostRequestManager5){this.$VideoUploadPostRequestManager7++;this.$VideoUploadPostRequestManager19(this.$VideoUploadPostRequestManager20(this.$VideoUploadPostRequestManager6,this.$VideoUploadPostRequestManager7))}else this.$VideoUploadPostRequestManager21(k)};j.prototype.$VideoUploadPostRequestManager18=function(k){"use strict";if(this.$VideoUploadPostRequestManager2===0||this.$VideoUploadPostRequestManager4>=this.$VideoUploadPostRequestManager2)this.$VideoUploadPostRequestManager21(k);else{this.$VideoUploadPostRequestManager4++;this.$VideoUploadPostRequestManager8=null;this.$VideoUploadPostRequestManager19(this.$VideoUploadPostRequestManager20(this.$VideoUploadPostRequestManager3,this.$VideoUploadPostRequestManager4))}};f.exports=j}),null);
__d("ResumableUploadServiceState.enum",[],(function a(b,c,d,e,f,g){"use strict";var h=Object.freeze({CANCEL:"upload-cancel",FAIL:"upload-fail",FILE_TOO_LARGE:"upload-too-large",NOT_STARTED:"upload-not-started",PROGRESS:"upload-progress",START:"upload-start",SUCCESS:"upload-success",TRANSPORT_FAILURE:"upload-transport-fail"});f.exports=h}),null);
__d("ResumableUploadService",["Promise","AsyncRequest","EventEmitter","ResumableUploadServiceState.enum","URI","uuid"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j="rupload.facebook.com";h=babelHelpers.inherits(k,c("EventEmitter"));i=h&&h.prototype;function k(l,m,n,o,p,q){i.constructor.call(this);this.consumer=l;this.accessToken=m;this.sessionKey=n||c("uuid")();this.contentKey=o||"";this.contentValue=p||"";this.serviceNameOverride=q||""}k.prototype.resume=function(l){__p&&__p();var m=this.serviceNameOverride!=""?this.serviceNameOverride:j,n=new(c("URI"))("https://"+m+"/"+this.consumer+"/"+this.sessionKey);if(this.contentKey&&this.contentValue)n=n.addQueryData(this.contentKey,this.contentValue);var o=function(){return new(c("Promise"))(function(s,t){new(c("AsyncRequest"))().disableInteractionServerTracing().setAllowCrossOrigin(true).setAllowCredentials(false).setMethod("GET").setURI(n).setReadOnly(true).setRequestHeader("Authorization","OAuth "+this.accessToken).setHandler(s).setErrorHandler(t).setOption("suppressEvaluation",true).setTransportErrorHandler(function(event){this.emit(c("ResumableUploadServiceState.enum").TRANSPORT_FAILURE,event)}.bind(this)).send()}.bind(this))}.bind(this),p=function(s){return new(c("Promise"))(function(t,u){var v=JSON.parse(s.payload.response),w=v.offset;this.emit(c("ResumableUploadServiceState.enum").START,{offset:w});this.uploadAsyncRequest=new(c("AsyncRequest"))().disableInteractionServerTracing().setAllowCrossOrigin(true).setAllowCredentials(false).setURI(n).setRawData(l.slice(w)).setHandler(t).setErrorHandler(u).setRequestHeader("Authorization","OAuth "+this.accessToken).setRequestHeader("X-Entity-Name",encodeURIComponent(l.name)).setRequestHeader("X-Entity-Type",l.type).setRequestHeader("X-Entity-Length",String(l.size)).setRequestHeader("Offset",String(w)).setOption("suppressEvaluation",true).setUploadProgressHandler(function(event){var x=new ProgressEvent("upload-service",{total:l.size,loaded:event.loaded+Number(w)});this.emit(c("ResumableUploadServiceState.enum").PROGRESS,x)}.bind(this)).setTransportErrorHandler(function(event){this.emit(c("ResumableUploadServiceState.enum").TRANSPORT_FAILURE,event)}.bind(this));this.uploadAsyncRequest.send()}.bind(this))}.bind(this),q=function(s){if(s!=null){var t=JSON.parse(s.payload.response);this.emit(c("ResumableUploadServiceState.enum").SUCCESS,t.h)}else this.emit(c("ResumableUploadServiceState.enum").FAIL,"uploading failed")}.bind(this),r=function(s){return this.emit(c("ResumableUploadServiceState.enum").FAIL,s)}.bind(this);return o().then(p,r).then(q,r)};k.prototype.cancel=function(){this.uploadAsyncRequest&&this.uploadAsyncRequest.abort();this.emit(c("ResumableUploadServiceState.enum").CANCEL)};f.exports=k}),null);
__d("VideoUploadConnectionMonitor",["ArbiterMixin","Network","VideoUploadFeatureDetector","debounce","mixin"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("mixin")(c("ArbiterMixin")));i=h&&h.prototype;function j(){"use strict";i.constructor.call(this);this.$VideoUploadConnectionMonitor1=false;this.$VideoUploadConnectionMonitor2=[];this.$VideoUploadConnectionMonitor3=false;this.$VideoUploadConnectionMonitor4=true;this.$VideoUploadConnectionMonitor5=c("debounce")(function(){this.$VideoUploadConnectionMonitor6(false)}.bind(this),2e3)}j.prototype.notifyStart=function(){"use strict";__p&&__p();if(this.$VideoUploadConnectionMonitor3)return;if(this.$VideoUploadConnectionMonitor2.length===0){this.$VideoUploadConnectionMonitor2.push(c("Network").addListener("online",function(){this.$VideoUploadConnectionMonitor6(true)}.bind(this)));this.$VideoUploadConnectionMonitor2.push(c("Network").addListener("offline",function(){if(this.$VideoUploadConnectionMonitor1)this.$VideoUploadConnectionMonitor5();else{this.$VideoUploadConnectionMonitor5.reset();setTimeout(this.$VideoUploadConnectionMonitor5,2e3)}}.bind(this)))}this.$VideoUploadConnectionMonitor3=true};j.prototype.notifyProgress=function(event){"use strict";__p&&__p();if(!this.$VideoUploadConnectionMonitor3)return;if(!event)return;if(c("VideoUploadFeatureDetector").supportsFullProgress()){this.$VideoUploadConnectionMonitor1=true;if(event.total&&event.loaded===event.total)this.$VideoUploadConnectionMonitor5.reset();else this.$VideoUploadConnectionMonitor5()}};j.prototype.notifySuccess=function(){"use strict";if(!this.$VideoUploadConnectionMonitor3)return;this.reset();this.$VideoUploadConnectionMonitor6(true)};j.prototype.notifyTransportError=function(){"use strict";if(!this.$VideoUploadConnectionMonitor3)return;this.$VideoUploadConnectionMonitor3=false;this.$VideoUploadConnectionMonitor6(false)};j.prototype.notifyError=function(){"use strict";if(!this.$VideoUploadConnectionMonitor3)return;this.reset();this.$VideoUploadConnectionMonitor6(true)};j.prototype.isOnline=function(){"use strict";return this.$VideoUploadConnectionMonitor4};j.prototype.reset=function(){"use strict";while(this.$VideoUploadConnectionMonitor2.length)this.$VideoUploadConnectionMonitor2.pop().remove();this.$VideoUploadConnectionMonitor5.reset();this.$VideoUploadConnectionMonitor3=false};j.prototype.$VideoUploadConnectionMonitor6=function(k){"use strict";this.$VideoUploadConnectionMonitor5.reset();if(this.$VideoUploadConnectionMonitor4!==k){this.$VideoUploadConnectionMonitor4=k;if(this.$VideoUploadConnectionMonitor4)this.inform("online");else this.inform("offline")}};f.exports=j}),null);
__d("VideoUploadReceiveRequestManager",["fbt","ArbiterMixin","VideoUploadConnectionMonitor","VideoUploadRequest","ResumableUploadService","ResumableUploadServiceState.enum","md5","mixin"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=1363037;i=babelHelpers.inherits(l,c("mixin")(c("ArbiterMixin")));j=i&&i.prototype;function l(m,n,o,p,q,r,s,t,u,v){__p&&__p();var w=arguments.length<=10||arguments[10]===undefined?"":arguments[10],x=arguments.length<=11||arguments[11]===undefined?false:arguments[11],y=arguments.length<=12||arguments[12]===undefined?null:arguments[12];"use strict";j.constructor.call(this);this.$VideoUploadReceiveRequestManager1=m;this.$VideoUploadReceiveRequestManager2=n;this.$VideoUploadReceiveRequestManager3=o!=null?o:0;this.$VideoUploadReceiveRequestManager4=p;this.$VideoUploadReceiveRequestManager5=q;this.$VideoUploadReceiveRequestManager6=r;this.$VideoUploadReceiveRequestManager7=s;this.$VideoUploadReceiveRequestManager8=t;this.$VideoUploadReceiveRequestManager9=u;this.$VideoUploadReceiveRequestManager10=v;this.$VideoUploadReceiveRequestManager11=0;this.$VideoUploadReceiveRequestManager12=0;this.$VideoUploadReceiveRequestManager13=0;this.$VideoUploadReceiveRequestManager14=null;this.$VideoUploadReceiveRequestManager15=null;this.$VideoUploadReceiveRequestManager16=0;this.$VideoUploadReceiveRequestManager17="constructed";this.$VideoUploadReceiveRequestManager18=null;this.$VideoUploadReceiveRequestManager19=w;this.$VideoUploadReceiveRequestManager20=x;this.$VideoUploadReceiveRequestManager21=y;this.$VideoUploadReceiveRequestManager22=false;this.$VideoUploadReceiveRequestManager23=null;this.$VideoUploadReceiveRequestManager24=null;this.$VideoUploadReceiveRequestManager25=false;this.$VideoUploadReceiveRequestManager26=new(c("VideoUploadConnectionMonitor"))();this.$VideoUploadReceiveRequestManager26.subscribe("online",this.$VideoUploadReceiveRequestManager27.bind(this));this.$VideoUploadReceiveRequestManager26.subscribe("offline",this.$VideoUploadReceiveRequestManager28.bind(this))}l.prototype.updateVideoID=function(m){"use strict";if(this.$VideoUploadReceiveRequestManager29.getVideoID())return;this.$VideoUploadReceiveRequestManager29.setVideoID(m);if(this.$VideoUploadReceiveRequestManager30)this.$VideoUploadReceiveRequestManager30.setData(this.__createRequestData(this.$VideoUploadReceiveRequestManager29));this.$VideoUploadReceiveRequestManager31()};l.prototype.isResumabilityEnabled=function(){"use strict";return this.$VideoUploadReceiveRequestManager20};l.prototype.sendRequest=function(m){"use strict";this.$VideoUploadReceiveRequestManager17="sending request";if(this.$VideoUploadReceiveRequestManager30){this.$VideoUploadReceiveRequestManager17="request already in progress";return}this.$VideoUploadReceiveRequestManager16=m.getEndOffset()-m.getStartOffset();this.$VideoUploadReceiveRequestManager29=m;this.$VideoUploadReceiveRequestManager32()};l.prototype.cancelRequest=function(){"use strict";if(!this.$VideoUploadReceiveRequestManager30)return;this.$VideoUploadReceiveRequestManager30.abort();if(this.$VideoUploadReceiveRequestManager18!==null)this.$VideoUploadReceiveRequestManager18.cancel();this.$VideoUploadReceiveRequestManager33()};l.prototype.appendStateLogData=function(m,n){"use strict";__p&&__p();m[n+"request_manager_state"]=this.$VideoUploadReceiveRequestManager17;m[n+"upload_speed"]=this.$VideoUploadReceiveRequestManager15;m[n+"transport_retries"]=this.$VideoUploadReceiveRequestManager11;m[n+"server_retries"]=this.$VideoUploadReceiveRequestManager12;m[n+"timeout_retries"]=this.$VideoUploadReceiveRequestManager13;m[n+"last_timeout_value"]=this.$VideoUploadReceiveRequestManager34;m[n+"last_request_start_time"]=this.$VideoUploadReceiveRequestManager14;m[n+"pending_request"]=this.$VideoUploadReceiveRequestManager30!=null;m[n+"pending_timer"]=this.$VideoUploadReceiveRequestManager35!=null;m[n+"cached_chunk"]=this.$VideoUploadReceiveRequestManager36!=null;m[n+"early_receive_start"]=this.$VideoUploadReceiveRequestManager25;if(this.$VideoUploadReceiveRequestManager29!=null){m[n+"start_offset"]=this.$VideoUploadReceiveRequestManager29.getStartOffset();m[n+"end_offset"]=this.$VideoUploadReceiveRequestManager29.getEndOffset();m[n+"partition_start_offset"]=this.$VideoUploadReceiveRequestManager29.getPartitionStartOffset();m[n+"partition_end_offset"]=this.$VideoUploadReceiveRequestManager29.getPartitionEndOffset()}if(this.$VideoUploadReceiveRequestManager26!=null)m[n+"connection_monitor_online"]=this.$VideoUploadReceiveRequestManager26.isOnline()};l.prototype.$VideoUploadReceiveRequestManager33=function(){"use strict";__p&&__p();this.$VideoUploadReceiveRequestManager30=null;this.$VideoUploadReceiveRequestManager36=null;this.$VideoUploadReceiveRequestManager11=0;this.$VideoUploadReceiveRequestManager12=0;this.$VideoUploadReceiveRequestManager13=0;this.$VideoUploadReceiveRequestManager14=null;this.$VideoUploadReceiveRequestManager15=null;this.$VideoUploadReceiveRequestManager16=0;this.$VideoUploadReceiveRequestManager23=null;this.$VideoUploadReceiveRequestManager24=null;this.$VideoUploadReceiveRequestManager25=false;this.$VideoUploadReceiveRequestManager22=false;this.$VideoUploadReceiveRequestManager29.reset();this.$VideoUploadReceiveRequestManager26.reset();clearTimeout(this.$VideoUploadReceiveRequestManager35);this.$VideoUploadReceiveRequestManager35=null};l.prototype.$VideoUploadReceiveRequestManager32=function(m){"use strict";__p&&__p();clearTimeout(this.$VideoUploadReceiveRequestManager35);this.$VideoUploadReceiveRequestManager35=null;if(this.$VideoUploadReceiveRequestManager29.getSupportsChunking()&&this.$VideoUploadReceiveRequestManager29.getStartOffset()>=this.$VideoUploadReceiveRequestManager29.getPartitionEndOffset()){if(!m){this.inform("request-finished",{start_offset:this.$VideoUploadReceiveRequestManager29.getEndOffset()-1,end_offset:this.$VideoUploadReceiveRequestManager29.getEndOffset(),transport_retries:this.$VideoUploadReceiveRequestManager11,server_retries:this.$VideoUploadReceiveRequestManager12,upload_speed:this.$VideoUploadReceiveRequestManager15,request_manager_state:this.$VideoUploadReceiveRequestManager17});this.$VideoUploadReceiveRequestManager17="request finished - notified"}else this.$VideoUploadReceiveRequestManager17="request finished - not notified";return}this.$VideoUploadReceiveRequestManager30=this.__getVideoUploadRequest(this.$VideoUploadReceiveRequestManager1).setAllowCrossOrigin(true).setData(this.__createRequestData(this.$VideoUploadReceiveRequestManager29)).setWaterfallID(this.$VideoUploadReceiveRequestManager29.getWaterfallID()).setSuccessHandler(this.__handleSuccessResponse.bind(this)).setErrorHandler(this.__handleServerFailureResponse.bind(this)).setTransportErrorHandler(this.$VideoUploadReceiveRequestManager37.bind(this));if(!this.$VideoUploadReceiveRequestManager20)this.$VideoUploadReceiveRequestManager30.setUploadProgressHandler(this.$VideoUploadReceiveRequestManager38.bind(this));this.$VideoUploadReceiveRequestManager14=Date.now();if(this.$VideoUploadReceiveRequestManager29.getSupportsChunking()){if(this.$VideoUploadReceiveRequestManager5){var n=this.$VideoUploadReceiveRequestManager39(this.$VideoUploadReceiveRequestManager29.getEndOffset()-this.$VideoUploadReceiveRequestManager29.getStartOffset(),this.$VideoUploadReceiveRequestManager15);this.$VideoUploadReceiveRequestManager30.setTimeoutHandler(n,this.__handleResponseTimeout.bind(this));this.$VideoUploadReceiveRequestManager17="sending chunk with timeout = "+n;this.$VideoUploadReceiveRequestManager34=n}else this.$VideoUploadReceiveRequestManager17="sending chunk without timeout";var o=this.$VideoUploadReceiveRequestManager40();if(this.$VideoUploadReceiveRequestManager20)this.$VideoUploadReceiveRequestManager41(o);else this.$VideoUploadReceiveRequestManager30.sendChunk(o)}else{this.$VideoUploadReceiveRequestManager17="sending file";this.$VideoUploadReceiveRequestManager30.sendFile(this.$VideoUploadReceiveRequestManager29.getFile().getFileInput())}this.$VideoUploadReceiveRequestManager26.notifyStart();this.inform("request-started",{start_offset:this.$VideoUploadReceiveRequestManager29.getStartOffset(),end_offset:this.$VideoUploadReceiveRequestManager29.getEndOffset(),transport_retries:this.$VideoUploadReceiveRequestManager11,server_retries:this.$VideoUploadReceiveRequestManager12,upload_speed:this.$VideoUploadReceiveRequestManager15,request_manager_state:this.$VideoUploadReceiveRequestManager17})};l.prototype.$VideoUploadReceiveRequestManager42=function(m,n){"use strict";if(!this.$VideoUploadReceiveRequestManager29.getVideoID()){this.$VideoUploadReceiveRequestManager23=m;this.$VideoUploadReceiveRequestManager24=n}else m(n)};l.prototype.$VideoUploadReceiveRequestManager31=function(){"use strict";if(this.$VideoUploadReceiveRequestManager23){this.$VideoUploadReceiveRequestManager23(this.$VideoUploadReceiveRequestManager24);this.$VideoUploadReceiveRequestManager23=null;this.$VideoUploadReceiveRequestManager24=null}};l.prototype.$VideoUploadReceiveRequestManager41=function(m){"use strict";var n=this.$VideoUploadReceiveRequestManager29.getFile(),o=c("md5")(n.getFile().lastModified+n.getFile().name+n.getFile().type+this.$VideoUploadReceiveRequestManager29.getWaterfallID())+"-"+this.$VideoUploadReceiveRequestManager29.getStartOffset()+"-"+this.$VideoUploadReceiveRequestManager29.getEndOffset();if(this.isResumabilityEnabled()&&this.$VideoUploadReceiveRequestManager21&&this.$VideoUploadReceiveRequestManager11>this.$VideoUploadReceiveRequestManager2/3)this.$VideoUploadReceiveRequestManager22=true;this.$VideoUploadReceiveRequestManager18=new(c("ResumableUploadService"))("fb_video",this.$VideoUploadReceiveRequestManager19,o,null,null,!this.$VideoUploadReceiveRequestManager22?this.$VideoUploadReceiveRequestManager21:null);this.$VideoUploadReceiveRequestManager43();this.$VideoUploadReceiveRequestManager18.resume(m);this.inform("resumable-called")};l.prototype.$VideoUploadReceiveRequestManager43=function(){"use strict";__p&&__p();if(!this.$VideoUploadReceiveRequestManager29.getVideoID())this.$VideoUploadReceiveRequestManager25=true;this.$VideoUploadReceiveRequestManager18.addListener(c("ResumableUploadServiceState.enum").START,function(m){this.inform("resumable-started",{resume_from_offset:m.offset})}.bind(this));this.$VideoUploadReceiveRequestManager44=function(m){this.inform("resumable-failed",{error_code:m.getError(),error_description:m.getErrorDescription(),error_summary:m.getErrorSummary(),error_is_transient:m.isTransient()});this.__handleServerFailureResponse(m)}.bind(this);this.$VideoUploadReceiveRequestManager18.addListener(c("ResumableUploadServiceState.enum").FAIL,function(m){this.$VideoUploadReceiveRequestManager42(this.$VideoUploadReceiveRequestManager44,m)}.bind(this));this.$VideoUploadReceiveRequestManager45=function(m){this.$VideoUploadReceiveRequestManager30.setHandle(m);this.$VideoUploadReceiveRequestManager30.sendChunk(null);this.inform("resumable-success",{everstore_handle:m})}.bind(this);this.$VideoUploadReceiveRequestManager18.addListener(c("ResumableUploadServiceState.enum").SUCCESS,function(m){this.$VideoUploadReceiveRequestManager42(this.$VideoUploadReceiveRequestManager45,m)}.bind(this));this.$VideoUploadReceiveRequestManager46=function(m){this.inform("resumable-failed",{error_code:m.getError(),error_description:m.getErrorDescription(),error_summary:m.getErrorSummary(),error_is_transient:m.isTransient()});this.$VideoUploadReceiveRequestManager37(m)}.bind(this);this.$VideoUploadReceiveRequestManager18.addListener(c("ResumableUploadServiceState.enum").TRANSPORT_FAILURE,function(m){this.$VideoUploadReceiveRequestManager42(this.$VideoUploadReceiveRequestManager46,m)}.bind(this));this.$VideoUploadReceiveRequestManager18.addListener(c("ResumableUploadServiceState.enum").PROGRESS,function(event){this.$VideoUploadReceiveRequestManager38(event)}.bind(this))};l.prototype.__getVideoUploadRequest=function(m){"use strict";return new(c("VideoUploadRequest"))(m)};l.prototype.$VideoUploadReceiveRequestManager47=function(m){"use strict";this.$VideoUploadReceiveRequestManager17="setting request to send after"+m;clearTimeout(this.$VideoUploadReceiveRequestManager35);this.$VideoUploadReceiveRequestManager35=setTimeout(this.$VideoUploadReceiveRequestManager32.bind(this),m)};l.prototype.$VideoUploadReceiveRequestManager40=function(){"use strict";if(this.$VideoUploadReceiveRequestManager36)return this.$VideoUploadReceiveRequestManager36;if(this.$VideoUploadReceiveRequestManager20)this.$VideoUploadReceiveRequestManager36=this.$VideoUploadReceiveRequestManager29.getFile().getFile().slice(this.$VideoUploadReceiveRequestManager29.getStartOffset(),this.$VideoUploadReceiveRequestManager29.getEndOffset(),"application/octet-stream");else this.$VideoUploadReceiveRequestManager36=this.$VideoUploadReceiveRequestManager29.getFile().getChunk(this.$VideoUploadReceiveRequestManager29.getStartOffset(),this.$VideoUploadReceiveRequestManager29.getEndOffset());return this.$VideoUploadReceiveRequestManager36};l.prototype.__createRequestData=function(m){"use strict";return{video_id:m.getVideoID(),start_offset:m.getStartOffset(),end_offset:m.getEndOffset(),source:m.getSource(),target_id:m.getTargetID(),waterfall_id:m.getWaterfallID(),composer_entry_point_ref:m.getComposerEntryPointRef&&m.getComposerEntryPointRef(),composer_dialog_version:m.getComposerDialogVersion(),supports_chunking:m.getSupportsChunking(),upload_speed:this.$VideoUploadReceiveRequestManager15,partition_start_offset:m.getPartitionStartOffset(),partition_end_offset:m.getPartitionEndOffset()}};l.prototype.__handleSuccessResponse=function(m){"use strict";__p&&__p();this.$VideoUploadReceiveRequestManager17="success response received";var n=Date.now()-this.$VideoUploadReceiveRequestManager14;n=n===0?1:n;var o=m.getPayload();if(o.start_offset===this.$VideoUploadReceiveRequestManager29.getEndOffset()){var p=this.$VideoUploadReceiveRequestManager29.getEndOffset()-this.$VideoUploadReceiveRequestManager29.getStartOffset();this.$VideoUploadReceiveRequestManager15=Math.floor(p/n)}else this.$VideoUploadReceiveRequestManager15=null;this.$VideoUploadReceiveRequestManager26.notifySuccess();this.inform("request-finished",{start_offset:this.$VideoUploadReceiveRequestManager29.getStartOffset(),end_offset:this.$VideoUploadReceiveRequestManager29.getEndOffset(),transport_retries:this.$VideoUploadReceiveRequestManager11,server_retries:this.$VideoUploadReceiveRequestManager12,upload_speed:this.$VideoUploadReceiveRequestManager15,request_manager_state:this.$VideoUploadReceiveRequestManager17});this.$VideoUploadReceiveRequestManager29.setStartOffset(o.start_offset);var q=o.end_offset;if(this.$VideoUploadReceiveRequestManager29.getClientChunkSize())q=o.start_offset+Math.min(this.$VideoUploadReceiveRequestManager29.getPartitionEndOffset()-o.start_offset,this.$VideoUploadReceiveRequestManager29.getClientChunkSize());this.$VideoUploadReceiveRequestManager29.setEndOffset(q);this.$VideoUploadReceiveRequestManager29.setLastKnownUploadSpeed(this.$VideoUploadReceiveRequestManager15);this.$VideoUploadReceiveRequestManager30=null;this.$VideoUploadReceiveRequestManager36=null;this.$VideoUploadReceiveRequestManager11=0;this.$VideoUploadReceiveRequestManager12=0;this.$VideoUploadReceiveRequestManager13=0;if(this.$VideoUploadReceiveRequestManager29.getSupportsChunking())this.$VideoUploadReceiveRequestManager32(true)};l.prototype.__handleServerFailureResponse=function(m){"use strict";__p&&__p();this.$VideoUploadReceiveRequestManager17="failure response received";this.$VideoUploadReceiveRequestManager30=null;this.$VideoUploadReceiveRequestManager11=0;this.$VideoUploadReceiveRequestManager15=null;this.$VideoUploadReceiveRequestManager13=0;this.$VideoUploadReceiveRequestManager26.notifyError();if(this.__hasInvalidStartOffsetAndHasRetries(m.getError())){this.$VideoUploadReceiveRequestManager12++;var n=m.getPayload();this.$VideoUploadReceiveRequestManager17="invalid offset response received start="+n.start_offset+" end="+n.end_offset;if(this.$VideoUploadReceiveRequestManager29.getStartOffset()!=n.start_offset||this.$VideoUploadReceiveRequestManager29.getEndOffset()!=n.end_offset){this.$VideoUploadReceiveRequestManager29.setStartOffset(n.start_offset);this.$VideoUploadReceiveRequestManager29.setEndOffset(n.end_offset);this.$VideoUploadReceiveRequestManager36=null}this.$VideoUploadReceiveRequestManager32()}else if((m.isTransient()||this.$VideoUploadReceiveRequestManager10)&&this.$VideoUploadReceiveRequestManager12<this.$VideoUploadReceiveRequestManager4){this.$VideoUploadReceiveRequestManager17="transient server error";this.$VideoUploadReceiveRequestManager12++;this.$VideoUploadReceiveRequestManager47(this.$VideoUploadReceiveRequestManager48(this.$VideoUploadReceiveRequestManager9,this.$VideoUploadReceiveRequestManager12,0))}else this.$VideoUploadReceiveRequestManager49(m)};l.prototype.__handleResponseTimeout=function(m){"use strict";__p&&__p();this.inform("request-timeout",{start_offset:this.$VideoUploadReceiveRequestManager29.getStartOffset(),end_offset:this.$VideoUploadReceiveRequestManager29.getEndOffset(),transport_retries:this.$VideoUploadReceiveRequestManager11,server_retries:this.$VideoUploadReceiveRequestManager12,timeout_retries:this.$VideoUploadReceiveRequestManager13,upload_speed:this.$VideoUploadReceiveRequestManager15,request_manager_state:this.$VideoUploadReceiveRequestManager17});this.$VideoUploadReceiveRequestManager30.abort();this.$VideoUploadReceiveRequestManager30=null;this.$VideoUploadReceiveRequestManager15=null;this.$VideoUploadReceiveRequestManager26.notifyTransportError();if(++this.$VideoUploadReceiveRequestManager13<=this.$VideoUploadReceiveRequestManager6){var n=this.$VideoUploadReceiveRequestManager29.getEndOffset()-this.$VideoUploadReceiveRequestManager29.getStartOffset();n=Math.floor(n/2);n=Math.max(n,this.$VideoUploadReceiveRequestManager16);var o=this.$VideoUploadReceiveRequestManager29.getEndOffset();o=Math.min(o,this.$VideoUploadReceiveRequestManager29.getStartOffset()+n);this.$VideoUploadReceiveRequestManager29.setEndOffset(o);this.$VideoUploadReceiveRequestManager36=null;this.$VideoUploadReceiveRequestManager17="resending after timeout with chunksize="+n;this.$VideoUploadReceiveRequestManager32()}else this.$VideoUploadReceiveRequestManager50({error_code:1006,error_description:h._("Votre navigateur semble d\u00e9connect\u00e9. Veuillez v\u00e9rifier votre connexion internet et recommencer."),error_summary:h._("Pas de connexion r\u00e9seau"),error_is_transient:true})};l.prototype.__hasInvalidStartOffsetAndHasRetries=function(m){"use strict";return m===k&&this.$VideoUploadReceiveRequestManager12<this.$VideoUploadReceiveRequestManager4};l.prototype.$VideoUploadReceiveRequestManager37=function(m){"use strict";__p&&__p();this.$VideoUploadReceiveRequestManager26.notifyTransportError();this.$VideoUploadReceiveRequestManager15=null;this.$VideoUploadReceiveRequestManager13=0;if(this.$VideoUploadReceiveRequestManager11<this.$VideoUploadReceiveRequestManager2){this.$VideoUploadReceiveRequestManager17="resending after transport failure";this.$VideoUploadReceiveRequestManager11++;this.$VideoUploadReceiveRequestManager30=null;this.$VideoUploadReceiveRequestManager47(this.$VideoUploadReceiveRequestManager48(this.$VideoUploadReceiveRequestManager8,this.$VideoUploadReceiveRequestManager11,this.$VideoUploadReceiveRequestManager3))}else this.$VideoUploadReceiveRequestManager49(m)};l.prototype.$VideoUploadReceiveRequestManager49=function(m){"use strict";this.$VideoUploadReceiveRequestManager50({error_code:m.getError(),error_description:m.getErrorDescription(),error_summary:m.getErrorSummary(),error_is_transient:m.isTransient()})};l.prototype.$VideoUploadReceiveRequestManager50=function(m){"use strict";this.$VideoUploadReceiveRequestManager17="handling failure error";this.inform("request-failed",m);this.$VideoUploadReceiveRequestManager33()};l.prototype.$VideoUploadReceiveRequestManager38=function(event){"use strict";this.$VideoUploadReceiveRequestManager26.notifyProgress(event);if(this.$VideoUploadReceiveRequestManager29&&this.$VideoUploadReceiveRequestManager29.getFile())this.inform("request-progressed",{file_size:this.$VideoUploadReceiveRequestManager29.getFile().getSize(),start_offset:this.$VideoUploadReceiveRequestManager29.getStartOffset(),sent_bytes:event.loaded,transport_retries:this.$VideoUploadReceiveRequestManager11})};l.prototype.$VideoUploadReceiveRequestManager27=function(event){"use strict";this.inform("online");this.$VideoUploadReceiveRequestManager11=0;this.$VideoUploadReceiveRequestManager13=0;if(this.$VideoUploadReceiveRequestManager35)this.$VideoUploadReceiveRequestManager32()};l.prototype.$VideoUploadReceiveRequestManager28=function(event){"use strict";this.inform("offline")};l.prototype.$VideoUploadReceiveRequestManager48=function(m,n,o){"use strict";var p=0;if(this.$VideoUploadReceiveRequestManager20)p=Math.min(Math.pow(m,n),8)*1e3;else p=Math.pow(m,n)*1e3;if(o>0)p=Math.min(p,o);return p};l.prototype.$VideoUploadReceiveRequestManager39=function(m,n){"use strict";var o;if(n>0)o=n;else o=10;var p=Math.floor(m/o*this.$VideoUploadReceiveRequestManager7/100);return Math.max(p,3e4)};f.exports=l}),null);
__d("VideoUploadRequestContext",[],(function a(b,c,d,e,f,g){__p&&__p();function h(){"use strict";this.reset()}h.prototype.setFile=function(i){"use strict";this.$VideoUploadRequestContext1=i;return this};h.prototype.getFile=function(){"use strict";return this.$VideoUploadRequestContext1};h.prototype.setMetadata=function(i){"use strict";this.$VideoUploadRequestContext2=i;return this};h.prototype.getMetadata=function(){"use strict";return this.$VideoUploadRequestContext2};h.prototype.setVideoID=function(i){"use strict";this.$VideoUploadRequestContext3=i;return this};h.prototype.getVideoID=function(){"use strict";return this.$VideoUploadRequestContext3};h.prototype.setStartOffset=function(i){"use strict";this.$VideoUploadRequestContext4=i;return this};h.prototype.getStartOffset=function(){"use strict";return this.$VideoUploadRequestContext4};h.prototype.setEndOffset=function(i){"use strict";this.$VideoUploadRequestContext5=i;return this};h.prototype.getEndOffset=function(){"use strict";return this.$VideoUploadRequestContext5};h.prototype.setPartitionStartOffset=function(i){"use strict";this.$VideoUploadRequestContext6=i;return this};h.prototype.getPartitionStartOffset=function(){"use strict";return this.$VideoUploadRequestContext6};h.prototype.setPartitionEndOffset=function(i){"use strict";this.$VideoUploadRequestContext7=i;return this};h.prototype.getPartitionEndOffset=function(){"use strict";return this.$VideoUploadRequestContext7};h.prototype.setTargetID=function(i){"use strict";this.$VideoUploadRequestContext8=i;return this};h.prototype.getTargetID=function(){"use strict";return this.$VideoUploadRequestContext8};h.prototype.setSource=function(i){"use strict";this.$VideoUploadRequestContext9=i;return this};h.prototype.setComposerDialogVersion=function(i){"use strict";this.$VideoUploadRequestContext10=i;return this};h.prototype.getComposerDialogVersion=function(){"use strict";return this.$VideoUploadRequestContext10};h.prototype.getSource=function(){"use strict";return this.$VideoUploadRequestContext9};h.prototype.setWaterfallID=function(i){"use strict";this.$VideoUploadRequestContext11=i;return this};h.prototype.getWaterfallID=function(){"use strict";return this.$VideoUploadRequestContext11};h.prototype.setComposerEntryPointRef=function(i){"use strict";this.$VideoUploadRequestContext12=i};h.prototype.getComposerEntryPointRef=function(){"use strict";return this.$VideoUploadRequestContext12};h.prototype.setSupportsChunking=function(i){"use strict";this.$VideoUploadRequestContext13=i;return this};h.prototype.getSupportsChunking=function(){"use strict";return this.$VideoUploadRequestContext13};h.prototype.setSupportsFileAPI=function(i){"use strict";this.$VideoUploadRequestContext14=i;return this};h.prototype.getSupportsFileAPI=function(){"use strict";return this.$VideoUploadRequestContext14};h.prototype.setCreatorProduct=function(i){"use strict";this.$VideoUploadRequestContext15=i;return this};h.prototype.getCreatorProduct=function(){"use strict";return this.$VideoUploadRequestContext15};h.prototype.setLastKnownUploadSpeed=function(i){"use strict";this.$VideoUploadRequestContext16=i};h.prototype.getLastKnownUploadSpeed=function(){"use strict";return this.$VideoUploadRequestContext16||0};h.prototype.setUseParallelChunks=function(i){"use strict";this.$VideoUploadRequestContext17=i};h.prototype.getUseParallelChunks=function(){"use strict";return this.$VideoUploadRequestContext17};h.prototype.setIsSphericalVideo=function(i){"use strict";this.$VideoUploadRequestContext18=i};h.prototype.getIsSphericalVideo=function(){"use strict";return this.$VideoUploadRequestContext18};h.prototype.setSphericalMetadata=function(i){"use strict";this.$VideoUploadRequestContext19=i};h.prototype.getSphericalMetadata=function(){"use strict";return this.$VideoUploadRequestContext19};h.prototype.setEnableOmnistab=function(i){"use strict";this.$VideoUploadRequestContext20=i};h.prototype.getEnableOmnistab=function(){"use strict";return this.$VideoUploadRequestContext20};h.prototype.setClientChunkSize=function(i){"use strict";this.$VideoUploadRequestContext21=i};h.prototype.getClientChunkSize=function(){"use strict";return this.$VideoUploadRequestContext21};h.prototype.reset=function(){"use strict";__p&&__p();this.$VideoUploadRequestContext1=null;this.$VideoUploadRequestContext3=null;this.$VideoUploadRequestContext4=null;this.$VideoUploadRequestContext5=null;this.$VideoUploadRequestContext8=null;this.$VideoUploadRequestContext9=null;this.$VideoUploadRequestContext10=null;this.$VideoUploadRequestContext11=null;this.$VideoUploadRequestContext12=null;this.$VideoUploadRequestContext13=null;this.$VideoUploadRequestContext14=null;this.$VideoUploadRequestContext6=null;this.$VideoUploadRequestContext7=null;this.$VideoUploadRequestContext15=null;this.$VideoUploadRequestContext16=0;this.$VideoUploadRequestContext17=false;this.$VideoUploadRequestContext18=false;this.$VideoUploadRequestContext2={};this.$VideoUploadRequestContext19={};this.$VideoUploadRequestContext20=false;this.$VideoUploadRequestContext21=null};f.exports=h}),null);
__d("VideoUploadStartRequestManager",["ArbiterMixin","VideoUploadRequest","FileHasher","performanceNow","mixin","Assert"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("mixin")(c("ArbiterMixin")));i=h&&h.prototype;function j(k,l,m,n,o,p,q){"use strict";__p&&__p();i.constructor.call(this);this.$VideoUploadStartRequestManager1=k;this.$VideoUploadStartRequestManager2=l;this.$VideoUploadStartRequestManager3=m;this.$VideoUploadStartRequestManager4=0;this.$VideoUploadStartRequestManager5=n;this.$VideoUploadStartRequestManager6=o;this.$VideoUploadStartRequestManager7=p;this.$VideoUploadStartRequestManager8=q;this.$VideoUploadStartRequestManager9=0}j.prototype.getRequest=function(){"use strict";return this.$VideoUploadStartRequestManager10};j.prototype.sendRequest=function(k){"use strict";__p&&__p();if(this.$VideoUploadStartRequestManager11||this.$VideoUploadStartRequestManager10)return;this.$VideoUploadStartRequestManager12=k;if(this.$VideoUploadStartRequestManager5&&this.$VideoUploadStartRequestManager12.getFile().getFile()&&this.$VideoUploadStartRequestManager12.getFile().getFile().size<this.$VideoUploadStartRequestManager6&&c("FileHasher").isSupported()){this.$VideoUploadStartRequestManager13=c("performanceNow")();this.$VideoUploadStartRequestManager11=new(c("FileHasher"))();this.$VideoUploadStartRequestManager11.hash(this.$VideoUploadStartRequestManager12.getFile().getFile(),function(l){this.$VideoUploadStartRequestManager13=c("performanceNow")()-this.$VideoUploadStartRequestManager13;this.$VideoUploadStartRequestManager14=l.hash;this.$VideoUploadStartRequestManager11.destroy();this.$VideoUploadStartRequestManager11=null;if(!l.hash)this.$VideoUploadStartRequestManager15=l.exception;this.$VideoUploadStartRequestManager16()}.bind(this))}else this.$VideoUploadStartRequestManager16()};j.prototype.$VideoUploadStartRequestManager16=function(){"use strict";this.$VideoUploadStartRequestManager17();this.inform("request-started",{hash_time:this.$VideoUploadStartRequestManager13,hash_exception:this.$VideoUploadStartRequestManager15})};j.prototype.$VideoUploadStartRequestManager17=function(){"use strict";clearTimeout(this.$VideoUploadStartRequestManager18);this.$VideoUploadStartRequestManager18=null;this.$VideoUploadStartRequestManager10=this.__getVideoUploadRequest(this.$VideoUploadStartRequestManager1).setAllowCrossOrigin(true).setData(this.__getDataToSend(this.$VideoUploadStartRequestManager12,this.$VideoUploadStartRequestManager14)).setWaterfallID(this.$VideoUploadStartRequestManager12.getWaterfallID()).setSuccessHandler(this.$VideoUploadStartRequestManager19.bind(this)).setErrorHandler(this.$VideoUploadStartRequestManager20.bind(this)).setTransportErrorHandler(this.$VideoUploadStartRequestManager21.bind(this));this.$VideoUploadStartRequestManager10.send()};j.prototype.__getVideoUploadRequest=function(k){"use strict";return new(c("VideoUploadRequest"))(k)};j.prototype.__getDataToSend=function(k,l){"use strict";return{file_size:k.getFile().getSize(),file_extension:k.getFile().getExtension(),target_id:k.getTargetID(),source:k.getSource(),composer_dialog_version:k.getComposerDialogVersion(),waterfall_id:k.getWaterfallID(),composer_entry_point_ref:k.getComposerEntryPointRef&&k.getComposerEntryPointRef(),supports_chunking:k.getSupportsChunking(),supports_file_api:k.getSupportsFileAPI(),partition_start_offset:k.getPartitionStartOffset(),partition_end_offset:k.getPartitionEndOffset(),creator_product:k.getCreatorProduct(),original_file_hash:l,spherical:k.getIsSphericalVideo(),spherical_metadata:k.getSphericalMetadata()}};j.prototype.cancelRequest=function(){"use strict";this.$VideoUploadStartRequestManager22()};j.prototype.$VideoUploadStartRequestManager23=function(k){"use strict";clearTimeout(this.$VideoUploadStartRequestManager18);this.$VideoUploadStartRequestManager18=setTimeout(this.$VideoUploadStartRequestManager17.bind(this),k)};j.prototype.$VideoUploadStartRequestManager22=function(){"use strict";__p&&__p();if(this.$VideoUploadStartRequestManager11){this.$VideoUploadStartRequestManager11.destroy();this.$VideoUploadStartRequestManager11=null}if(this.$VideoUploadStartRequestManager10){this.$VideoUploadStartRequestManager10.abort();this.$VideoUploadStartRequestManager10=null}this.$VideoUploadStartRequestManager9=0;this.$VideoUploadStartRequestManager4=0;this.$VideoUploadStartRequestManager12=null;clearTimeout(this.$VideoUploadStartRequestManager18);this.$VideoUploadStartRequestManager18=null};j.prototype.$VideoUploadStartRequestManager24=function(k,l){"use strict";return Math.pow(k,l)*1e3};j.prototype.$VideoUploadStartRequestManager19=function(k){"use strict";var l=k.getPayload();this.inform("request-finished",this.__getSuccessInformData(l));this.$VideoUploadStartRequestManager10=null;c("Assert").isTrue(this.$VideoUploadStartRequestManager11==null,"Unexpected: if file hasher is not null, clean up is required.")};j.prototype.__getSuccessInformData=function(k){"use strict";return{video_id:k.video_id,start_offset:k.start_offset,end_offset:k.end_offset,transport_retries:this.$VideoUploadStartRequestManager4,server_retries:this.$VideoUploadStartRequestManager9,skip_upload:k.skip_upload,hash_time:this.$VideoUploadStartRequestManager13}};j.prototype.$VideoUploadStartRequestManager25=function(k){"use strict";this.inform("request-failed",this.$VideoUploadStartRequestManager26(k));this.$VideoUploadStartRequestManager10=null;c("Assert").isTrue(this.$VideoUploadStartRequestManager11==null,"Unexpected: if file hasher is not null, clean up is required.")};j.prototype.$VideoUploadStartRequestManager20=function(k){"use strict";this.$VideoUploadStartRequestManager10=null;this.$VideoUploadStartRequestManager4=0;if(k.isTransient()&&this.$VideoUploadStartRequestManager9<this.$VideoUploadStartRequestManager7){this.$VideoUploadStartRequestManager9++;this.$VideoUploadStartRequestManager23(this.$VideoUploadStartRequestManager24(this.$VideoUploadStartRequestManager8,this.$VideoUploadStartRequestManager9))}else this.$VideoUploadStartRequestManager25(k)};j.prototype.$VideoUploadStartRequestManager21=function(k){"use strict";if(this.$VideoUploadStartRequestManager2===0||this.$VideoUploadStartRequestManager4>=this.$VideoUploadStartRequestManager2)this.$VideoUploadStartRequestManager25(k);else{this.$VideoUploadStartRequestManager4++;this.$VideoUploadStartRequestManager10=null;this.$VideoUploadStartRequestManager23(this.$VideoUploadStartRequestManager24(this.$VideoUploadStartRequestManager3,this.$VideoUploadStartRequestManager4))}};j.prototype.$VideoUploadStartRequestManager26=function(k){"use strict";return{error_code:k.getError(),error_description:k.getErrorDescription(),error_summary:k.getErrorSummary(),transport_retries:this.$VideoUploadStartRequestManager4,server_retries:this.$VideoUploadStartRequestManager9,error_is_transient:k.isTransient()}};f.exports=j}),null);
__d("VideoUploadSession",["ArbiterMixin","AsyncRequest","VideoUploadCrashMonitor","VideoUploadFeatureDetector","VideoUploadFileValidator","VideoUploadLogger","VideoUploadMetadataParser","VideoUploadPostRequestManager","VideoUploadReceiveRequestManager","VideoUploadRequestContext","VideoUploadStartRequestManager","WaterfallIDGenerator","mixin"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("mixin")(c("ArbiterMixin")));i=h&&h.prototype;function j(k){"use strict";__p&&__p();i.constructor.call(this);this.$VideoUploadSession1=k.source;this.$VideoUploadSession2=k.composer_dialog_version;this.$VideoUploadSession3=k.target_id;this.$VideoUploadSession4=k.logging_delay;this.$VideoUploadSession5=k.silent_file_validation;this.$VideoUploadSession6=k.background_upload;this.$VideoUploadSession7=k.actor_id;this.$VideoUploadSession8=k.composer_entry_point_ref;this.$VideoUploadSession9=k.monitor_crashes;this.$VideoUploadSession10=k.isMultiMediaPost;this.$VideoUploadSession11=k.container_type;this.$VideoUploadSession12=k.number_of_partitions;this.$VideoUploadSession13=k.multi_partitioning_enabled;this.$VideoUploadSession14=k.change_default_chunk_size;if(this.$VideoUploadSession14)this.$VideoUploadSession15=k.client_chunk_size;this.$VideoUploadSession16=k.early_receive;this.$VideoUploadSession17=false;this.$VideoUploadSession18=new(c("VideoUploadFileValidator"))({minSize:k.min_size,maxSize:k.max_size,minLength:k.min_length,maxLength:k.max_length,minWidth:k.min_width,minHeight:k.min_height,extensions:k.extensions,source:k.source,require16to9AspectRatio:k.require_16to9_aspect_ratio,minAspectRatio:k.min_aspect_ratio,maxAspectRatio:k.max_aspect_ratio});this.$VideoUploadSession19=c("VideoUploadFeatureDetector").supportsChunking();this.$VideoUploadSession20=c("VideoUploadFeatureDetector").supportsFileAPI();if(this.$VideoUploadSession19){this.$VideoUploadSession21=k.parallel_chunk_uploads;if(this.$VideoUploadSession21){this.$VideoUploadSession22=k.parallel_chunk_upload_filesize;this.$VideoUploadSession23=k.default_chunk_size}}else this.$VideoUploadSession21=false;this.$VideoUploadSession24=this.$VideoUploadSession25(k);this.$VideoUploadSession26=this.$VideoUploadSession27(k);if(this.$VideoUploadSession21)if(this.$VideoUploadSession13){var l=0;this.$VideoUploadSession28=[];for(l=0;l<this.$VideoUploadSession12-1;l++)this.$VideoUploadSession28[l]=this.$VideoUploadSession27(k)}else this.$VideoUploadSession28=this.$VideoUploadSession27(k);this.$VideoUploadSession29=this.$VideoUploadSession30(k)}j.prototype.$VideoUploadSession31=function(){"use strict";this.$VideoUploadSession32=[];this.$VideoUploadSession33=[];this.$VideoUploadSession34=[];this.$VideoUploadSession35=[];this.$VideoUploadSession36=[];var k=0;for(k=0;k<this.$VideoUploadSession37-1;k++)this.$VideoUploadSession32.push(false)};j.prototype.$VideoUploadSession38=function(){"use strict";this.$VideoUploadSession39=c("WaterfallIDGenerator").generate();this.$VideoUploadSession40=new(c("VideoUploadLogger"))({actor_id:this.$VideoUploadSession7,source:this.$VideoUploadSession1,composer_dialog_version:this.$VideoUploadSession2,waterfall_id:this.$VideoUploadSession39,target_id:this.$VideoUploadSession3,delay:this.$VideoUploadSession4,is_chunked_upload:this.$VideoUploadSession19,composer_entry_point_ref:this.$VideoUploadSession8,container_type:this.$VideoUploadSession11});this.inform("set-waterfall-id",{waterfallID:this.$VideoUploadSession39})};j.prototype.createTestLogger=function(){"use strict";this.$VideoUploadSession38()};j.prototype.getLogger=function(){"use strict";if(!this.$VideoUploadSession40)return null;return this.$VideoUploadSession40};j.prototype.start=function(k){"use strict";__p&&__p();this.$VideoUploadSession41=null;this.$VideoUploadSession42=false;this.$VideoUploadSession43=false;this.$VideoUploadSession44=k;this.$VideoUploadSession45=0;this.$VideoUploadSession46=false;this.$VideoUploadSession47={sphericalMetadataXml:null,fbSpatialAudioMetadataXml:null,ytSa3dMetadataJson:null};this.$VideoUploadSession48=false;this.$VideoUploadSession38();if(this.$VideoUploadSession13)this.$VideoUploadSession37=Math.min(this.$VideoUploadSession12,Math.ceil(this.$VideoUploadSession44.getSize()/this.$VideoUploadSession22));this.__logEvent(c("VideoUploadLogger").EVENT_REQUESTED_UPLOADING);this.inform("upload-requested");var l=new(c("VideoUploadMetadataParser"))(this.$VideoUploadSession44,this.$VideoUploadSession49.bind(this));l.parse()};j.prototype.setTargetID=function(k){"use strict";this.$VideoUploadSession3=k};j.prototype.post=function(k){"use strict";this.__logEvent(c("VideoUploadLogger").EVENT_STARTED_POST_REQUEST);this.inform("post-started",k);var l=this.__createPostRequestContext(k);this.$VideoUploadSession29.sendRequest(l);this.$VideoUploadSession50=k};j.prototype.__createPostRequestContext=function(k){"use strict";var l=new(c("VideoUploadRequestContext"))();this.__setupPostRequestContext(l,k);return l};j.prototype.__setupPostRequestContext=function(k,l){"use strict";__p&&__p();k.setMetadata(l).setVideoID(this.$VideoUploadSession41).setTargetID(this.$VideoUploadSession3).setSource(this.$VideoUploadSession1).setComposerDialogVersion(this.$VideoUploadSession2).setWaterfallID(this.$VideoUploadSession39).setSupportsChunking(this.$VideoUploadSession19).setCreatorProduct(this.$VideoUploadSession44.getCreatorProduct()).setFile(this.$VideoUploadSession44);if(l){if(l.spherical){this.$VideoUploadSession46=true;k.setIsSphericalVideo(this.$VideoUploadSession46)}if(l.enable_omnistab){this.$VideoUploadSession48=true;k.setEnableOmnistab(this.$VideoUploadSession48)}}if(k.setComposerEntryPointRef)k.setComposerEntryPointRef(this.$VideoUploadSession8)};j.prototype.cancel=function(){"use strict";__p&&__p();if(!this.$VideoUploadSession42)return;var k=this.__fetchReceiveRequestManagerStateLogData();this.$VideoUploadSession51();if(this.$VideoUploadSession6){if(!this.$VideoUploadSession43)this.__logEvent(c("VideoUploadLogger").EVENT_CANCELED_UPLOADING);if(this.$VideoUploadSession52){this.__logEvent(c("VideoUploadLogger").EVENT_CANCELED_FLOW,k);this.$VideoUploadSession52=false}}else{this.__logEvent(c("VideoUploadLogger").EVENT_CANCELED_UPLOADING);this.__logEvent(c("VideoUploadLogger").EVENT_CANCELED_FLOW,k)}};j.prototype.abandon=function(){"use strict";__p&&__p();if(!this.$VideoUploadSession42)return;var k=this.__fetchReceiveRequestManagerStateLogData();this.$VideoUploadSession51();if(this.$VideoUploadSession6){if(!this.$VideoUploadSession43)this.__logEvent(c("VideoUploadLogger").EVENT_ABANDONED_UPLOADING);if(this.$VideoUploadSession52){this.__logEvent(c("VideoUploadLogger").EVENT_CANCELED_FLOW,k);this.$VideoUploadSession52=false}}else{this.__logEvent(c("VideoUploadLogger").EVENT_ABANDONED_UPLOADING);this.__logEvent(c("VideoUploadLogger").EVENT_CANCELED_FLOW,k)}};j.prototype.isPostInProgress=function(){"use strict";return this.$VideoUploadSession29.isInProgress()};j.prototype.isInProgress=function(){"use strict";return this.$VideoUploadSession42};j.prototype.getVideoID=function(){"use strict";return this.$VideoUploadSession41};j.prototype.getUploadTime=function(){"use strict";return this.$VideoUploadSession53};j.prototype.getExPartitionNumber=function(k){"use strict";var l=0;for(l=0;l<this.$VideoUploadSession37-1;l++)if(k>=this.$VideoUploadSession33[l]&&k<this.$VideoUploadSession34[l])break;if(l===this.$VideoUploadSession37)return-1;return l};j.prototype.startFlow=function(){"use strict";if(!this.$VideoUploadSession6||this.$VideoUploadSession52)return;this.__logEvent(c("VideoUploadLogger").EVENT_STARTED_FLOW,{is_spherical:this.$VideoUploadSession46?"true":null});this.$VideoUploadSession52=true;if(this.$VideoUploadSession54)this.$VideoUploadSession54.flowStarted()};j.prototype.$VideoUploadSession49=function(k){"use strict";__p&&__p();var l,m;if(this.$VideoUploadSession5){var n=this.$VideoUploadSession18.getValidationErrorMessage(this.$VideoUploadSession44,k);if(n){m={error_summary:n.summary,error_description:n.description};l=false}else l=true}else l=this.$VideoUploadSession18.validate(this.$VideoUploadSession44,k);if(!l){this.__logEvent(c("VideoUploadLogger").EVENT_INVALIDATED_UPLOADING);this.inform("upload-failed",m);return}if(k&&k.format){this.$VideoUploadSession46=k.format.isSpherical;if(k.metadata){this.$VideoUploadSession47.sphericalMetadataXml=k.metadata.sphericalMetadataXml;this.$VideoUploadSession47.fbSpatialAudioMetadataXml=k.metadata.fbSpatialAudioMetadataXml;this.$VideoUploadSession47.ytSa3dMetadataJson=k.metadata.ytSa3dMetadataJson}}if(!this.$VideoUploadSession6)this.__logEvent(c("VideoUploadLogger").EVENT_STARTED_FLOW,{is_spherical:this.$VideoUploadSession46?"true":null});this.$VideoUploadSession55=this.$VideoUploadSession21&&this.$VideoUploadSession44.getSize()>=this.$VideoUploadSession22;this.$VideoUploadSession56=false;this.$VideoUploadSession57=0;this.$VideoUploadSession58=this.$VideoUploadSession57;this.$VideoUploadSession59=0;if(this.$VideoUploadSession13)this.$VideoUploadSession31();else this.$VideoUploadSession32=false;if(this.$VideoUploadSession55)if(this.$VideoUploadSession13){var o=0;this.$VideoUploadSession60=Math.ceil(this.$VideoUploadSession44.getSize()/this.$VideoUploadSession37);var p=this.$VideoUploadSession60,q=this.$VideoUploadSession60;for(o=0;o<this.$VideoUploadSession37-1;o++){this.$VideoUploadSession33[o]=p;p=Math.min(this.$VideoUploadSession33[o]+q,this.$VideoUploadSession44.getSize());this.$VideoUploadSession34[o]=p;this.$VideoUploadSession35[o]=this.$VideoUploadSession33[o];this.$VideoUploadSession36[o]=0}}else{this.$VideoUploadSession60=Math.floor(this.$VideoUploadSession44.getSize()/2);this.$VideoUploadSession33=this.$VideoUploadSession60;this.$VideoUploadSession35=this.$VideoUploadSession33;this.$VideoUploadSession36=0;this.$VideoUploadSession34=this.$VideoUploadSession44.getSize()}else this.$VideoUploadSession60=this.$VideoUploadSession44.getSize();var r=new(c("VideoUploadRequestContext"))().setFile(this.$VideoUploadSession44).setTargetID(this.$VideoUploadSession3).setSource(this.$VideoUploadSession1).setComposerDialogVersion(this.$VideoUploadSession2).setWaterfallID(this.$VideoUploadSession39).setSupportsChunking(this.$VideoUploadSession19).setSupportsFileAPI(this.$VideoUploadSession20).setCreatorProduct(this.$VideoUploadSession44.getCreatorProduct()).setPartitionStartOffset(this.$VideoUploadSession57).setPartitionEndOffset(this.$VideoUploadSession60);if(this.$VideoUploadSession21)r.setUseParallelChunks(this.$VideoUploadSession21);if(this.$VideoUploadSession46){r.setIsSphericalVideo(this.$VideoUploadSession46);r.setSphericalMetadata(this.$VideoUploadSession47)}if(r.setComposerEntryPointRef)r.setComposerEntryPointRef(this.$VideoUploadSession8);this.$VideoUploadSession61();this.$VideoUploadSession24.sendRequest(r);if(this.$VideoUploadSession16&&this.$VideoUploadSession14&&this.$VideoUploadSession26.isResumabilityEnabled())this.$VideoUploadSession62();this.inform("metadata-parsed",k)};j.prototype.$VideoUploadSession25=function(k){"use strict";var l=this.$VideoUploadSession19?k.chunk_start_uri:k.start_uri,m=this.__getVideoUploadStartRequestManager(l,k.start_max_transport_retries,k.start_transport_retry_interval_base,k.skip_upload_enabled,k.skip_upload_file_size_limit,k.start_max_server_retries,k.start_server_retry_interval_base);m.subscribe("request-started",this.$VideoUploadSession63.bind(this));m.subscribe("request-finished",this.$VideoUploadSession64.bind(this));m.subscribe("request-failed",this.$VideoUploadSession65.bind(this));return m};j.prototype.$VideoUploadSession27=function(k){"use strict";__p&&__p();var l=this.$VideoUploadSession19?k.chunk_receive_uri:k.receive_uri,m=this.__getVideoUploadReceiveRequestManager(l,k);m.subscribe("request-started",this.$VideoUploadSession66.bind(this));m.subscribe("request-progressed",this.$VideoUploadSession67.bind(this));m.subscribe("request-finished",this.$VideoUploadSession68.bind(this));m.subscribe("request-failed",this.$VideoUploadSession69.bind(this));m.subscribe("request-timeout",this.$VideoUploadSession70.bind(this));m.subscribe("online",this.$VideoUploadSession71.bind(this));m.subscribe("offline",this.$VideoUploadSession72.bind(this));m.subscribe("resumable-called",this.$VideoUploadSession73.bind(this));m.subscribe("resumable-started",this.$VideoUploadSession74.bind(this));m.subscribe("resumable-success",this.$VideoUploadSession75.bind(this));m.subscribe("resumable-failed",this.$VideoUploadSession76.bind(this));return m};j.prototype.$VideoUploadSession30=function(k){"use strict";var l=this.$VideoUploadSession19?k.chunk_post_uri:k.post_uri,m=this.__getVideoUploadPostRequestManager(l,k);m.subscribe("request-finished",this.__handlePostRequestFinished.bind(this));m.subscribe("request-failed",this.$VideoUploadSession77.bind(this));return m};j.prototype.$VideoUploadSession63=function(event,k){"use strict";this.__logEvent(c("VideoUploadLogger").EVENT_STARTED_UPLOADING,{hash_time:k.hash_time,hash_exception:k.hash_exception});this.__logEvent(c("VideoUploadLogger").EVENT_STARTED_START_REQUEST);this.$VideoUploadSession78=Date.now();this.inform("upload-started")};j.prototype.$VideoUploadSession62=function(k){"use strict";__p&&__p();if(!this.$VideoUploadSession17){this.$VideoUploadSession17=true;if(!k)k={video_id:null};var l;l=this.__createReceiveRequestContext(k,false);this.$VideoUploadSession26.sendRequest(l);if(this.$VideoUploadSession55)if(this.$VideoUploadSession13){var m=0;for(m=0;m<this.$VideoUploadSession37-1;m++){l=this.__createReceiveRequestContext(k,true,m);this.$VideoUploadSession28[m].sendRequest(l)}}else{l=this.__createReceiveRequestContext(k,true);this.$VideoUploadSession28.sendRequest(l)}}else this.$VideoUploadSession79()};j.prototype.$VideoUploadSession79=function(){"use strict";this.$VideoUploadSession26.updateVideoID(this.$VideoUploadSession41);if(this.$VideoUploadSession55)if(this.$VideoUploadSession13){var k=0;for(k=0;k<this.$VideoUploadSession37-1;k++)this.$VideoUploadSession28[k].updateVideoID(this.$VideoUploadSession41)}else this.$VideoUploadSession28.updateVideoID(this.$VideoUploadSession41)};j.prototype.$VideoUploadSession64=function(event,k){"use strict";__p&&__p();this.__logEvent(c("VideoUploadLogger").EVENT_PROGRESS_UPLOADING_START_REQUEST,{transport_retries:k.transport_retries,hash_time:k.hash_time,skip_upload:k.skip_upload?1:null});this.__logEvent(c("VideoUploadLogger").EVENT_FINISHED_START_REQUEST);this.$VideoUploadSession41=k.video_id;this.$VideoUploadSession80=k.skip_upload;if(!k.skip_upload)this.$VideoUploadSession62(k);else{this.$VideoUploadSession81();this.inform("upload-progressed",{start_offset:0,end_offset:this.$VideoUploadSession44.getSize(),file_size:this.$VideoUploadSession44.getSize(),sent_bytes:this.$VideoUploadSession44.getSize(),video_id:k.video_id,skip_upload:k.skip_upload});if(this.$VideoUploadSession6)this.__logFinishedUploading();this.inform("upload-finished",{start_offset:0,end_offset:this.$VideoUploadSession44.getSize(),video_id:k.video_id,is_spherical_video:this.$VideoUploadSession46})}};j.prototype.__fetchReceiveRequestManagerStateLogData=function(){"use strict";__p&&__p();var k={};if(this.$VideoUploadSession26!=null){this.$VideoUploadSession26.appendStateLogData(k,"requestManager_");k.request_manager_state=k.requestManager_last_log_state}if(this.$VideoUploadSession13){var l=0;for(l=0;l<this.$VideoUploadSession37-1;l++)if(this.$VideoUploadSession28[l]!=null)this.$VideoUploadSession28[l].appendStateLogData(k,"requestManagerEx_"+l.toString())}else if(this.$VideoUploadSession28!=null)this.$VideoUploadSession28.appendStateLogData(k,"requestManagerEx_");return k};j.prototype.__createReceiveRequestContext=function(k,l,m){"use strict";if(!l)l=false;var n=new(c("VideoUploadRequestContext"))();this.$VideoUploadSession13?this.__setupReceiveRequestContext(n,k,l,m):this.__setupReceiveRequestContext(n,k,l);return n};j.prototype.__setupReceiveRequestContext=function(k,l,m,n){"use strict";__p&&__p();var o,p,q,r;if(!m){o=this.$VideoUploadSession57;p=this.$VideoUploadSession60;if(this.$VideoUploadSession14){q=this.$VideoUploadSession57;r=this.$VideoUploadSession15?Math.min(this.$VideoUploadSession15,this.$VideoUploadSession60):this.$VideoUploadSession60}else{q=l.start_offset;r=l.end_offset}}else if(this.$VideoUploadSession13){if(this.$VideoUploadSession14){this.$VideoUploadSession23=this.$VideoUploadSession34[n]-this.$VideoUploadSession33[n];this.$VideoUploadSession23=this.$VideoUploadSession15?Math.min(this.$VideoUploadSession15,this.$VideoUploadSession23):this.$VideoUploadSession23}o=this.$VideoUploadSession33[n];p=this.$VideoUploadSession34[n];q=this.$VideoUploadSession33[n];r=this.$VideoUploadSession33[n]+this.$VideoUploadSession23>=this.$VideoUploadSession34[n]?this.$VideoUploadSession34[n]:this.$VideoUploadSession33[n]+this.$VideoUploadSession23}else{if(this.$VideoUploadSession14){this.$VideoUploadSession23=this.$VideoUploadSession34-this.$VideoUploadSession33;this.$VideoUploadSession23=this.$VideoUploadSession15?Math.min(this.$VideoUploadSession15,this.$VideoUploadSession23):this.$VideoUploadSession23}o=this.$VideoUploadSession33;p=this.$VideoUploadSession34;q=this.$VideoUploadSession33;r=this.$VideoUploadSession33+this.$VideoUploadSession23>=this.$VideoUploadSession34?this.$VideoUploadSession34:this.$VideoUploadSession33+this.$VideoUploadSession23}k.setFile(this.$VideoUploadSession44).setVideoID(l.video_id).setStartOffset(q).setEndOffset(r).setPartitionStartOffset(o).setPartitionEndOffset(p).setTargetID(this.$VideoUploadSession3).setSource(this.$VideoUploadSession1).setComposerDialogVersion(this.$VideoUploadSession2).setWaterfallID(this.$VideoUploadSession39).setSupportsChunking(this.$VideoUploadSession19);if(this.$VideoUploadSession21)k.setUseParallelChunks(this.$VideoUploadSession21);if(k.setComposerEntryPointRef)k.setComposerEntryPointRef(this.$VideoUploadSession8);if(this.$VideoUploadSession15)k.setClientChunkSize(this.$VideoUploadSession15)};j.prototype.$VideoUploadSession65=function(event,k){"use strict";__p&&__p();var l=this.__getLogErrorData(k);this.__logEvent(c("VideoUploadLogger").EVENT_FAILED_START_REQUEST,l);this.__logEvent(c("VideoUploadLogger").EVENT_FAILED_UPLOADING,l);var m=k.error_is_transient?c("VideoUploadLogger").EVENT_RESIGNED_FLOW:c("VideoUploadLogger").EVENT_FAILED_FLOW;if(this.$VideoUploadSession6){if(this.$VideoUploadSession52){this.__logEvent(m);this.$VideoUploadSession52=false}}else this.__logEvent(m);this.$VideoUploadSession81();this.$VideoUploadSession82();this.inform("upload-failed",k)};j.prototype.$VideoUploadSession66=function(event,k){"use strict";if(!k.start_offset&&!k.transport_retries&&!k.server_retries)this.__logEvent(c("VideoUploadLogger").EVENT_STARTED_SENDING_BYTES,{total_bytes:this.$VideoUploadSession44.getSize()});if(this.$VideoUploadSession19)this.__logEvent(c("VideoUploadLogger").EVENT_STARTED_SENDING_CHUNK_BYTES,{start_offset:k.start_offset,total_bytes:k.end_offset-k.start_offset,transport_retries:k.transport_retries,server_retries:k.server_retries,upload_speed:k.upload_speed,request_manager_state:k.request_manager_state})};j.prototype.$VideoUploadSession67=function(event,k){"use strict";__p&&__p();if(k.start_offset<this.$VideoUploadSession60){this.$VideoUploadSession58=k.start_offset;this.$VideoUploadSession59=k.sent_bytes}else if(this.$VideoUploadSession13){var l=0;l=this.getExPartitionNumber(k.start_offset);if(l>-1){this.$VideoUploadSession35[l]=k.start_offset;this.$VideoUploadSession36[l]=k.sent_bytes}}else{this.$VideoUploadSession35=k.start_offset;this.$VideoUploadSession36=k.sent_bytes}k.start_offset=this.$VideoUploadSession58;k.sent_bytes=this.$VideoUploadSession59;if(this.$VideoUploadSession55)if(this.$VideoUploadSession13)for(l=0;l<this.$VideoUploadSession37-1;l++){k.start_offset+=this.$VideoUploadSession35[l]-this.$VideoUploadSession33[l];k.sent_bytes+=this.$VideoUploadSession36[l]}else{k.start_offset+=this.$VideoUploadSession35-this.$VideoUploadSession33;k.sent_bytes+=this.$VideoUploadSession36}var m=Math.min(k.start_offset+k.sent_bytes,k.file_size);if(m>this.$VideoUploadSession45){this.$VideoUploadSession45=m;this.inform("upload-progressed",k)}};j.prototype.$VideoUploadSession68=function(event,k){"use strict";__p&&__p();if(this.$VideoUploadSession19)this.__logEvent(c("VideoUploadLogger").EVENT_FINISHED_SENDING_CHUNK_BYTES,{start_offset:k.start_offset,sent_bytes:k.end_offset-k.start_offset,transport_retries:k.transport_retries,server_retries:k.server_retries,upload_speed:k.upload_speed,request_manager_state:k.request_manager_state});var l=false;if(k.start_offset<this.$VideoUploadSession60)this.$VideoUploadSession56=k.end_offset>=this.$VideoUploadSession60;else if(this.$VideoUploadSession13){var m=0;m=this.getExPartitionNumber(k.start_offset);if(m===-1){var n={error_summary:"Invalid offset",error_description:"Offset doesn't fall in any exPartition range."};this.__logEvent(c("VideoUploadLogger").EVENT_FAILED_UPLOADING);this.inform("upload-failed",n);return}this.$VideoUploadSession32[m]=k.end_offset>=this.$VideoUploadSession34[m]}else this.$VideoUploadSession32=k.end_offset>=this.$VideoUploadSession34;if(this.$VideoUploadSession13)for(m=0;m<this.$VideoUploadSession37-1;m++)if(this.$VideoUploadSession32[m]===false){l=false;break}else l=true;else l=this.$VideoUploadSession32;if(!this.$VideoUploadSession20||this.$VideoUploadSession56&&(!this.$VideoUploadSession55||l)){this.__logEvent(c("VideoUploadLogger").EVENT_FINISHED_SENDING_BYTES,{sent_bytes:this.$VideoUploadSession44.getSize()});this.$VideoUploadSession53=Date.now()-this.$VideoUploadSession78;if(this.$VideoUploadSession6)this.__logFinishedUploading();k.video_id=this.$VideoUploadSession41;k.is_spherical_video=this.$VideoUploadSession46;this.inform("upload-finished",k);if(this.$VideoUploadSession10){if(!this.$VideoUploadSession6)this.__logFinishedUploading();this.__logEvent(c("VideoUploadLogger").EVENT_FINISHED_FLOW,k);this.$VideoUploadSession52=false;this.$VideoUploadSession82();this.inform("multimedia-upload-finished",k)}}};j.prototype.$VideoUploadSession69=function(event,k){"use strict";__p&&__p();var l=this.__getLogErrorData(k);if(this.$VideoUploadSession19)this.__logEvent(c("VideoUploadLogger").EVENT_FAILED_SENDING_CHUNK_BYTES,l);this.__logEvent(c("VideoUploadLogger").EVENT_FAILED_UPLOADING,l);var m=k.error_is_transient?c("VideoUploadLogger").EVENT_RESIGNED_FLOW:c("VideoUploadLogger").EVENT_FAILED_FLOW;if(this.$VideoUploadSession6){if(this.$VideoUploadSession52){this.__logEvent(m);this.$VideoUploadSession52=false}}else this.__logEvent(m);this.$VideoUploadSession82();this.inform("upload-failed",k)};j.prototype.$VideoUploadSession70=function(event,k){"use strict";var l={start_offset:k.start_offset,sent_bytes:k.end_offset-k.start_offset,transport_retries:k.transport_retries,server_retries:k.server_retries,timeout_retries:k.timeout_retries,upload_speed:k.upload_speed,request_manager_state:k.request_manager_state};this.__logEvent(c("VideoUploadLogger").EVENT_TIMEOUT_SENDING_CHUNK_BYTES,l)};j.prototype.$VideoUploadSession71=function(event,k){"use strict";this.inform("online",k)};j.prototype.$VideoUploadSession72=function(event,k){"use strict";this.inform("offline",k)};j.prototype.$VideoUploadSession73=function(event,k){"use strict";this.__logEvent(c("VideoUploadLogger").EVENT_RESUMABLE_CALLED,k)};j.prototype.$VideoUploadSession74=function(event,k){"use strict";this.__logEvent(c("VideoUploadLogger").EVENT_RESUMABLE_STARTED,k)};j.prototype.$VideoUploadSession75=function(event,k){"use strict";this.__logEvent(c("VideoUploadLogger").EVENT_RESUMABLE_SUCCESS,k)};j.prototype.$VideoUploadSession76=function(event,k){"use strict";this.__logEvent(c("VideoUploadLogger").EVENT_RESUMABLE_FAILED,k)};j.prototype.__handlePostRequestFinished=function(event,k){"use strict";__p&&__p();this.__logEvent(c("VideoUploadLogger").EVENT_FINISHED_POST_REQUEST);if(!k.video_id)k.video_id=this.$VideoUploadSession41;if(!this.$VideoUploadSession6)this.__logFinishedUploading();this.__logEvent(c("VideoUploadLogger").EVENT_FINISHED_FLOW);this.$VideoUploadSession52=false;this.$VideoUploadSession82();var l=babelHelpers["extends"]({},k,this.$VideoUploadSession50);this.inform("post-finished",l)};j.prototype.__logFinishedUploading=function(){"use strict";this.__logEvent(c("VideoUploadLogger").EVENT_FINISHED_UPLOADING,{elapsed_time:this.$VideoUploadSession53,skip_upload:this.$VideoUploadSession80?1:null});this.$VideoUploadSession43=true};j.prototype.$VideoUploadSession77=function(event,k){"use strict";__p&&__p();var l=this.__getLogErrorData(k);this.__logEvent(c("VideoUploadLogger").EVENT_FAILED_POST_REQUEST,l);if(this.$VideoUploadSession42){this.__logEvent(c("VideoUploadLogger").EVENT_FAILED_UPLOADING,l);var m=k.error_is_transient?c("VideoUploadLogger").EVENT_RESIGNED_FLOW:c("VideoUploadLogger").EVENT_FAILED_FLOW;this.__logEvent(m)}this.$VideoUploadSession82();this.inform("post-failed",k)};j.prototype.$VideoUploadSession81=function(){"use strict";__p&&__p();this.$VideoUploadSession26.cancelRequest();if(this.$VideoUploadSession55)if(this.$VideoUploadSession13){var k=0;for(k=0;k<this.$VideoUploadSession37-1;k++)this.$VideoUploadSession28[k].cancelRequest()}else this.$VideoUploadSession28.cancelRequest();this.$VideoUploadSession17=false};j.prototype.$VideoUploadSession51=function(){"use strict";this.$VideoUploadSession24.cancelRequest();this.$VideoUploadSession81();this.$VideoUploadSession82();if(this.$VideoUploadSession41){new(c("AsyncRequest"))("/ajax/video/actions/delete").setData({fbid:this.$VideoUploadSession41,redirect:false}).send();this.$VideoUploadSession41=null}};j.prototype.$VideoUploadSession61=function(){"use strict";this.$VideoUploadSession42=true;if(this.$VideoUploadSession9){this.$VideoUploadSession54=new(c("VideoUploadCrashMonitor"))(this.$VideoUploadSession39,this.$VideoUploadSession7,this.$VideoUploadSession1,this.$VideoUploadSession3,this.$VideoUploadSession4,this.$VideoUploadSession19,this.$VideoUploadSession8,!this.$VideoUploadSession6||this.$VideoUploadSession52);this.$VideoUploadSession54.startSession()}};j.prototype.$VideoUploadSession82=function(){"use strict";this.$VideoUploadSession42=false;if(this.$VideoUploadSession54){this.$VideoUploadSession54.endSession();this.$VideoUploadSession54=null}};j.prototype.__getLogErrorData=function(k){"use strict";return{error:k.error_summary,error_code:k.error_code,error_description:k.error_description,transport_retries:k.transport_retries,server_retries:k.server_retries,request_manager_state:k.request_manager_state}};j.prototype.__logEvent=function(event,k){"use strict";var l=this.getLogger();k=k||{};if(this.$VideoUploadSession44){k.file_size=this.$VideoUploadSession44.getSize();k.file_extension=this.$VideoUploadSession44.getExtension();k.sent_bytes=this.$VideoUploadSession45}l.logEvent(event,k)};j.prototype.__getVideoUploadStartRequestManager=function(k,l,m,n,o,p,q){"use strict";return new(c("VideoUploadStartRequestManager"))(k,l,m,n,o,p,q)};j.prototype.__getVideoUploadReceiveRequestManager=function(k,l){"use strict";return new(c("VideoUploadReceiveRequestManager"))(k,l.max_transport_retries,l.max_transport_retry_timeout,l.max_server_retries,l.response_timeout_enabled,l.max_response_timeout_retries,l.response_timeout_speed_variation_factor_ppt,l.transport_retry_interval_base,l.server_retry_interval_base,l.receive_errors_force_retry,l.access_token,l.resumability_enabled,l.resumable_service_override)};j.prototype.__getVideoUploadPostRequestManager=function(k,l){"use strict";return new(c("VideoUploadPostRequestManager"))(k,l.post_max_transport_retries,l.post_transport_retry_interval_base,l.post_max_server_retries,l.post_server_retry_interval_base)};f.exports=j}),null);
__d("VideoUploader",["ArbiterMixin","VideoUploadCrashMonitor","VideoUploadSession","mixin"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("mixin")(c("ArbiterMixin")));i=h&&h.prototype;function j(k){"use strict";i.constructor.call(this);this.$VideoUploader1=k;this.$VideoUploader2=null;if(k.monitor_crashes){this.$VideoUploader3=new(c("VideoUploadCrashMonitor"))();this.$VideoUploader3.logKnownCrashes()}}j.prototype.getLogger=function(){"use strict";if(!this.$VideoUploader2)return;if(this.$VideoUploader2.getLogger)return this.$VideoUploader2.getLogger()};j.prototype.upload=function(k){"use strict";if(this.$VideoUploader2)return;this.$VideoUploader2=this.__getVideoUploadSession(this.$VideoUploader1);this.$VideoUploader2.subscribe(this.__getEventsWhichShouldListenFromSession(),function(event,l){return this.$VideoUploader4(event,l)}.bind(this));this.$VideoUploader2.start(k)};j.prototype.__getVideoUploadSession=function(k){"use strict";return new(c("VideoUploadSession"))(k)};j.prototype.__getEventsWhichShouldListenFromSession=function(){"use strict";return["upload-requested","upload-started","upload-progressed","upload-finished","upload-failed","post-started","post-finished","post-failed","online","offline","metadata-parsed","set-waterfall-id"]};j.prototype.postUserRequest=function(){"use strict";if(!this.$VideoUploader2)return;if(this.$VideoUploader2.startFlow)this.$VideoUploader2.startFlow()};j.prototype.setTargetID=function(k){"use strict";this.$VideoUploader2.setTargetID(k)};j.prototype.post=function(k){"use strict";if(!this.$VideoUploader2)return;this.$VideoUploader2.post(k)};j.prototype.getVideoID=function(){"use strict";return this.$VideoUploader2.getVideoID()};j.prototype.cancel=function(){"use strict";if(!this.$VideoUploader2)return;this.$VideoUploader2.cancel();this.$VideoUploader2=null};j.prototype.abandon=function(){"use strict";if(!this.$VideoUploader2)return;this.$VideoUploader2.abandon();this.$VideoUploader2=null};j.prototype.reset=function(){"use strict";this.$VideoUploader2=null};j.prototype.getUploadSession=function(){"use strict";return this.$VideoUploader2};j.prototype.getLoggerData=function(){"use strict";return{waterfall_id:this.$VideoUploader2?this.$VideoUploader2.$VideoUploader5:null,actor_id:this.$VideoUploader1.actor_id,target_id:this.$VideoUploader1.target_id,target_type:this.$VideoUploader1.target_type,composer_entry_point_ref:this.$VideoUploader1.composer_entry_point_ref}};j.prototype.isPostInProgress=function(){"use strict";return!!this.$VideoUploader2&&this.$VideoUploader2.isPostInProgress()};j.prototype.isSessionInProgress=function(){"use strict";return!!this.$VideoUploader2&&this.$VideoUploader2.isInProgress()};j.prototype.getUploadParameters=function(){"use strict";return this.$VideoUploader1};j.prototype.__getSession=function(){"use strict";return this.$VideoUploader2};j.prototype.__getEventsForWhichSessionShouldBeSetToNull=function(){"use strict";return["upload-failed","post-finished","multimedia-upload-finished"]};j.prototype.$VideoUploader4=function(event,k){"use strict";if(this.__getEventsForWhichSessionShouldBeSetToNull().includes(event))this.$VideoUploader2=null;this.__delegateEvent(event,k)};j.prototype.__delegateEvent=function(event,k){"use strict";this.inform(event,k)};f.exports=j}),null);
__d("ReactComposerVideoXUploader",["invariant","Arbiter","DOM","JSLogger","Map","MultimediaUploadProcessingDialog.react","PhotosUploadID","React","ReactComposerEvents","ReactComposerMediaFilterUtils","ReactComposerMediaUploadActions","ReactComposerMediaUploadActionType","ReactComposerMediaUploadStore","ReactComposerMediaUploadType","ReactDOM","Run","Set","StickyUploadAPI","SubscriptionsHandler","VideoCreatorProductType","VideoUploader","VideoUploadFile","VideoUploadLogger","VideoUploadProgressBar","ifRequired","throttle","ReactComposerMediaUtils"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=250;function j(k){__p&&__p();this.$ReactComposerVideoXUploader13=function(){this.$ReactComposerVideoXUploader22().logEvent(c("VideoUploadLogger").EVENT_FINISHED_FLOW_EXP1);var l=c("DOM").create("div");c("DOM").appendContent(document.body,l);var m=this.$ReactComposerVideoXUploader6>0&&!this.$ReactComposerVideoXUploader12;c("ifRequired")("ReactComposerOptimisticPostingStore",function(n){if(n.hadOptimisticallyPosted(this.$ReactComposerVideoXUploader1))m=false}.bind(this),function(){});if(m)c("ReactDOM").render(c("React").createElement(c("MultimediaUploadProcessingDialog.react"),{numOfVideos:this.$ReactComposerVideoXUploader6}),l)}.bind(this);this.$ReactComposerVideoXUploader14=function(){this.$ReactComposerVideoXUploader22().logEvent(c("VideoUploadLogger").EVENT_STARTED_FLOW_EXP1);this.$ReactComposerVideoXUploader6=c("ReactComposerMediaUploadStore").getNonPrefillVideoUploadsCount(this.$ReactComposerVideoXUploader1)}.bind(this);this.$ReactComposerVideoXUploader3=k;this.$ReactComposerVideoXUploader2=new(c("SubscriptionsHandler"))();this.$ReactComposerVideoXUploader6=0;this.$ReactComposerVideoXUploader7=new(c("Map"))();this.$ReactComposerVideoXUploader8=new(c("Set"))();this.$ReactComposerVideoXUploader9=false;this.$ReactComposerVideoXUploader12=false;k.composerID||h(0);k.uploaderParams||h(0);this.$ReactComposerVideoXUploader2.addSubscriptions(c("Arbiter").subscribe(c("ReactComposerEvents").POST_SUCCEEDED+k.composerID,c("throttle")(this.$ReactComposerVideoXUploader13,i,this)),c("Arbiter").subscribe(c("ReactComposerEvents").POST_STARTED+k.composerID,c("throttle")(this.$ReactComposerVideoXUploader14,i,this)));this.$ReactComposerVideoXUploader1=k.composerID;this.$ReactComposerVideoXUploader4=k.uploaderParams;this.$ReactComposerVideoXUploader5=c("JSLogger").create("composer");c("Run").onLeave(function(){return this.cancelUploads()}.bind(this));c("Run").onUnload(function(){return this.cancelUploads()}.bind(this))}j.prototype.cancelUploads=function(){this.$ReactComposerVideoXUploader8.forEach(function(k){var l=k.uploadID;this.$ReactComposerVideoXUploader8["delete"](k);var m=this.$ReactComposerVideoXUploader7.get(l);if(m)m.abandon()}.bind(this));this.$ReactComposerVideoXUploader9=false};j.prototype.upload=function(k){__p&&__p();k.forEach(function(m){if(!c("ReactComposerMediaFilterUtils").hasVideos([m.name]))return;if(!m.uploadID)m.uploadID=c("PhotosUploadID").getNewID();this.$ReactComposerVideoXUploader15(m)}.bind(this));var l=k.find(function(m){return c("ReactComposerMediaFilterUtils").hasVideos([m.name])});if(!this.$ReactComposerVideoXUploader9&&l)this.uploadVideo(l)};j.prototype.uploadVideo=function(k){__p&&__p();if(!k)return;this.$ReactComposerVideoXUploader9=true;var l=JSON.parse(JSON.stringify(this.$ReactComposerVideoXUploader4));l.isMultiMediaPost=true;var m=new(c("VideoUploader"))(l);this.$ReactComposerVideoXUploader7.set(k.uploadID,m);var n=c("VideoUploadFile").fromFile(k);if(n.getCreatorProduct()==c("VideoCreatorProductType").ANIMATED_GIFS)this.$ReactComposerVideoXUploader12=true;this.$ReactComposerVideoXUploader2.addSubscriptions(m.subscribe("metadata-parsed",this.$ReactComposerVideoXUploader16.bind(this,k)),m.subscribe("upload-started",this.$ReactComposerVideoXUploader17.bind(this,k)),m.subscribe("upload-progressed",this.$ReactComposerVideoXUploader18.bind(this,k)),m.subscribe("upload-failed",this.$ReactComposerVideoXUploader19.bind(this,k)),m.subscribe("upload-finished",this.$ReactComposerVideoXUploader20.bind(this,k)),m.subscribe("set-waterfall-id",this.$ReactComposerVideoXUploader21.bind(this,k)));if(c("StickyUploadAPI").enabled())c("StickyUploadAPI").registerUpload();try{m.upload(n)}catch(o){this.$ReactComposerVideoXUploader5.error("error_send_unpublished_files",o);throw o}};j.prototype.cancelUpload=function(k){__p&&__p();var l=this.$ReactComposerVideoXUploader7.get(k);if(l){l.cancel();l.reset();this.$ReactComposerVideoXUploader7["delete"](k);if(this.$ReactComposerVideoXUploader8.size>0){var m=this.$ReactComposerVideoXUploader8.values().next().value;this.uploadVideo(m)}else this.$ReactComposerVideoXUploader9=false}this.deleteUpload(k)};j.prototype.deleteUpload=function(k){this.$ReactComposerVideoXUploader8.forEach(function(l){if(l.uploadID===k)this.$ReactComposerVideoXUploader8["delete"](l)}.bind(this))};j.prototype.$ReactComposerVideoXUploader20=function(k,l,m){__p&&__p();c("ReactComposerMediaUploadActions").doneUploading({composerID:this.$ReactComposerVideoXUploader1,uploadID:k.uploadID,type:c("ReactComposerMediaUploadActionType").VIDEO_UPLOAD_DONE,fileUpload:k,timeToUpload:0,photoID:m.video_id,sphericalPhotoID:"",thumbSrc:"",isSphericalVideo:m.is_spherical_video});var n=this.$ReactComposerVideoXUploader7.get(k.uploadID);if(n){n.reset();this.$ReactComposerVideoXUploader7["delete"](k.uploadID)}c("ReactComposerMediaUtils").changeToPeopleTaggerAfterUpload(this.$ReactComposerVideoXUploader1);this.$ReactComposerVideoXUploader9=false;this.$ReactComposerVideoXUploader8["delete"](k);if(this.$ReactComposerVideoXUploader8.size>0){var o=this.$ReactComposerVideoXUploader8.values().next().value;this.uploadVideo(o)}};j.prototype.$ReactComposerVideoXUploader15=function(k){this.$ReactComposerVideoXUploader8.add(k);c("ReactComposerMediaUploadActions").enqueue(this.$ReactComposerVideoXUploader1,k.uploadID,k.name,c("ReactComposerMediaUploadStore").getUploads(this.$ReactComposerVideoXUploader1).size,c("ReactComposerMediaUploadActionType").VIDEO_UPLOAD_ENQUEUED,c("ReactComposerMediaUploadType").VIDEO,URL.createObjectURL(k))};j.prototype.$ReactComposerVideoXUploader16=function(k,l,m){c("ReactComposerMediaUploadActions").videoMetadataParsed(this.$ReactComposerVideoXUploader1,k.uploadID,m)};j.prototype.$ReactComposerVideoXUploader17=function(k,l){c("ReactComposerMediaUploadActions").startUploading(this.$ReactComposerVideoXUploader1,k.uploadID,k,c("ReactComposerMediaUploadActionType").VIDEO_UPLOAD_UPLOADING)};j.prototype.$ReactComposerVideoXUploader18=function(k,l,m){var n=c("VideoUploadProgressBar").computeProgress(m.start_offset,m.sent_bytes,m.file_size,0,0),o=false;if(this.$ReactComposerVideoXUploader4)o=this.$ReactComposerVideoXUploader4.use_real_progress_percentage;if(!o)n=Math.round(n);c("ReactComposerMediaUploadActions").progressUploading(this.$ReactComposerVideoXUploader1,k.uploadID,n,o,this.$ReactComposerVideoXUploader4.use_progress_linearity)};j.prototype.$ReactComposerVideoXUploader19=function(k,l,m){var n={code:m.error_code,description:m.error_description,summary:m.error_summary,"transient":m.error_is_transient||m.error_code==1004||m.error_code==1006};c("ReactComposerMediaUploadActions").failUploading(this.$ReactComposerVideoXUploader1,k.uploadID,k,0,n,c("ReactComposerMediaUploadActionType").VIDEO_UPLOAD_FAILED);this.$ReactComposerVideoXUploader9=false};j.prototype.$ReactComposerVideoXUploader21=function(k,l,m){if(!this.$ReactComposerVideoXUploader10)this.$ReactComposerVideoXUploader10=m.waterfallID};j.prototype.$ReactComposerVideoXUploader23=function(){this.$ReactComposerVideoXUploader11=new(c("VideoUploadLogger"))({actor_id:this.$ReactComposerVideoXUploader4.actorID,source:this.$ReactComposerVideoXUploader4.source,waterfall_id:this.$ReactComposerVideoXUploader10,target_id:this.$ReactComposerVideoXUploader4.targetID,composer_entry_point_ref:this.$ReactComposerVideoXUploader4.composerEntryPointRef})};j.prototype.$ReactComposerVideoXUploader22=function(){if(!this.$ReactComposerVideoXUploader11)this.$ReactComposerVideoXUploader23();return this.$ReactComposerVideoXUploader11};j.prototype.destroy=function(){this.$ReactComposerVideoXUploader2.release()};j.prototype.getUploader=function(k){return this.$ReactComposerVideoXUploader7.get(k)};f.exports=j}),null);
__d("findRangesImmutable",[],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i,j,k,l){__p&&__p();if(!i.size)return;var m=0;i.reduce(function(n,o,p){if(!j(n,o)){if(k(n))l(m,p);m=p}return o});k(i.last())&&l(m,i.count())}f.exports=h}),null);
__d("BlockTree",["immutable","emptyFunction","findRangesImmutable"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("immutable").List,i=c("immutable").Repeat,j=c("immutable").Record,k=c("emptyFunction").thatReturnsTrue,l="-",m={start:null,end:null},n=j(m),o={start:null,end:null,decoratorKey:null,leaves:null},p=j(o),q={generate:function t(u,v,w){var x=v.getLength();if(!x)return h.of(new p({start:0,end:0,decoratorKey:null,leaves:h.of(new n({start:0,end:0}))}));var y=[],z=w?w.getDecorations(v,u):h(i(null,x)),A=v.getCharacterList();c("findRangesImmutable")(z,s,k,function(B,C){y.push(new p({start:B,end:C,decoratorKey:z.get(B),leaves:r(A.slice(B,C).toList(),B)}))});return h(y)},getFingerprint:function t(u){return u.map(function(v){var w=v.get("decoratorKey"),x=w!==null?w+"."+(v.get("end")-v.get("start")):"";return""+x+"."+v.get("leaves").size}).join(l)}};function r(t,u){var v=[],w=t.map(function(x){return x.getStyle()}).toList();c("findRangesImmutable")(w,s,k,function(x,y){v.push(new n({start:x+u,end:y+u}))});return h(v)}function s(t,u){return t===u}f.exports=q}),null);
__d("BlockMapBuilder",["immutable"],(function a(b,c,d,e,f,g){"use strict";var h=c("immutable").OrderedMap,i={createFromArray:function j(k){return h(k.map(function(l){return[l.getKey(),l]}))}};f.exports=i}),null);
__d("CharacterMetadata",["immutable"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("immutable").Map,k=c("immutable").OrderedSet,l=c("immutable").Record,m=k(),n={style:m,entity:null},o=l(n);h=babelHelpers.inherits(p,o);i=h&&h.prototype;p.prototype.getStyle=function(){return this.get("style")};p.prototype.getEntity=function(){return this.get("entity")};p.prototype.hasStyle=function(s){return this.getStyle().includes(s)};p.applyStyle=function(s,t){var u=s.set("style",s.getStyle().add(t));return p.create(u)};p.removeStyle=function(s,t){var u=s.set("style",s.getStyle().remove(t));return p.create(u)};p.applyEntity=function(s,t){var u=s.getEntity()===t?s:s.set("entity",t);return p.create(u)};p.create=function(s){if(!s)return q;var t={style:m,entity:null},u=j(t).merge(s),v=r.get(u);if(v)return v;var w=new p(u);r=r.set(u,w);return w};function p(){h.apply(this,arguments)}var q=new p(),r=j([[j(n),q]]);p.EMPTY=q;f.exports=p}),null);
__d("ContentBlock",["CharacterMetadata","immutable","findRangesImmutable"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("immutable").List,k=c("immutable").Map,l=c("immutable").OrderedSet,m=c("immutable").Record,n=c("immutable").Repeat,o=l(),p={key:"",type:"unstyled",text:"",characterList:j(),depth:0,data:k()},q=m(p),r=function r(v){if(!v)return v;var w=v.characterList,x=v.text;if(x&&!w)v.characterList=j(n(c("CharacterMetadata").EMPTY,x.length));return v};h=babelHelpers.inherits(s,q);i=h&&h.prototype;function s(v){i.constructor.call(this,r(v))}s.prototype.getKey=function(){return this.get("key")};s.prototype.getType=function(){return this.get("type")};s.prototype.getText=function(){return this.get("text")};s.prototype.getCharacterList=function(){return this.get("characterList")};s.prototype.getLength=function(){return this.getText().length};s.prototype.getDepth=function(){return this.get("depth")};s.prototype.getData=function(){return this.get("data")};s.prototype.getInlineStyleAt=function(v){var w=this.getCharacterList().get(v);return w?w.getStyle():o};s.prototype.getEntityAt=function(v){var w=this.getCharacterList().get(v);return w?w.getEntity():null};s.prototype.findStyleRanges=function(v,w){c("findRangesImmutable")(this.getCharacterList(),t,v,w)};s.prototype.findEntityRanges=function(v,w){c("findRangesImmutable")(this.getCharacterList(),u,v,w)};function t(v,w){return v.getStyle()===w.getStyle()}function u(v,w){return v.getEntity()===w.getEntity()}f.exports=s}),null);
__d("ContentBlockNode",["CharacterMetadata","immutable","findRangesImmutable"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("immutable").List,k=c("immutable").Map,l=c("immutable").OrderedSet,m=c("immutable").Record,n=c("immutable").Repeat,o=l(),p={parent:null,characterList:j(),data:k(),depth:0,key:"",text:"",type:"unstyled",children:j(),prevSibling:null,nextSibling:null},q=function q(u,v){return u.getStyle()===v.getStyle()},r=function r(u,v){return u.getEntity()===v.getEntity()},s=function s(u){if(!u)return u;var v=u.characterList,w=u.text;if(w&&!v)u.characterList=j(n(c("CharacterMetadata").EMPTY,w.length));return u};h=babelHelpers.inherits(t,m(p));i=h&&h.prototype;function t(){var u=arguments.length<=0||arguments[0]===undefined?p:arguments[0];i.constructor.call(this,s(u))}t.prototype.getKey=function(){return this.get("key")};t.prototype.getType=function(){return this.get("type")};t.prototype.getText=function(){return this.get("text")};t.prototype.getCharacterList=function(){return this.get("characterList")};t.prototype.getLength=function(){return this.getText().length};t.prototype.getDepth=function(){return this.get("depth")};t.prototype.getData=function(){return this.get("data")};t.prototype.getInlineStyleAt=function(u){var v=this.getCharacterList().get(u);return v?v.getStyle():o};t.prototype.getEntityAt=function(u){var v=this.getCharacterList().get(u);return v?v.getEntity():null};t.prototype.getChildKeys=function(){return this.get("children")};t.prototype.getParentKey=function(){return this.get("parent")};t.prototype.getPrevSiblingKey=function(){return this.get("prevSibling")};t.prototype.getNextSiblingKey=function(){return this.get("nextSibling")};t.prototype.findStyleRanges=function(u,v){c("findRangesImmutable")(this.getCharacterList(),q,u,v)};t.prototype.findEntityRanges=function(u,v){c("findRangesImmutable")(this.getCharacterList(),r,u,v)};f.exports=t}),null);
__d("SelectionState",["immutable"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("immutable").Record,k={anchorKey:"",anchorOffset:0,focusKey:"",focusOffset:0,isBackward:false,hasFocus:false},l=j(k);h=babelHelpers.inherits(m,l);i=h&&h.prototype;m.prototype.serialize=function(){return"Anchor: "+this.getAnchorKey()+":"+this.getAnchorOffset()+", Focus: "+this.getFocusKey()+":"+this.getFocusOffset()+", Is Backward: "+String(this.getIsBackward())+", Has Focus: "+String(this.getHasFocus())};m.prototype.getAnchorKey=function(){return this.get("anchorKey")};m.prototype.getAnchorOffset=function(){return this.get("anchorOffset")};m.prototype.getFocusKey=function(){return this.get("focusKey")};m.prototype.getFocusOffset=function(){return this.get("focusOffset")};m.prototype.getIsBackward=function(){return this.get("isBackward")};m.prototype.getHasFocus=function(){return this.get("hasFocus")};m.prototype.hasEdgeWithin=function(n,o,p){var q=this.getAnchorKey(),r=this.getFocusKey();if(q===r&&q===n){var s=this.getStartOffset(),t=this.getEndOffset();return o<=t&&s<=p}if(n!==q&&n!==r)return false;var u=n===q?this.getAnchorOffset():this.getFocusOffset();return o<=u&&p>=u};m.prototype.isCollapsed=function(){return this.getAnchorKey()===this.getFocusKey()&&this.getAnchorOffset()===this.getFocusOffset()};m.prototype.getStartKey=function(){return this.getIsBackward()?this.getFocusKey():this.getAnchorKey()};m.prototype.getStartOffset=function(){return this.getIsBackward()?this.getFocusOffset():this.getAnchorOffset()};m.prototype.getEndKey=function(){return this.getIsBackward()?this.getAnchorKey():this.getFocusKey()};m.prototype.getEndOffset=function(){return this.getIsBackward()?this.getAnchorOffset():this.getFocusOffset()};m.createEmpty=function(n){return new m({anchorKey:n,anchorOffset:0,focusKey:n,focusOffset:0,isBackward:false,hasFocus:false})};function m(){h.apply(this,arguments)}f.exports=m}),null);
__d("generateRandomKey",[],(function a(b,c,d,e,f,g){"use strict";var h={},i=Math.pow(2,24);function j(){var k=void 0;while(k===undefined||Object.prototype.hasOwnProperty.call(h,k)||!isNaN(+k))k=Math.floor(Math.random()*i).toString(32);h[k]=true;return k}f.exports=j}),null);
__d("sanitizeDraftText",[],(function a(b,c,d,e,f,g){"use strict";var h=new RegExp("\r","g");function i(j){return j.replace(h,"")}f.exports=i}),null);
__d("ContentState",["BlockMapBuilder","CharacterMetadata","ContentBlock","ContentBlockNode","DraftEntity","immutable","SelectionState","generateRandomKey","gkx","sanitizeDraftText"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("immutable").List,k=c("immutable").Record,l=c("immutable").Repeat,m=c("gkx")("AT7I-kBaiZBk-5ySRgJaDBW6tSXkDwvlqxCLLVy7xjKFQh4OpQOjZpy_bJOblZZDQOjyMyX8JeUF5aALSjx2ACRN"),n={entityMap:null,blockMap:null,selectionBefore:null,selectionAfter:null},o=m?c("ContentBlockNode"):c("ContentBlock"),p=k(n);h=babelHelpers.inherits(q,p);i=h&&h.prototype;q.prototype.getEntityMap=function(){return c("DraftEntity")};q.prototype.getBlockMap=function(){return this.get("blockMap")};q.prototype.getSelectionBefore=function(){return this.get("selectionBefore")};q.prototype.getSelectionAfter=function(){return this.get("selectionAfter")};q.prototype.getBlockForKey=function(r){var s=this.getBlockMap().get(r);return s};q.prototype.getKeyBefore=function(r){return this.getBlockMap().reverse().keySeq().skipUntil(function(s){return s===r}).skip(1).first()};q.prototype.getKeyAfter=function(r){return this.getBlockMap().keySeq().skipUntil(function(s){return s===r}).skip(1).first()};q.prototype.getBlockAfter=function(r){return this.getBlockMap().skipUntil(function(s,t){return t===r}).skip(1).first()};q.prototype.getBlockBefore=function(r){return this.getBlockMap().reverse().skipUntil(function(s,t){return t===r}).skip(1).first()};q.prototype.getBlocksAsArray=function(){return this.getBlockMap().toArray()};q.prototype.getFirstBlock=function(){return this.getBlockMap().first()};q.prototype.getLastBlock=function(){return this.getBlockMap().last()};q.prototype.getPlainText=function(r){return this.getBlockMap().map(function(s){return s?s.getText():""}).join(r||"\n")};q.prototype.getLastCreatedEntityKey=function(){return c("DraftEntity").__getLastCreatedEntityKey()};q.prototype.hasText=function(){var r=this.getBlockMap();return r.size>1||r.first().getLength()>0};q.prototype.createEntity=function(r,s,t){c("DraftEntity").__create(r,s,t);return this};q.prototype.mergeEntityData=function(r,s){c("DraftEntity").__mergeData(r,s);return this};q.prototype.replaceEntityData=function(r,s){c("DraftEntity").__replaceData(r,s);return this};q.prototype.addEntity=function(r){c("DraftEntity").__add(r);return this};q.prototype.getEntity=function(r){return c("DraftEntity").__get(r)};q.createFromBlockArray=function(r,s){var t=Array.isArray(r)?r:r.contentBlocks,u=c("BlockMapBuilder").createFromArray(t),v=u.isEmpty()?new(c("SelectionState"))():c("SelectionState").createEmpty(u.first().getKey());return new q({blockMap:u,entityMap:s||c("DraftEntity"),selectionBefore:v,selectionAfter:v})};q.createFromText=function(r){var s=arguments.length<=1||arguments[1]===undefined?/\r\n?|\n/g:arguments[1],t=r.split(s),u=t.map(function(v){v=c("sanitizeDraftText")(v);return new o({key:c("generateRandomKey")(),text:v,type:"unstyled",characterList:j(l(c("CharacterMetadata").EMPTY,v.length))})});return q.createFromBlockArray(u)};function q(){h.apply(this,arguments)}f.exports=q}),null);
__d("UnicodeBidiService",["invariant","UnicodeBidi","UnicodeBidiDirection","UnicodeBidiGlobalDirection"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();function i(j){if(!j)j=c("UnicodeBidiGlobalDirection").getDir();else c("UnicodeBidiDirection").isStrong(j)||h(0);this.$UnicodeBidiService1=j;this.reset()}i.prototype.reset=function(){this.$UnicodeBidiService2=this.$UnicodeBidiService1};i.prototype.getDirection=function(j){this.$UnicodeBidiService2=c("UnicodeBidi").getDirection(j,this.$UnicodeBidiService2);return this.$UnicodeBidiService2};f.exports=i}),null);
__d("EditorBidiService",["immutable","UnicodeBidiService","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("immutable").OrderedMap,i,j={getDirectionMap:function k(l,m){if(!i)i=new(c("UnicodeBidiService"))();else i.reset();var n=l.getBlockMap(),o=n.valueSeq().map(function(q){return c("nullthrows")(i).getDirection(q.getText())}),p=h(n.keySeq().zip(o));if(m!=null&&c("immutable").is(m,p))return m;return p}};f.exports=j}),null);
__d("EditorState",["BlockTree","ContentState","EditorBidiService","immutable","SelectionState"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("immutable").OrderedSet,i=c("immutable").Record,j=c("immutable").Stack,k={allowUndo:true,currentContent:null,decorator:null,directionMap:null,forceSelection:false,inCompositionMode:false,inlineStyleOverride:null,lastChangeType:null,nativelyRenderedContent:null,redoStack:j(),selection:null,treeMap:null,undoStack:j()},l=i(k);m.createEmpty=function(v){return m.createWithContent(c("ContentState").createFromText(""),v)};m.createWithContent=function(v,w){var x=v.getBlockMap().first().getKey();return m.create({currentContent:v,undoStack:j(),redoStack:j(),decorator:w||null,selection:c("SelectionState").createEmpty(x)})};m.create=function(v){var w=v.currentContent,x=v.decorator,y=babelHelpers["extends"]({},v,{treeMap:o(w,x),directionMap:c("EditorBidiService").getDirectionMap(w)});return new m(new l(y))};m.set=function(v,w){__p&&__p();var x=v.getImmutable().withMutations(function(y){__p&&__p();var z=y.get("decorator"),A=z;if(w.decorator===null)A=null;else if(w.decorator)A=w.decorator;var B=w.currentContent||v.getCurrentContent();if(A!==z){var C=y.get("treeMap"),D;if(A&&z)D=q(B,B.getBlockMap(),C,A,z);else D=o(B,A);y.merge({decorator:A,treeMap:D,nativelyRenderedContent:null});return}var E=v.getCurrentContent();if(B!==E)y.set("treeMap",p(v,B.getBlockMap(),B.getEntityMap(),A));y.merge(w)});return new m(x)};m.prototype.toJS=function(){return this.getImmutable().toJS()};m.prototype.getAllowUndo=function(){return this.getImmutable().get("allowUndo")};m.prototype.getCurrentContent=function(){return this.getImmutable().get("currentContent")};m.prototype.getUndoStack=function(){return this.getImmutable().get("undoStack")};m.prototype.getRedoStack=function(){return this.getImmutable().get("redoStack")};m.prototype.getSelection=function(){return this.getImmutable().get("selection")};m.prototype.getDecorator=function(){return this.getImmutable().get("decorator")};m.prototype.isInCompositionMode=function(){return this.getImmutable().get("inCompositionMode")};m.prototype.mustForceSelection=function(){return this.getImmutable().get("forceSelection")};m.prototype.getNativelyRenderedContent=function(){return this.getImmutable().get("nativelyRenderedContent")};m.prototype.getLastChangeType=function(){return this.getImmutable().get("lastChangeType")};m.prototype.getInlineStyleOverride=function(){return this.getImmutable().get("inlineStyleOverride")};m.setInlineStyleOverride=function(v,w){return m.set(v,{inlineStyleOverride:w})};m.prototype.getCurrentInlineStyle=function(){var v=this.getInlineStyleOverride();if(v!=null)return v;var w=this.getCurrentContent(),x=this.getSelection();if(x.isCollapsed())return s(w,x);return t(w,x)};m.prototype.getBlockTree=function(v){return this.getImmutable().getIn(["treeMap",v])};m.prototype.isSelectionAtStartOfContent=function(){var v=this.getCurrentContent().getBlockMap().first().getKey();return this.getSelection().hasEdgeWithin(v,0,0)};m.prototype.isSelectionAtEndOfContent=function(){var v=this.getCurrentContent(),w=v.getBlockMap(),x=w.last(),y=x.getLength();return this.getSelection().hasEdgeWithin(x.getKey(),y,y)};m.prototype.getDirectionMap=function(){return this.getImmutable().get("directionMap")};m.acceptSelection=function(v,w){return n(v,w,false)};m.forceSelection=function(v,w){if(!w.getHasFocus())w=w.set("hasFocus",true);return n(v,w,true)};m.moveSelectionToEnd=function(v){var w=v.getCurrentContent(),x=w.getLastBlock(),y=x.getKey(),z=x.getLength();return m.acceptSelection(v,new(c("SelectionState"))({anchorKey:y,anchorOffset:z,focusKey:y,focusOffset:z,isBackward:false}))};m.moveFocusToEnd=function(v){var w=m.moveSelectionToEnd(v);return m.forceSelection(w,w.getSelection())};m.push=function(v,w,x){__p&&__p();if(v.getCurrentContent()===w)return v;var y=x!=="insert-characters",z=c("EditorBidiService").getDirectionMap(w,v.getDirectionMap());if(!v.getAllowUndo())return m.set(v,{currentContent:w,directionMap:z,lastChangeType:x,selection:w.getSelectionAfter(),forceSelection:y,inlineStyleOverride:null});var A=v.getSelection(),B=v.getCurrentContent(),C=v.getUndoStack(),D=w;if(A!==B.getSelectionAfter()||r(v,x)){C=C.push(B);D=D.set("selectionBefore",A)}else if(x==="insert-characters"||x==="backspace-character"||x==="delete-character")D=D.set("selectionBefore",B.getSelectionBefore());var E=v.getInlineStyleOverride(),F=["adjust-depth","change-block-type","split-block"];if(F.indexOf(x)===-1)E=null;var G={currentContent:D,directionMap:z,undoStack:C,redoStack:j(),lastChangeType:x,selection:w.getSelectionAfter(),forceSelection:y,inlineStyleOverride:E};return m.set(v,G)};m.undo=function(v){if(!v.getAllowUndo())return v;var w=v.getUndoStack(),x=w.peek();if(!x)return v;var y=v.getCurrentContent(),z=c("EditorBidiService").getDirectionMap(x,v.getDirectionMap());return m.set(v,{currentContent:x,directionMap:z,undoStack:w.shift(),redoStack:v.getRedoStack().push(y),forceSelection:true,inlineStyleOverride:null,lastChangeType:"undo",nativelyRenderedContent:null,selection:y.getSelectionBefore()})};m.redo=function(v){if(!v.getAllowUndo())return v;var w=v.getRedoStack(),x=w.peek();if(!x)return v;var y=v.getCurrentContent(),z=c("EditorBidiService").getDirectionMap(x,v.getDirectionMap());return m.set(v,{currentContent:x,directionMap:z,undoStack:v.getUndoStack().push(y),redoStack:w.shift(),forceSelection:true,inlineStyleOverride:null,lastChangeType:"redo",nativelyRenderedContent:null,selection:x.getSelectionAfter()})};function m(v){this.$EditorState1=v}m.prototype.getImmutable=function(){return this.$EditorState1};function n(v,w,x){return m.set(v,{selection:w,forceSelection:x,nativelyRenderedContent:null,inlineStyleOverride:null})}function o(v,w){return v.getBlockMap().map(function(x){return c("BlockTree").generate(v,x,w)}).toOrderedMap()}function p(v,w,x,y){var z=v.getCurrentContent().set("entityMap",x),A=z.getBlockMap(),B=v.getImmutable().get("treeMap");return B.merge(w.toSeq().filter(function(C,D){return C!==A.get(D)}).map(function(C){return c("BlockTree").generate(z,C,y)}))}function q(v,w,x,y,z){return x.merge(w.toSeq().filter(function(A){return y.getDecorations(A,v)!==z.getDecorations(A,v)}).map(function(A){return c("BlockTree").generate(v,A,y)}))}function r(v,w){var x=v.getLastChangeType();return w!==x||w!=="insert-characters"&&w!=="backspace-character"&&w!=="delete-character"}function s(v,w){var x=w.getStartKey(),y=w.getStartOffset(),z=v.getBlockForKey(x);if(y>0)return z.getInlineStyleAt(y-1);if(z.getLength())return z.getInlineStyleAt(0);return u(v,x)}function t(v,w){var x=w.getStartKey(),y=w.getStartOffset(),z=v.getBlockForKey(x);if(y<z.getLength())return z.getInlineStyleAt(y);if(y>0)return z.getInlineStyleAt(y-1);return u(v,x)}function u(v,w){var x=v.getBlockMap().reverse().skipUntil(function(y,z){return z===w}).skip(1).skipUntil(function(y,z){return y.getLength()}).first();if(x)return x.getInlineStyleAt(x.getLength()-1);return h()}f.exports=m}),null);
__d("ReactComposerMultilingualStatusActionType",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){f.exports=c("keyMirrorRecursive")({MOUNTED_MULTILINGUAL_STATUS:null,MULTILINGUAL_PROMPT_CLICK:null,MULTILINGUAL_PROMPT_CLOSE:null,LANGUAGE_CREATED:null,LANGUAGE_CHANGED:null,LANGUAGE_REMOVED:null,SET_LANGUAGE_EDITOR_STATE:null,SET_SPECIFIED_POST_LANGUAGE:null,PREFILL_MULTILINGUAL_DATA:null},"ReactComposerMultilingualStatusActionType")}),null);
__d("ReactComposerStatusActionType",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){f.exports=c("keyMirrorRecursive")({SET_EDITOR_STATE:null,SET_ORIGINAL_EDITOR_STATE:null,SET_TEXT_LENGTH:null,SET_MENTIONS:null,SET_MENTIONS_SOURCE:null,SET_TYPEAHEAD_REPORTER:null},"ReactComposerStatusActionType")}),null);
__d("DraftStringKey",[],(function a(b,c,d,e,f,g){"use strict";var h={stringify:function i(j){return"_"+String(j)},unstringify:function i(j){return j.slice(1)}};f.exports=h}),null);
__d("encodeEntityRanges",["DraftStringKey","UnicodeUtils"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("UnicodeUtils").strlen;function i(j,k){var l=[];j.findEntityRanges(function(m){return!!m.getEntity()},function(m,n){var o=j.getText(),p=j.getEntityAt(m);l.push({offset:h(o.slice(0,m)),length:h(o.slice(m,n)),key:Number(k[c("DraftStringKey").stringify(p)])})});return l}f.exports=i}),null);
__d("encodeInlineStyleRanges",["UnicodeUtils","findRangesImmutable"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=function h(m,n){return m===n},i=function i(m){return!!m},j=[];function k(m,n,o){var p=[],q=n.map(function(r){return r.has(o)}).toList();c("findRangesImmutable")(q,h,i,function(r,s){var t=m.getText();p.push({offset:c("UnicodeUtils").strlen(t.slice(0,r)),length:c("UnicodeUtils").strlen(t.slice(r,s)),style:o})});return p}function l(m){var n=m.getCharacterList().map(function(p){return p.getStyle()}).toList(),o=n.flatten().toSet().map(function(p){return k(m,n,p)});return Array.prototype.concat.apply(j,o.toJS())}f.exports=l}),null);
__d("convertFromDraftStateToRaw",["invariant","ContentBlock","ContentBlockNode","DraftStringKey","encodeEntityRanges","encodeInlineStyleRanges"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=function i(n,o){return{key:n.getKey(),text:n.getText(),type:n.getType(),depth:n.getDepth(),inlineStyleRanges:c("encodeInlineStyleRanges")(n),entityRanges:c("encodeEntityRanges")(n,o),data:n.getData().toObject()}},j=function j(n,o,p,q){__p&&__p();if(n instanceof c("ContentBlock")){p.push(i(n,o));return}n instanceof c("ContentBlockNode")||h(0);var r=n.getParentKey(),s=q[n.getKey()]=babelHelpers["extends"]({},i(n,o),{children:[]});if(r){q[r].children.push(s);return}p.push(s)},k=function k(n,o){__p&&__p();var p=o.entityMap,q=[],r={},s={},t=0;n.getBlockMap().forEach(function(u){u.findEntityRanges(function(v){return v.getEntity()!==null},function(v){var w=u.getEntityAt(v),x=c("DraftStringKey").stringify(w);if(s[x])return;s[x]=w;p[x]=""+t;t++});j(u,p,q,r)});return{blocks:q,entityMap:p}},l=function l(n,o){var p=o.blocks,q=o.entityMap,r={};Object.keys(q).forEach(function(s,t){var u=n.getEntity(c("DraftStringKey").unstringify(s));r[t]={type:u.getType(),mutability:u.getMutability(),data:u.getData()}});return{blocks:p,entityMap:r}},m=function m(n){var o={entityMap:{},blocks:[]};o=k(n,o);o=l(n,o);return o};f.exports=m}),null);
__d("getImplicitURLMatches",["URI","URLMatcher"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i,j){var k=i.getText(),l=0,m;while((m=c("URLMatcher").match(k))!==null){var n=k.indexOf(m),o=n+m.length;if(c("URI").isValidURI(m))j(l+n,l+o);l+=o;k=k.substring(o)}}f.exports=h}),null);
__d("getImplicitURLRangesForContentState",["getImplicitURLMatches"],(function a(b,c,d,e,f,g){"use strict";function h(i){return i.getBlockMap().map(function(j){var k=[];c("getImplicitURLMatches")(j,function(l,m){k.push({start:l,end:m})});return k}).toArray()}f.exports=h}),null);
__d("getMentionsTextForContentState",["DraftEntity","emptyFunction"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("emptyFunction").thatReturnsTrue,i=/[\\\]:]/g;function j(l){var m=arguments.length<=1||arguments[1]===undefined?"":arguments[1],n=l.getBlockMap().map(function(o){var p=o.getText(),q=[];o.findEntityRanges(h,function(r,s){q.push(k(p.slice(r,s),o.getEntityAt(r)))});return q.join("")});return n.join("\n"+m)}function k(l,m){__p&&__p();if(m){var n=c("DraftEntity").get(m);if(n.getType()==="MENTION"){l=l.replace(i,function(p){return"\\"+p});var o=n.getData().id;if(/^\d+$/.test(o))return"@["+o+":"+l+"]"}else if(n.getType()==="EMOTICON")return n.getData().originalEmoticon;else if(n.getType()==="EMOJI")return n.getData().emoji.join("")}return l.replace("@[","@ [")}f.exports=j}),null);
__d("getRichComposedTextDataForSave",["ComposedEntityType","UnicodeUtils","URI"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i){__p&&__p();var j=i.encodedContent,k=i.implicitLinks,l=j.blocks,m=j.entityMap;k=k||[];var n=Object.keys(m).map(function(q){return Number(q)}),o=n.length?Math.max.apply(Math,n):0,p=o+1;k.forEach(function(q,r){__p&&__p();q.forEach(function(s){__p&&__p();var t=s.start,u=s.end,v=l[r],w=v.text,x=v.entityRanges,y=p++,z=c("UnicodeUtils").strlen(w.slice(0,t)),A=c("UnicodeUtils").strlen(w.slice(t,u)),B=l[r].entityRanges.some(function(C){return C.offset<z+A&&C.offset+C.length>z});if(B)return;var C={offset:z,length:A,key:y},D=l[r].text.slice(t,u),E=new(c("URI"))(D),F=E.getProtocol();if(!F)E.setProtocol("http");var G={id:null,type:c("ComposedEntityType").IMPLICIT_LINK,data:{url:E.toString()}};x.push(C);m[String(y)]=G})});return{blocks:l.map(function(q){return q.text}),block_depths:l.map(function(q){return q.depth}),block_types:l.map(function(q){return q.type}),block_data:l.map(function(q){return q.data?JSON.stringify(q.data):"{}"}),entities:l.map(function(q){return JSON.stringify(q.entityRanges)}),entity_map:JSON.stringify(m),inline_styles:l.map(function(q){return JSON.stringify(q.inlineStyleRanges)})}}f.exports=h}),null);
__d("ReactComposerStatusStore",["ComposedBlockType","ComposedEntityType","ReactComposerMultilingualStatusActionType","ReactComposerStatusActionType","ReactComposerStoreBase","ReactComposerTaggerStore","EditorState","encodeBlocks","getImplicitURLRangesForContentState","getMentionsTextForContentState","getRichComposedTextDataForSave"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;function j(l){__p&&__p();for(var m=l.blocks,n=Array.isArray(m),o=0,m=n?m:m[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var p;if(n){if(o>=m.length)break;p=m[o++]}else{o=m.next();if(o.done)break;p=o.value}var q=p;if(q.type!==c("ComposedBlockType").UNSTYLED||q.inlineStyleRanges.length!==0)return true}for(var r in l.entityMap){var s=l.entityMap[r];if(s.type!==c("ComposedEntityType").MENTION)return true}return false}h=babelHelpers.inherits(k,c("ReactComposerStoreBase"));i=h&&h.prototype;function k(){"use strict";__p&&__p();var l=void 0;i.constructor.call(this,function(){var m=c("EditorState").createEmpty();return{activeEditorState:m,activeLanguageDialect:null,editorState:m,length:0,mentionsSource:null,originalEditorState:null,typeaheadReporter:null,mentions:null}},function(m){__p&&__p();switch(m.type){case c("ReactComposerStatusActionType").SET_MENTIONS_SOURCE:l&&l.$ReactComposerStatusStore1(m);break;case c("ReactComposerStatusActionType").SET_TYPEAHEAD_REPORTER:l&&l.$ReactComposerStatusStore2(m);break;case c("ReactComposerStatusActionType").SET_EDITOR_STATE:l&&l.$ReactComposerStatusStore3(m);break;case c("ReactComposerMultilingualStatusActionType").SET_LANGUAGE_EDITOR_STATE:l&&l.$ReactComposerStatusStore4(m);break;case c("ReactComposerStatusActionType").SET_ORIGINAL_EDITOR_STATE:l&&l.$ReactComposerStatusStore5(m);break;case c("ReactComposerStatusActionType").SET_MENTIONS:l&&l.$ReactComposerStatusStore6(m);break;case c("ReactComposerStatusActionType").SET_TEXT_LENGTH:l&&l.$ReactComposerStatusStore7(m);break}});l=this}k.prototype.getMentionsSource=function(l){"use strict";return this.getComposerData(l).mentionsSource};k.prototype.getTypeaheadReporter=function(l){"use strict";return this.getComposerData(l).typeaheadReporter};k.prototype.getEditorState=function(l){"use strict";return this.getComposerData(l).editorState};k.prototype.getOriginalEditorState=function(l){"use strict";return this.getComposerData(l).originalEditorState};k.prototype.getActiveEditorState=function(l){"use strict";return this.getComposerData(l).activeEditorState};k.prototype.getActiveLanguageDialect=function(l){"use strict";return this.getComposerData(l).activeLanguageDialect};k.prototype.getMentions=function(l){"use strict";return this.getComposerData(l).mentions};k.prototype.getMessage=function(l){var m=arguments.length<=1||arguments[1]===undefined?false:arguments[1];"use strict";var n=this.getEditorState(l);if(!n)return"";var o=n.getCurrentContent(),p=m?"\n":"";return c("getMentionsTextForContentState")(o,p)};k.prototype.getMessageText=function(l){"use strict";var m=this.getEditorState(l);if(!m)return"";var n=m.getCurrentContent();return n?n.getPlainText():""};k.prototype.getRichTextBlocks=function(l){"use strict";__p&&__p();var m=c("ReactComposerTaggerStore").hasMarkdown(l);if(m)return null;var n=this.getEditorState(l);if(!n)return null;var o=n.getCurrentContent(),p=c("encodeBlocks")(o);if(!j(p))return null;var q={encodedContent:p,implicitLinks:c("getImplicitURLRangesForContentState")(o)};return c("getRichComposedTextDataForSave")(q)};k.prototype.getOriginalMessageText=function(l){"use strict";var m=this.getOriginalEditorState(l);if(!m)return"";var n=m.getCurrentContent();return n?n.getPlainText():""};k.prototype.getTextLength=function(l){"use strict";return this.getComposerData(l).textLength};k.prototype.$ReactComposerStatusStore1=function(l){"use strict";var m=this.getComposerData(l.composerID);m.mentionsSource=l.mentionsSource;this.emitChange(l.composerID)};k.prototype.$ReactComposerStatusStore2=function(l){"use strict";var m=this.getComposerData(l.composerID);m.typeaheadReporter=l.typeaheadReporter;this.emitChange(l.composerID)};k.prototype.$ReactComposerStatusStore3=function(l){"use strict";var m=this.getComposerData(l.composerID);m.editorState=l.editorState;m.activeEditorState=l.editorState;m.activeLanguageDialect=null;this.emitChange(l.composerID)};k.prototype.$ReactComposerStatusStore4=function(l){"use strict";var m=this.getComposerData(l.composerID);m.activeEditorState=l.editorState;m.activeLanguageDialect=l.languageDialect;this.emitChange(l.composerID)};k.prototype.$ReactComposerStatusStore5=function(l){"use strict";var m=this.getComposerData(l.composerID);m.originalEditorState=l.originalEditorState;this.emitChange(l.composerID)};k.prototype.$ReactComposerStatusStore6=function(l){"use strict";var m=this.getComposerData(l.composerID);m.mentions=l.mentions;this.emitChange(l.composerID)};k.prototype.$ReactComposerStatusStore7=function(l){"use strict";var m=this.validateAction(l,["composerID","textLength"]),n=m[0],o=m[1],p=this.getComposerData(n);p.textLength=o;this.emitChange(n)};f.exports=new k()}),null);
__d("ReactComposerTaggerActionType",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){f.exports=c("keyMirrorRecursive")({DESELECT_TAGGER:null,SET_SELECTED_TAGGER:null,UPDATE_TAGGERS_SOURCE:null,SET_TAGGER_SOURCE:null,SET_TAGGER_DATA:null,SET_SELECTED_DATETIME:null,SET_SELECTED_PEOPLE:null,SET_TAGGER_SHOW_NUX:null,SET_TAGGER_SHOW_TOOLTIP:null,SET_IS_BRANDED_CONTENT_VIDEO:null,SET_TAGGER_CONFIG:null},"ReactComposerTaggerActionType")}),null);
__d("ReactComposerTaggerActions",["ReactComposerDispatcher","ReactComposerTaggerActionType","ReactComposerTaggerStore"],(function a(b,c,d,e,f,g){__p&&__p();h.prototype.deselectCurrentTagger=function(i,j){"use strict";var k=c("ReactComposerTaggerStore").getSelectedTagger(i);if(k){var l={composerID:i,sourceLoggingName:j,type:c("ReactComposerTaggerActionType").DESELECT_TAGGER,taggerID:k};c("ReactComposerDispatcher").dispatch(l)}};h.prototype.selectTagger=function(i,j,k,l){"use strict";var m=c("ReactComposerTaggerStore").getSelectedTagger(i);if(k===m&&l!==true)this.deselectCurrentTagger(i,j);else this.$ReactComposerTaggerActions1(i,k,false,true,j)};h.prototype.selectTaggerWithoutLogging=function(i,j){"use strict";this.$ReactComposerTaggerActions1(i,j,true,true)};h.prototype.selectTaggerWithoutAutofocus=function(i,j,k){"use strict";this.$ReactComposerTaggerActions1(i,k,false,false,j)};h.prototype.$ReactComposerTaggerActions1=function(i,j,k,l,m){"use strict";var n={composerID:i,sourceLoggingName:m,type:c("ReactComposerTaggerActionType").SET_SELECTED_TAGGER,taggerID:j,autoFocus:l,suppressWaterfallLogging:k};c("ReactComposerDispatcher").dispatch(n)};h.prototype.updateTaggersSource=function(i,j){"use strict";var k={composerID:i,type:c("ReactComposerTaggerActionType").UPDATE_TAGGERS_SOURCE,taggersSource:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.setTaggerSource=function(i,j,k){"use strict";var l={composerID:i,type:c("ReactComposerTaggerActionType").SET_TAGGER_SOURCE,taggerID:j,taggerSource:k};c("ReactComposerDispatcher").dispatch(l)};h.prototype.setTaggerConfig=function(i,j,k){"use strict";var l={composerID:i,type:c("ReactComposerTaggerActionType").SET_TAGGER_CONFIG,taggerConfig:k,taggerID:j};c("ReactComposerDispatcher").dispatch(l)};h.prototype.setTaggerData=function(i,j,k,l){"use strict";this.$ReactComposerTaggerActions2(i,k,l,false,j)};h.prototype.setTaggerDataWithoutLogging=function(i,j,k){"use strict";this.$ReactComposerTaggerActions2(i,j,k,true)};h.prototype.$ReactComposerTaggerActions2=function(i,j,k,l,m){"use strict";var n={composerID:i,sourceLoggingName:m,type:c("ReactComposerTaggerActionType").SET_TAGGER_DATA,taggerID:j,taggerData:k,suppressWaterfallLogging:l};c("ReactComposerDispatcher").dispatch(n)};h.prototype.selectDateTime=function(i,j){"use strict";var k={composerID:i,type:c("ReactComposerTaggerActionType").SET_SELECTED_DATETIME,selectedDateTime:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.selectPeople=function(i,j){"use strict";var k={composerID:i,type:c("ReactComposerTaggerActionType").SET_SELECTED_PEOPLE,selectedPeople:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.handleSetTaggerShowNUX=function(i,j,k){"use strict";var l={composerID:i,type:c("ReactComposerTaggerActionType").SET_TAGGER_SHOW_NUX,taggerID:j,showNUX:k};c("ReactComposerDispatcher").dispatch(l)};h.prototype.handleSetTaggerShowTooltip=function(i,j,k){"use strict";var l={composerID:i,type:c("ReactComposerTaggerActionType").SET_TAGGER_SHOW_TOOLTIP,taggerID:j,showTooltip:k};c("ReactComposerDispatcher").dispatch(l)};h.prototype.setIsBrandedContentVideo=function(i,j){"use strict";var k={composerID:i,isBrandedContentVideo:j,type:c("ReactComposerTaggerActionType").SET_IS_BRANDED_CONTENT_VIDEO};c("ReactComposerDispatcher").dispatch(k)};function h(){"use strict"}f.exports=new h()}),null);
__d("ReactComposerMinutiaeAttachmentActionType",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){f.exports=c("keyMirrorRecursive")({FETCH_ATTACHMENT:null,SET_EXPLICIT_LOCATION:null,SET_MARKUP:null,SET_HIDE_OBJECT_ATTACHMENT:null},"ReactComposerMinutiaeAttachmentActionType")}),null);
__d("XReactComposerMinutiaeAttachmentController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/react_composer/minutiae/attachment/",{av:{type:"FBID"},composer_id:{type:"String",required:true},action_id:{type:"String",required:true},object_id:{type:"String",required:true},target_id:{type:"String",required:true},is_timeline:{type:"Bool",defaultValue:false},explicit_place_tag_id:{type:"String"}})}),null);
__d("ReactComposerMinutiaeAttachmentStore",["ActorURI","AsyncRequest","ReactComposerAttachmentActionType","ReactComposerAttachmentType","ReactComposerMinutiaeAttachmentActionType","ReactComposerStoreBase","XReactComposerMinutiaeAttachmentController"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("ReactComposerStoreBase"));i=h&&h.prototype;function j(){"use strict";__p&&__p();var k=void 0;i.constructor.call(this,function(){return{isFetching:false,markup:null,pendingRequest:null,explicitLocation:null}},function(l){__p&&__p();switch(l.type){case c("ReactComposerMinutiaeAttachmentActionType").FETCH_ATTACHMENT:k&&k.$ReactComposerMinutiaeAttachmentStore1(l);break;case c("ReactComposerMinutiaeAttachmentActionType").SET_MARKUP:k&&k.$ReactComposerMinutiaeAttachmentStore2(l);break;case c("ReactComposerAttachmentActionType").SELECT_ATTACHMENT:k&&k.$ReactComposerMinutiaeAttachmentStore3(l);break;case c("ReactComposerMinutiaeAttachmentActionType").SET_EXPLICIT_LOCATION:k&&k.$ReactComposerMinutiaeAttachmentStore4(l);break;case c("ReactComposerMinutiaeAttachmentActionType").SET_HIDE_OBJECT_ATTACHMENT:k&&k.$ReactComposerMinutiaeAttachmentStore5(l);break}});k=this}j.prototype.getMarkup=function(k){"use strict";return this.getComposerData(k).markup};j.prototype.getHideObjectAttachment=function(k){"use strict";return this.getComposerData(k).hideObjectAttachment};j.prototype.isFetching=function(k){"use strict";return this.getComposerData(k).isFetching};j.prototype.$ReactComposerMinutiaeAttachmentStore4=function(k){"use strict";var l=this.validateAction(k,["composerID","explicitLocation"]),m=l[0],n=l[1],o=this.getComposerData(m);o.explicitLocation=n;this.emitChange(m)};j.prototype.$ReactComposerMinutiaeAttachmentStore1=function(k){"use strict";__p&&__p();var l=this.validateAction(k,["composerID","actionID","objectID","targetID","actorID","isTimeline"]),m=l[0],n=l[1],o=l[2],p=l[3],q=l[4],r=l[5],s=this.getComposerData(m);s.isFetching=true;var t=c("XReactComposerMinutiaeAttachmentController").getURIBuilder().setString("composer_id",m).setString("action_id",n).setString("object_id",o).setString("target_id",p).setBool("is_timeline",r);if(s.explicitLocation)t.setString("explicit_place_tag_id",s.explicitLocation);var u=c("ActorURI").create(t.getURI(),q);s.pendingRequest=new(c("AsyncRequest"))(u).setFinallyHandler(function(){s.isFetching=false;s.pendingRequest=null;this.emitChange(m)}.bind(this));s.pendingRequest.send();this.emitChange(m)};j.prototype.$ReactComposerMinutiaeAttachmentStore2=function(k){"use strict";var l=this.validateAction(k,["composerID","markup"]),m=l[0],n=l[1],o=this.getComposerData(m);o.markup=n;o.hideObjectAttachment=false;this.emitChange(m)};j.prototype.$ReactComposerMinutiaeAttachmentStore5=function(k){"use strict";var l=this.validateAction(k,["composerID","hideAttachment"]),m=l[0],n=l[1],o=this.getComposerData(m);o.hideObjectAttachment=n;this.emitChange(m)};j.prototype.$ReactComposerMinutiaeAttachmentStore3=function(k){"use strict";var l=this.validateAction(k,["composerID","id"]),m=l[0],n=l[1];if(n===c("ReactComposerAttachmentType").STATUS)return;var o=this.getComposerData(m);o.markup=null;o.isFetching=false;o.pendingRequest&&o.pendingRequest.abandon();this.emitChange(m)};f.exports=new j()}),null);
__d("PagesComposerCanvasVideoPostAttributes",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CTA_LINK:"cta_link",CTA_TYPE:"cta_type",LINK_TITLE:"link_title",VIDEO_ID:"video_id"})}),null);
__d("PagesComposerCarouselPostChildAttachmentAttributes",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({PICTURE:"picture",NAME:"name",DESCRIPTION:"description",LINK:"link",SELECTED:"selected",SCRAPED:"scraped",IMAGE_FBID:"image_fbid",IMAGE_SOURCE:"image_source",ORIGINAL_DIMENSION_HEIGHT:"original_dimensions_height",ORIGINAL_DIMENSION_WIDTH:"original_dimensions_width",CROPPING_START_POINT_X:"cropping_startPoint_x",CROPPING_START_POINT_Y:"cropping_startPoint_y",CROPPING_SOURCE_DIMENSION_HEIGHT:"cropping_source_dimension_height",CROPPING_SOURCE_DIMENSION_WIDTH:"cropping_source_dimension_width",VIDEO_ID:"video_id",CTA_TYPE:"cta_type"})}),null);
__d("PagesComposerCarouselPostLogAttributes",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({USE_CAROUSEL_COMPOSER:"use_carousel_composer",CAROUSEL_INCOMPATIBLE:"carousel_incompatible",CAROUSEL_INCOMPATIBLE_TYPE:"carousel_incompatible_type",SCRAPED_IMAGE_NUM_OLD:"scraped_image_num_old",SCRAPED_URL:"scraped_url",SCRAPED_TIME:"scraped_time",COMPOSER_LOCATION:"composer_location",HIDE_END_CARD:"hide_end_card",SOURCE_ATTACHMENT:"source_attachment",PREFILL_SCRAPE_URL:"prefill_scrape_url"})}),null);
__d("XReactComposerScrapedAttachmentController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/react_composer/scraper/",{composer_id:{type:"String",required:true},target_id:{type:"String",required:true},scrape_url:{type:"String",required:true},carousel_params:{type:"String"},entry_point:{type:"String",required:true},source_attachment:{type:"String",defaultValue:""},source_logging_name:{type:"Enum",defaultValue:"others",enumType:1}})}),null);
__d("XReactComposerShareAttachmentController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/react_composer/share_attachment/",{composer_id:{type:"String",required:true},target_id:{type:"String",required:true},share_type:{type:"Int",required:true},share_params:{type:"String",required:true},source_attachment:{type:"String",defaultValue:""},is_fb_photo_share:{type:"Bool",defaultValue:false}})}),null);
__d("ReactComposerScrapedAttachmentStore",["ActorURI","AsyncRequest","CallToActionLinkFormats","PagesComposerCanvasVideoPostAttributes","PagesComposerCarouselPostChildAttachmentAttributes","PagesComposerCarouselPostLogAttributes","ReactComposerAttachmentActionType","ReactComposerAttachmentStore","ReactComposerScrapedAttachmentActionType","ReactComposerStoreBase","DOM","gkx","XReactComposerScrapedAttachmentController","XReactComposerShareAttachmentController"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("ReactComposerStoreBase"));i=h&&h.prototype;function j(){"use strict";__p&&__p();var k=void 0;i.constructor.call(this,function(){return{markup:null,attachmentConfig:{},enabled:false,isScraping:false,permissiveMatch:null,sourceAttachment:null,isFbPhotoShare:false}},function(l){__p&&__p();switch(l.type){case c("ReactComposerScrapedAttachmentActionType").ATTACHMENT_SCRAPE_ENABLED:k&&k.$ReactComposerScrapedAttachmentStore1(l);break;case c("ReactComposerScrapedAttachmentActionType").ATTACHMENT_PERMISSIVE_MATCH_SETTED:k&&k.$ReactComposerScrapedAttachmentStore2(l);break;case c("ReactComposerScrapedAttachmentActionType").ATTACHMENT_SCRAPE_INTENDED:k&&k.$ReactComposerScrapedAttachmentStore3(l);break;case c("ReactComposerScrapedAttachmentActionType").ATTACHMENT_SHARE_SELECTED:k&&k.$ReactComposerScrapedAttachmentStore4(l);break;case c("ReactComposerScrapedAttachmentActionType").ATTACHMENT_SCRAPED:k&&k.$ReactComposerScrapedAttachmentStore5(l);break;case c("ReactComposerAttachmentActionType").SELECT_ATTACHMENT:k&&k.$ReactComposerScrapedAttachmentStore6(l);break;case c("ReactComposerScrapedAttachmentActionType").ATTACHMENT_CAROUSEL_UPLOAD:k&&k.$ReactComposerScrapedAttachmentStore7(l);break;case c("ReactComposerScrapedAttachmentActionType").ATTACHMENT_TITLE_EDITED:k&&k.$ReactComposerScrapedAttachmentStore8(l);break;case c("ReactComposerScrapedAttachmentActionType").ATTACHMENT_DESCRIPTION_EDITED:k&&k.$ReactComposerScrapedAttachmentStore9(l);break}});k=this}j.prototype.isEnabled=function(k){"use strict";return this.getComposerData(k).isEnabled};j.prototype.hasAttachment=function(k){"use strict";return!!this.getMarkup(k)};j.prototype.isScraping=function(k){"use strict";return this.getComposerData(k).isScraping};j.prototype.getMarkup=function(k){"use strict";return this.getComposerData(k).markup};j.prototype.isReadOnly=function(k){"use strict";var l=this.getComposerData(k);return l.attachmentConfig&&l.attachmentConfig.readOnly};j.prototype.getAttachmentConfig=function(k){"use strict";__p&&__p();var l=this.getComposerData(k);if(!l.markup)return null;if(!l.attachmentConfig.readOnly){var m=c("DOM").scry(l.markup,'input[name="attachment[params][images][0]"]').pop(),n=c("DOM").scry(l.markup,'input[name="attachment[params][title]"]').pop(),o=c("DOM").scry(l.markup,'input[name="attachment[params][summary]"]').pop();if(m!=null){if(l.attachmentConfig.params.images===undefined)l.attachmentConfig.params.images=[];l.attachmentConfig.params.images[0]=m.value}if(n!=null)l.attachmentConfig.params.title=n.value;if(o!=null)l.attachmentConfig.params.summary=o.value;var p=c("DOM").scry(l.markup,'input[name="attachment[carousel_log]['+c("PagesComposerCarouselPostLogAttributes").USE_CAROUSEL_COMPOSER+']"]').pop(),q=c("DOM").scry(l.markup,'input[name="attachment[canvas_log][use_canvas_composer]"]').pop();if(p!=null&&p.value==="1"){this.$ReactComposerScrapedAttachmentStore10(l);this.$ReactComposerScrapedAttachmentStore11(l)}else if(q!=null&&q.value==="1")this.$ReactComposerScrapedAttachmentStore12(l);this.$ReactComposerScrapedAttachmentStore13(l)}return l.attachmentConfig};j.prototype.getPostConfirmationDialog=function(k){"use strict";return this.getComposerData(k).postConfirmationDialog};j.prototype.getHasDisputedWarning=function(k){"use strict";return this.getComposerData(k).hasDisputedWarning};j.prototype.getBreakingNewsConfig=function(k){"use strict";return this.getComposerData(k).breakingNewsConfig};j.prototype.$ReactComposerScrapedAttachmentStore12=function(k){"use strict";__p&&__p();var l={publish:true,cta_link_format:c("CallToActionLinkFormats").VIDEO_LPP},m=Object.values(c("PagesComposerCanvasVideoPostAttributes")),n=null;for(var o=m,p=Array.isArray(o),q=0,o=p?o:o[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var r;if(p){if(q>=o.length)break;r=o[q++]}else{q=o.next();if(q.done)break;r=q.value}var s=r;n=c("DOM").scry(k.markup,'input[name="attachment[params][canvas_video]['+String(s)+']"]').pop();if(n)l[String(s)]=n.value}k.attachmentConfig.params.canvas_video={};Object.assign(k.attachmentConfig.params.canvas_video,l)};j.prototype.$ReactComposerScrapedAttachmentStore13=function(k){"use strict";__p&&__p();var l={},m=Object.keys(c("PagesComposerCarouselPostLogAttributes"));for(var n=0;n<m.length;n++){var o=c("PagesComposerCarouselPostLogAttributes")[m[n]],p=c("DOM").scry(k.markup,'input[name="attachment[carousel_log]['+o+']"]').pop();if(!p)continue;l[o]=p.value}if(Object.keys(l).length!==0)k.attachmentConfig.carousel_log=l};j.prototype.$ReactComposerScrapedAttachmentStore10=function(k){"use strict";__p&&__p();k.attachmentConfig.params.child_attachments={};var l=Object.keys(c("PagesComposerCarouselPostChildAttachmentAttributes")),m=0,n={};while(true){var o=false,p=0;n={};for(p=0;p<l.length;p++){var q=c("DOM").scry(k.markup,'input[name="attachment[params][child_attachments]['+m+"]["+c("PagesComposerCarouselPostChildAttachmentAttributes")[l[p]]+']"]').pop();if(q==null)continue;n[c("PagesComposerCarouselPostChildAttachmentAttributes")[l[p]]]=q.value;o=true}if(!o)break;k.attachmentConfig.params.child_attachments[m]=n;m++}};j.prototype.$ReactComposerScrapedAttachmentStore11=function(k){"use strict";__p&&__p();var l=k.attachmentConfig.params.child_attachments;if(!l)return;var m=null,n=0;for(var o in l)if(Object.prototype.hasOwnProperty.call(l,o))if(l[o].selected==="1"){n+=1;if(n>1)return;if(l[o].video_id)m=l[o]}if(m){k.attachmentConfig.params.carousel_video_lpp={};Object.assign(k.attachmentConfig.params.carousel_video_lpp,{video_id:m.video_id,publish:true,link_title:m.name,link_description:m.description,cta_type:m.cta_type?m.cta_type:"NO_BUTTON",cta_link:m.link,cta_link_format:c("CallToActionLinkFormats").VIDEO_LPP})}};j.prototype.getPermissiveMatch=function(k){"use strict";return this.getComposerData(k).permissiveMatch};j.prototype.$ReactComposerScrapedAttachmentStore8=function(k){"use strict";if(!c("gkx")("AT6ufHAUZlUpIR6pHx24-j50gIcKlocZGofAAa-Md4l7QIqP33LNHkcbjesd77xSpgWfAiGT0SQ8CEpulQdxKLoN"))return;var l=this.validateAction(k,["composerID","index","value"]),m=l[0],n=l[1],o=l[2],p=this.getComposerData(m);if(p.attachmentConfig.params.edited_params==null)p.attachmentConfig.params.edited_params={};if(p.attachmentConfig.params.edited_params[n]==null)p.attachmentConfig.params.edited_params[n]={};p.attachmentConfig.params.edited_params[n].title=o};j.prototype.$ReactComposerScrapedAttachmentStore9=function(k){"use strict";if(!c("gkx")("AT6ufHAUZlUpIR6pHx24-j50gIcKlocZGofAAa-Md4l7QIqP33LNHkcbjesd77xSpgWfAiGT0SQ8CEpulQdxKLoN"))return;var l=this.validateAction(k,["composerID","index","value"]),m=l[0],n=l[1],o=l[2],p=this.getComposerData(m);if(p.attachmentConfig.params.edited_params===undefined)p.attachmentConfig.params.edited_params={};if(p.attachmentConfig.params.edited_params[n]===undefined)p.attachmentConfig.params.edited_params[n]={};p.attachmentConfig.params.edited_params[n].summary=o};j.prototype.$ReactComposerScrapedAttachmentStore1=function(k){"use strict";var l=this.validateAction(k,["composerID","enabled"]),m=l[0],n=l[1],o=this.getComposerData(m);o.isEnabled=n};j.prototype.$ReactComposerScrapedAttachmentStore2=function(k){"use strict";var l=this.validateAction(k,["composerID","permissiveMatch"]),m=l[0],n=l[1],o=this.getComposerData(m);o.permissiveMatch=n;this.emitChange(m)};j.prototype.$ReactComposerScrapedAttachmentStore3=function(k){"use strict";__p&&__p();var l=this.validateAction(k,["composerID","targetID","value","entryPoint","actorID","sourceLoggingName"]),m=l[0],n=l[1],o=l[2],p=l[3],q=l[4],r=l[5];if(!this.isEnabled(m))return;var s=this.getComposerData(k.composerID);s.isScraping=true;var t=c("ReactComposerAttachmentStore").getSelectedAttachmentID(m),u=c("XReactComposerScrapedAttachmentController").getURIBuilder().setString("composer_id",m).setString("target_id",n).setString("scrape_url",o).setString("entry_point",p).setString("source_attachment",t).setEnum("source_logging_name",r).getURI();u=c("ActorURI").create(u,q);new(c("AsyncRequest"))(u).send();this.emitChange(m)};j.prototype.$ReactComposerScrapedAttachmentStore5=function(k){"use strict";__p&&__p();var l=k.composerID;if(!this.isEnabled(l))return;var m=this.getComposerData(k.composerID);m.markup=k.markup;m.attachmentConfig=k.attachmentConfig;m.isScraping=false;m.sourceAttachment=c("ReactComposerAttachmentStore").getSelectedAttachmentID(l);m.postConfirmationDialog=k.postConfirmationDialog;m.hasDisputedWarning=k.hasDisputedWarning;m.breakingNewsConfig=k.breakingNewsConfig;this.emitChange(l)};j.prototype.$ReactComposerScrapedAttachmentStore6=function(k){"use strict";var l=this.getComposerData(k.composerID);if(k.id===l.sourceAttachment||l.sourceAttachment===null||k.proxiedAttachmentID===l.sourceAttachment)return;l.markup=null;l.attachmentConfig={};l.isScraping=false;l.sourceAttachment=null;this.emitChange(k.composerID)};j.prototype.$ReactComposerScrapedAttachmentStore7=function(k){"use strict";var l=this.validateAction(k,["composerID","targetID","scrapeUrl","carouselParams","entryPoint","actorID"]),m=l[0],n=l[1],o=l[2],p=l[3],q=l[4],r=l[5],s=this.getComposerData(k.composerID);s.isScraping=true;var t=c("ReactComposerAttachmentStore").getSelectedAttachmentID(m),u=c("XReactComposerScrapedAttachmentController").getURIBuilder().setString("composer_id",m==null?null:m.toString()).setString("target_id",n==null?null:n.toString()).setString("scrape_url",o).setString("carousel_params",p).setString("entry_point",q).setString("source_attachment",t).getURI();u=c("ActorURI").create(u,r==null?"":r.toString());new(c("AsyncRequest"))(u).send();this.emitChange(k.composerID)};j.prototype.$ReactComposerScrapedAttachmentStore4=function(k){"use strict";__p&&__p();var l=this.validateAction(k,["composerID","targetID","actorID","shareType","shareParams","isFbPhotoShare"]),m=l[0],n=l[1],o=l[2],p=l[3],q=l[4],r=l[5];if(!this.isEnabled(m))return;var s=this.getComposerData(m);s.isScraping=true;var t=c("ReactComposerAttachmentStore").getSelectedAttachmentID(m),u=c("XReactComposerShareAttachmentController").getURIBuilder().setString("composer_id",m).setString("target_id",n).setInt("share_type",p).setString("share_params",JSON.stringify(q)).setString("source_attachment",t).setBool("is_fb_photo_share",r).getURI();u=c("ActorURI").create(u,o);new(c("AsyncRequest"))(u).send();this.emitChange(m)};f.exports=new j()}),null);
__d("ReactComposerTaggerEligibilityUtils",["ReactComposerMediaUploadStore","ReactComposerMinutiaeAttachmentStore","ReactComposerScrapedAttachmentStore","ReactComposerSproutsDisplayState","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerStatusStore","ReactComposerStore","ReactComposerTaggerStore","ReactComposerTaggerType","URLScraper","ifRequired","idx"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={isSATPEligible:function i(j,k){__p&&__p();var l=c("ReactComposerStatusStore").getMessageText(j).match(/\n/g),m=l?l.length>k.maxNewlines:false,n=c("ReactComposerTaggerStore").getTaggerData(j,c("ReactComposerTaggerType").STICKER),o=c("ReactComposerTaggerStore").getTaggerData(j,c("ReactComposerTaggerType").FUNDRAISER),p=c("ReactComposerTaggerStore").getTaggerData(j,c("ReactComposerTaggerType").ASSET_3D),q=c("ReactComposerStore").getSproutsDisplayState(j)!==c("ReactComposerSproutsDisplayState").EXPANDED,r=true;if(!((c("ReactComposerAttachmentStore").getSelectedAttachmentID(j)===c("ReactComposerAttachmentType").STATUS||c("ReactComposerAttachmentStore").getProxiedAttachmentID(j)===c("ReactComposerAttachmentType").STATUS)&&c("ReactComposerAttachmentStore").isSelectedAttachmentActive(j))||q||c("ReactComposerScrapedAttachmentStore").hasAttachment(j)||c("ReactComposerMediaUploadStore").getUploadsCount(j)!==0||c("ReactComposerTaggerStore").hasExplicitLocation(j)||c("ReactComposerTaggerStore").hasMarkdown(j)||n&&n.stickerID||p&&p.file||o&&o.charityID||c("ReactComposerMinutiaeAttachmentStore").getMarkup(j)!=null||c("ReactComposerStatusStore").getTextLength(j)>k.textLengthLimit||c("ReactComposerStatusStore").getRichTextBlocks(j)!=null||m)r=false;c("ifRequired")("ReactComposerPostToGroupStore",function(t){if(r)r=!t.getIsTabSelected(j)});c("ifRequired")("ReactComposerEventAttachmentStore",function(t){if(r)r=!t.hasAttachment(j)});var s=c("ReactComposerStatusStore").getMessageText(j);if(c("URLScraper").permissiveMatch(s)!=null)r=false;return r},isGIFEligible:function i(j){var k=c("ReactComposerAttachmentStore").getSelectedAttachmentID(j);if(k===c("ReactComposerAttachmentType").LIST||k===c("ReactComposerAttachmentType").PLACE_LIST||k==c("ReactComposerAttachmentType").VISUAL_POLL||k==c("ReactComposerAttachmentType").MEDIA)return false;return c("ReactComposerScrapedAttachmentStore").isEnabled(j)},isBreakingNewsEligible:function i(j){__p&&__p();var k,l=c("ReactComposerTaggerStore").getTaggersConfig(j,c("ReactComposerTaggerType").BREAKING_NEWS);if(((k=l)!=null?(k=k.initialStatus)!=null?k.enabled:k:k)===false)return false;var m=false;c("ifRequired")("LiveVideoBroadcastUIStore",function(p){var q=p.get("composerConfig");m=q&&q.composerID===j});if(m)return true;var n=c("ReactComposerScrapedAttachmentStore").hasAttachment(j),o=c("ReactComposerScrapedAttachmentStore").getBreakingNewsConfig(j);return n&&!!o&&o.enabled}};f.exports=h}),null);
__d("ReactComposerTaggerStore",["immutable","ReactComposerAttachmentActionType","ReactComposerAttachmentStore","ReactComposerScrapedAttachmentActionType","ReactComposerDispatcher","ReactComposerMediaUploadActionType","ReactComposerPhotoActionType","ReactComposerPhotoStore","ReactComposerStoreBase","ReactComposerTaggerActionType","ReactComposerTaggerType","ReactComposerAttachmentType","SearchableEntry","ReactComposerTaggerEligibilityUtils","QE2Logger","Set","isEmpty"],(function a(b,c,d,e,f,g){__p&&__p();var h,i,j="product_tagging_minimum_number_products";h=babelHelpers.inherits(k,c("ReactComposerStoreBase"));i=h&&h.prototype;function k(){"use strict";__p&&__p();var l=void 0;i.constructor.call(this,function(){__p&&__p();var m={};m[c("ReactComposerTaggerType").PEOPLE]=[];m[c("ReactComposerTaggerType").LOCATION]={};m[c("ReactComposerTaggerType").BACKDATE]={};m[c("ReactComposerTaggerType").ACTIVITY]={};m[c("ReactComposerTaggerType").TARGETING]={};m[c("ReactComposerTaggerType").PUBLISHER_ABTEST_HOLDOUT]={};m[c("ReactComposerTaggerType").SPONSOR]={sponsors:[],directShareStatus:0,sponsorRelationship:0};m[c("ReactComposerTaggerType").PRODUCT]=[];m[c("ReactComposerTaggerType").MARKDOWN]={};m[c("ReactComposerTaggerType").CONTENT_WARNINGS]=[];m[c("ReactComposerTaggerType").MESSAGING]=[];m[c("ReactComposerTaggerType").POLITICAL_INFO]={};m[c("ReactComposerTaggerType").ISSUE_TAG]=[];m[c("ReactComposerTaggerType").CONTACT_YOUR_REPRESENTATIVE]={};m[c("ReactComposerTaggerType").GIF]={};m[c("ReactComposerTaggerType").FUNDRAISER]={};m[c("ReactComposerTaggerType").BREAKING_NEWS]={isAttachmentBreaking:false,expirationTime:0};m[c("ReactComposerTaggerType").TAG_EVENT]={};var n={};n[c("ReactComposerTaggerType").FORMATTED_TEXT]={maxNewLines:3,textLengthLimit:130};return{$ReactComposerTaggerStore1:c("immutable").Set(),autoFocusOnSelectedTagger:true,selectedTagger:null,taggersData:m,taggersSource:{},taggersShowNUX:{},taggersShowTooltip:{},sourceAttachment:null,taggersConfig:n}},function(m){__p&&__p();switch(m.type){case c("ReactComposerTaggerActionType").DESELECT_TAGGER:l&&l.$ReactComposerTaggerStore2(m);break;case c("ReactComposerTaggerActionType").SET_SELECTED_TAGGER:l&&l.$ReactComposerTaggerStore3(m);break;case c("ReactComposerTaggerActionType").UPDATE_TAGGERS_SOURCE:l&&l.$ReactComposerTaggerStore4(m);break;case c("ReactComposerTaggerActionType").SET_TAGGER_SOURCE:l&&l.$ReactComposerTaggerStore5(m);break;case c("ReactComposerTaggerActionType").SET_TAGGER_DATA:l&&l.$ReactComposerTaggerStore6(m);break;case c("ReactComposerTaggerActionType").SET_TAGGER_SHOW_NUX:l&&l.$ReactComposerTaggerStore7(m);break;case c("ReactComposerTaggerActionType").SET_TAGGER_SHOW_TOOLTIP:l&&l.$ReactComposerTaggerStore8(m);break;case c("ReactComposerTaggerActionType").SET_TAGGER_CONFIG:l&&l.$ReactComposerTaggerStore9(m);break;case c("ReactComposerPhotoActionType").PHOTO_ADD_FACEBOX:l&&l.$ReactComposerTaggerStore10(m);break;case c("ReactComposerPhotoActionType").PHOTO_TAG_XY:l&&l.$ReactComposerTaggerStore11(m);break;case c("ReactComposerPhotoActionType").PHOTO_TAG_XY_PRODUCT:l&&l.$ReactComposerTaggerStore12(m);break;case c("ReactComposerPhotoActionType").PHOTO_TAG_FACEBOX:l&&l.$ReactComposerTaggerStore13(m);break;case c("ReactComposerPhotoActionType").PHOTO_UNTAG_ALL:l&&l.$ReactComposerTaggerStore14(m);break;case c("ReactComposerPhotoActionType").PHOTO_UNTAG_FACEBOX:c("ReactComposerDispatcher").waitFor([c("ReactComposerPhotoStore").getDispatchToken()]);l&&l.$ReactComposerTaggerStore15(m);break;case c("ReactComposerPhotoActionType").PHOTO_UPDATE_ALL_PHOTO_TAGS:l&&l.$ReactComposerTaggerStore16(m);break;case c("ReactComposerPhotoActionType").PHOTO_REMOVE:c("ReactComposerDispatcher").waitFor([c("ReactComposerPhotoStore").getDispatchToken()]);l&&l.$ReactComposerTaggerStore17(m);break;case c("ReactComposerMediaUploadActionType").PHOTO_UPLOAD_DONE:l&&l.$ReactComposerTaggerStore18(m);break;case c("ReactComposerAttachmentActionType").SELECT_ATTACHMENT:l&&l.$ReactComposerTaggerStore19(m);break;case c("ReactComposerScrapedAttachmentActionType").ATTACHMENT_SCRAPED:l&&l.$ReactComposerTaggerStore20(m);break}});l=this}k.prototype.isDisabled=function(l,m){"use strict";__p&&__p();var n=[],o=[],p=false;switch(m){case c("ReactComposerTaggerType").FORMATTED_TEXT:return!c("ReactComposerTaggerEligibilityUtils").isSATPEligible(l,this.getTaggersConfig(l,c("ReactComposerTaggerType").FORMATTED_TEXT));case c("ReactComposerTaggerType").GIF:return!c("ReactComposerTaggerEligibilityUtils").isGIFEligible(l);case c("ReactComposerTaggerType").BREAKING_NEWS:return!c("ReactComposerTaggerEligibilityUtils").isBreakingNewsEligible(l);case c("ReactComposerTaggerType").PEOPLE:case c("ReactComposerTaggerType").OG:o=[c("ReactComposerAttachmentType").TASK];break;case c("ReactComposerTaggerType").LOCATION:o=[c("ReactComposerAttachmentType").TASK,c("ReactComposerAttachmentType").CTA,c("ReactComposerAttachmentType").MESSAGE,c("ReactComposerAttachmentType").CALL];break;case c("ReactComposerTaggerType").PRODUCT:case c("ReactComposerTaggerType").CONTENT_WARNINGS:case c("ReactComposerTaggerType").BACKDATE:case c("ReactComposerTaggerType").TARGETING:case c("ReactComposerTaggerType").PUBLISHER_ABTEST_HOLDOUT:case c("ReactComposerTaggerType").MARKDOWN:case c("ReactComposerTaggerType").ISSUE_TAG:case c("ReactComposerTaggerType").SPONSOR:case c("ReactComposerTaggerType").ALBUM:case c("ReactComposerTaggerType").VAULTPHOTO:case c("ReactComposerTaggerType").SALES_PROMO:return false;case c("ReactComposerTaggerType").MESSAGING:case c("ReactComposerTaggerType").PAGE_CTA:case c("ReactComposerTaggerType").CALL:n=[c("ReactComposerTaggerType").ACTIVITY,c("ReactComposerTaggerType").LOCATION];break;case c("ReactComposerTaggerType").RECOMMENDATION:n=[c("ReactComposerTaggerType").POLITICAL_INFO,c("ReactComposerTaggerType").CONTACT_YOUR_REPRESENTATIVE,c("ReactComposerTaggerType").FUN_FACT,c("ReactComposerTaggerType").ALBUM,c("ReactComposerTaggerType").FUNDRAISER,c("ReactComposerTaggerType").CAMERA,c("ReactComposerTaggerType").GIF,c("ReactComposerTaggerType").TAG_EVENT];p=true;break;case c("ReactComposerTaggerType").FIND_PLAYERS:p=true;break;case c("ReactComposerTaggerType").LIST:n=[c("ReactComposerTaggerType").VISUAL_POLL,c("ReactComposerTaggerType").POLITICAL_INFO,c("ReactComposerTaggerType").CONTACT_YOUR_REPRESENTATIVE,c("ReactComposerTaggerType").FUN_FACT,c("ReactComposerTaggerType").ALBUM,c("ReactComposerTaggerType").FUNDRAISER,c("ReactComposerTaggerType").CAMERA,c("ReactComposerTaggerType").GIF,c("ReactComposerTaggerType").TAG_EVENT];p=true;break;case c("ReactComposerTaggerType").VISUAL_POLL:n=[c("ReactComposerTaggerType").LIST,c("ReactComposerTaggerType").POLITICAL_INFO,c("ReactComposerTaggerType").CONTACT_YOUR_REPRESENTATIVE,c("ReactComposerTaggerType").FUN_FACT,c("ReactComposerTaggerType").ALBUM,c("ReactComposerTaggerType").FUNDRAISER,c("ReactComposerTaggerType").CAMERA,c("ReactComposerTaggerType").GIF];p=true;break;case c("ReactComposerTaggerType").GROUP_MEET_UP:n=[c("ReactComposerTaggerType").POLITICAL_INFO,c("ReactComposerTaggerType").CONTACT_YOUR_REPRESENTATIVE,c("ReactComposerTaggerType").FUNDRAISER,c("ReactComposerTaggerType").RECOMMENDATION];p=true;break;case c("ReactComposerTaggerType").POLITICAL_INFO:case c("ReactComposerTaggerType").CAMERA:o=[c("ReactComposerAttachmentType").PLACE_LIST,c("ReactComposerAttachmentType").VISUAL_POLL,c("ReactComposerAttachmentType").LIST];break;case c("ReactComposerTaggerType").ACTIVITY:n=[c("ReactComposerTaggerType").CONTACT_YOUR_REPRESENTATIVE,c("ReactComposerTaggerType").TAG_EVENT];o=[c("ReactComposerAttachmentType").TASK,c("ReactComposerAttachmentType").CTA,c("ReactComposerAttachmentType").MESSAGE,c("ReactComposerAttachmentType").CALL];break;case c("ReactComposerTaggerType").FUN_FACT:n=[c("ReactComposerTaggerType").FUNDRAISER,c("ReactComposerTaggerType").STICKER];o=[c("ReactComposerAttachmentType").PLACE_LIST,c("ReactComposerAttachmentType").LIST,c("ReactComposerAttachmentType").VISUAL_POLL,c("ReactComposerAttachmentType").SHARING_SPACES_SELECTOR];break;case c("ReactComposerTaggerType").STICKER:n=[c("ReactComposerTaggerType").FUN_FACT];o=[c("ReactComposerAttachmentType").VISUAL_POLL];break;case c("ReactComposerTaggerType").CONTACT_YOUR_REPRESENTATIVE:n=[c("ReactComposerTaggerType").ACTIVITY,c("ReactComposerTaggerType").TAG_EVENT];o=[c("ReactComposerAttachmentType").LIST,c("ReactComposerAttachmentType").PLACE_LIST,c("ReactComposerAttachmentType").VISUAL_POLL];break;case c("ReactComposerTaggerType").FUNDRAISER:n=[c("ReactComposerTaggerType").FUN_FACT];o=[c("ReactComposerAttachmentType").LIST,c("ReactComposerAttachmentType").PLACE_LIST,c("ReactComposerAttachmentType").VISUAL_POLL];break;case c("ReactComposerTaggerType").TAG_EVENT:n=[c("ReactComposerTaggerType").ACTIVITY,c("ReactComposerTaggerType").CONTACT_YOUR_REPRESENTATIVE,c("ReactComposerTaggerType").RECOMMENDATION];o=[c("ReactComposerAttachmentType").LIST,c("ReactComposerAttachmentType").PLACE_LIST,c("ReactComposerAttachmentType").TASK];break;case c("ReactComposerTaggerType").ASSET_3D:p=true;break;default:throw new Error(m+" is an unhandled tagger type in ReactComposerTaggerStore.isDisabled")}var q=c("ReactComposerAttachmentStore").getSelectedAttachmentID(l),r=c("ReactComposerAttachmentStore").getIsAttachmentSelectedOrProxied(l,c("ReactComposerAttachmentType").STATUS);return this.$ReactComposerTaggerStore21(l,n)||p&&!r&&q!==this.$ReactComposerTaggerStore22(m)||o.includes(q)};k.prototype.$ReactComposerTaggerStore22=function(l){"use strict";__p&&__p();switch(l){case c("ReactComposerTaggerType").CALL:return c("ReactComposerAttachmentType").CALL;case c("ReactComposerTaggerType").PAGE_CTA:return c("ReactComposerAttachmentType").CTA;case c("ReactComposerTaggerType").MESSAGING:return c("ReactComposerAttachmentType").MESSAGE;case c("ReactComposerTaggerType").RECOMMENDATION:return c("ReactComposerAttachmentType").PLACE_LIST;case c("ReactComposerTaggerType").FIND_PLAYERS:return c("ReactComposerAttachmentType").FIND_PLAYERS;case c("ReactComposerTaggerType").VISUAL_POLL:return c("ReactComposerAttachmentType").VISUAL_POLL;case c("ReactComposerTaggerType").LIST:return c("ReactComposerAttachmentType").LIST;default:return null}};k.prototype.$ReactComposerTaggerStore21=function(l,m){"use strict";__p&&__p();for(var n=m,o=Array.isArray(n),p=0,n=o?n:n[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var q;if(o){if(p>=n.length)break;q=n[p++]}else{p=n.next();if(p.done)break;q=p.value}var r=q;if(this.hasData(l,r))return true}return false};k.prototype.hasData=function(l,m){"use strict";__p&&__p();var n=this.getTaggerData(l,m);if(n==null)return false;switch(m){case c("ReactComposerTaggerType").PEOPLE:case c("ReactComposerTaggerType").PRODUCT:case c("ReactComposerTaggerType").CONTENT_WARNINGS:return n.length>0;case c("ReactComposerTaggerType").LOCATION:return!!n.place;case c("ReactComposerTaggerType").BACKDATE:return!!n.year;case c("ReactComposerTaggerType").ACTIVITY:return!!n.action&&!!n.object;case c("ReactComposerTaggerType").MARKDOWN:return!!n.isMarkdown;case c("ReactComposerTaggerType").TARGETING:case c("ReactComposerTaggerType").PUBLISHER_ABTEST_HOLDOUT:case c("ReactComposerTaggerType").POLITICAL_INFO:case c("ReactComposerTaggerType").ISSUE_TAG:return!c("isEmpty")(n);case c("ReactComposerTaggerType").BREAKING_NEWS:return!c("isEmpty")(n)&&n.isAttachmentBreaking&&n.expirationTime>0;case c("ReactComposerTaggerType").FUN_FACT:return!!n.promptID||!!n.askedPromptID;case c("ReactComposerTaggerType").SPONSOR:return n.sponsors&&n.sponsors.length>0;case c("ReactComposerTaggerType").FORMATTED_TEXT:return!!n.formatActive;case c("ReactComposerTaggerType").STICKER:return!!n.stickerID;case c("ReactComposerTaggerType").GIF:return!!n.gifData;case c("ReactComposerTaggerType").MESSAGING:return n.hasCTA;case c("ReactComposerTaggerType").CONTACT_YOUR_REPRESENTATIVE:return!!n.politicalRepresentative;case c("ReactComposerTaggerType").FUNDRAISER:return!!n.charityID;case c("ReactComposerTaggerType").TAG_EVENT:return!!n.eventID;case c("ReactComposerTaggerType").ASSET_3D:return!!n.file;default:throw new Error(m+" is an unhandled tagger type in ReactComposerTaggerStore.hasData")}};k.prototype.shouldShowNUX=function(l,m){"use strict";var n=this.getComposerData(l);return!!n.taggersShowNUX[m]};k.prototype.shouldShowTooltip=function(l,m){"use strict";var n=this.getComposerData(l);return!!n.taggersShowTooltip[m]};k.prototype.areAllTaggersEmpty=function(l){"use strict";var m=this.getTaggersData(l);for(var n in m)if(this.hasData(l,n))return false;return true};k.prototype.getSelectedTagger=function(l){"use strict";return this.getComposerData(l).selectedTagger};k.prototype.getAutoFocusOnSelectedTagger=function(l){"use strict";return this.getComposerData(l).autoFocusOnSelectedTagger};k.prototype.getTaggerSource=function(l,m){"use strict";return this.getComposerData(l).taggersSource[m]};k.prototype.getTaggerData=function(l,m){"use strict";return this.getComposerData(l).taggersData[m]};k.prototype.getTaggersData=function(l){"use strict";return this.getComposerData(l).taggersData};k.prototype.getTaggersConfig=function(l,m){"use strict";return this.getComposerData(l).taggersConfig[m]};k.prototype.hasMinutiae=function(l){"use strict";var m=this.getTaggerData(l,c("ReactComposerTaggerType").ACTIVITY);return!!(m&&m.action&&m.object)};k.prototype.hasLocationTag=function(l){"use strict";var m=this.getTaggerData(l,c("ReactComposerTaggerType").LOCATION);return!!(m&&(m.place||m.implicitLocation))};k.prototype.hasExplicitLocation=function(l){"use strict";var m=this.getTaggerData(l,c("ReactComposerTaggerType").LOCATION);return!!(m&&m.place)};k.prototype.hasImplicitLocation=function(l){"use strict";var m=this.getTaggerData(l,c("ReactComposerTaggerType").LOCATION);return!!(m&&m.implicitLocation&&!m.place)};k.prototype.hasBackdate=function(l){"use strict";var m=this.getTaggerData(l,c("ReactComposerTaggerType").BACKDATE)||{};return!!m.year};k.prototype.hasMarkdown=function(l){"use strict";return!!this.getTaggerData(l,c("ReactComposerTaggerType").MARKDOWN).isMarkdown};k.prototype.hasMessagingCTA=function(l){"use strict";return!!this.getTaggerData(l,c("ReactComposerTaggerType").MESSAGING).hasCTA};k.prototype.getPoliticalDistrictInfo=function(l){"use strict";return this.getTaggerData(l,c("ReactComposerTaggerType").POLITICAL_INFO)};k.prototype.getNumberOfWithWhoTags=function(l){"use strict";var m=this.getTaggerData(l,c("ReactComposerTaggerType").PEOPLE)||[];return m.length};k.prototype.$ReactComposerTaggerStore2=function(l){"use strict";var m=this.getComposerData(l.composerID);m.selectedTagger=null;this.emitChange(l.composerID)};k.prototype.$ReactComposerTaggerStore3=function(l){"use strict";var m=this.getComposerData(l.composerID);if(m.selectedTagger===l.taggerID&&!l.disableToggle)m.selectedTagger=null;else m.selectedTagger=l.taggerID;m.autoFocusOnSelectedTagger=l.autoFocus;this.emitChange(l.composerID)};k.prototype.$ReactComposerTaggerStore9=function(l){"use strict";var m=this.getComposerData(l.composerID);m.taggersConfig[l.taggerID]=l.taggerConfig;this.emitChange(l.composerID)};k.prototype.$ReactComposerTaggerStore5=function(l){"use strict";var m=this.getComposerData(l.composerID);m.taggersSource[l.taggerID]=l.taggerSource;this.emitChange(l.composerID)};k.prototype.$ReactComposerTaggerStore4=function(l){"use strict";var m=this.validateAction(l,["composerID","taggersSource"]),n=m[0],o=m[1],p=this.getComposerData(n);for(var q in o)p.taggersSource[q]=o[q];this.emitChange(n)};k.prototype.$ReactComposerTaggerStore6=function(l){"use strict";var m=this.getComposerData(l.composerID),n=Array.isArray(l.taggerData)?l.taggerData.slice():Object.assign({},l.taggerData);m.taggersData[l.taggerID]=n;this.emitChange(l.composerID)};k.prototype.$ReactComposerTaggerStore7=function(l){"use strict";var m=this.getComposerData(l.composerID);m.taggersShowNUX[l.taggerID]=l.showNUX;this.emitChange(l.composerID)};k.prototype.$ReactComposerTaggerStore8=function(l){"use strict";var m=this.getComposerData(l.composerID);m.taggersShowTooltip[l.taggerID]=l.showTooltip;this.emitChange(l.composerID)};k.prototype.$ReactComposerTaggerStore20=function(l){"use strict";var m=this.getComposerData(l.composerID);m.sourceAttachment=c("ReactComposerAttachmentStore").getSelectedAttachmentID(l.composerID);if(m.sourceAttachment==="STATUS"){m.taggersData[c("ReactComposerTaggerType").BREAKING_NEWS]={};if(m.selectedTagger===c("ReactComposerTaggerType").BREAKING_NEWS)m.selectedTagger=null}this.emitChange(l.composerID)};k.prototype.$ReactComposerTaggerStore19=function(l){"use strict";var m=this.getComposerData(l.composerID);if(l.id===m.sourceAttachment||m.sourceAttachment===null)return;this.getTaggerData(l.composerID,c("ReactComposerTaggerType").GIF).gifData=null;this.emitChange(l.composerID)};k.prototype.$ReactComposerTaggerStore18=function(l){"use strict";var m=this.getComposerData(l.composerID),n=Object.assign({mediaLocation:l.mediaLocation},m.taggersData[c("ReactComposerTaggerType").LOCATION]);m.taggersData[c("ReactComposerTaggerType").LOCATION]=n;var o=Object.assign({mediaLocation:l.mediaLocation,mediaTakenTime:l.mediaTakenTime},m.taggersData[c("ReactComposerTaggerType").TAG_EVENT]);m.taggersData[c("ReactComposerTaggerType").TAG_EVENT]=o;this.emitChange(l.composerID)};k.prototype.$ReactComposerTaggerStore10=function(l){"use strict";var m=this.validateAction(l,["composerID","facebox","photoID"]),n=m[0],o=m[1],p=m[2],q=o.bestRecognition;if(q)this.$ReactComposerTaggerStore23(n,q.subjectID,q.value,p)};k.prototype.$ReactComposerTaggerStore11=function(l){"use strict";var m=this.validateAction(l,["composerID","subject","value","photoID"]),n=m[0],o=m[1],p=m[2],q=m[3];this.$ReactComposerTaggerStore23(n,o,p,q)};k.prototype.$ReactComposerTaggerStore14=function(l){"use strict";var m=this.validateAction(l,["composerID","photoID"]),n=m[0],o=m[1];this.$ReactComposerTaggerStore24(n,o);this.$ReactComposerTaggerStore25(n,o)};k.prototype.$ReactComposerTaggerStore12=function(l){"use strict";var m=this.validateAction(l,["composerID","subject","value","photoID"]),n=m[0],o=m[1],p=m[2],q=m[3];this.$ReactComposerTaggerStore26(n,o,p,q)};k.prototype.$ReactComposerTaggerStore13=function(l){"use strict";var m=this.validateAction(l,["composerID","subjectID","value","photoID"]),n=m[0],o=m[1],p=m[2],q=m[3];this.$ReactComposerTaggerStore23(n,o,p,q)};k.prototype.$ReactComposerTaggerStore15=function(l){"use strict";var m=this.validateAction(l,["composerID","subjectID"]),n=m[0],o=m[1];if(!c("ReactComposerPhotoStore").getIsSubjectTagged(n,o))this.$ReactComposerTaggerStore27(n,o)};k.prototype.$ReactComposerTaggerStore16=function(l){"use strict";var m=this.validateAction(l,["composerID","photoID","faceboxes","xyTags"]),n=m[0],o=m[1],p=m[2],q=m[3];this.$ReactComposerTaggerStore24(n,o);p.forEach(function(r){r&&r.taggedSubjectID&&this.$ReactComposerTaggerStore23(n,r.taggedSubjectID,r.taggedValue,o)}.bind(this));q.forEach(function(r){r&&this.$ReactComposerTaggerStore23(n,r.subject,r.name,o)}.bind(this))};k.prototype.$ReactComposerTaggerStore17=function(l){"use strict";var m=this.validateAction(l,"composerID");this.getComposerData(m).$ReactComposerTaggerStore1.forEach(function(n){if(!c("ReactComposerPhotoStore").getIsSubjectTagged(m,n))this.$ReactComposerTaggerStore27(m,n)}.bind(this))};k.prototype.$ReactComposerTaggerStore23=function(l,m,n,o){"use strict";__p&&__p();var p=new(c("SearchableEntry"))({uniqueID:m,title:n,auxiliaryData:{isFacebox:true,photos:new(c("Set"))([o])}}),q=this.getComposerData(l),r=q.taggersData[c("ReactComposerTaggerType").PEOPLE],s=r.find(function(u){return u.getUniqueID()===p.getUniqueID()});q.$ReactComposerTaggerStore1=q.$ReactComposerTaggerStore1.add(m);if(s){var t=s.getAuxiliaryData();if(this.$ReactComposerTaggerStore28(s))t.photos.add(o)}else q.taggersData[c("ReactComposerTaggerType").PEOPLE]=r.concat(p);this.emitChange(l)};k.prototype.$ReactComposerTaggerStore26=function(l,m,n,o){"use strict";var p=new(c("SearchableEntry"))({uniqueID:m,title:n,auxiliaryData:{isFacebox:true,photos:new(c("Set"))([o])}}),q=this.getComposerData(l),r=q.taggersData[c("ReactComposerTaggerType").PRODUCT],s=r.find(function(t){return t.getUniqueID()===p.getUniqueID()});if(s){if(this.$ReactComposerTaggerStore28(s))s.getAuxiliaryData().photos.add(o)}else q.taggersData[c("ReactComposerTaggerType").PRODUCT]=r.concat(p);this.emitChange(l)};k.prototype.$ReactComposerTaggerStore27=function(l,m){"use strict";var n=this.getComposerData(l);n.taggersData[c("ReactComposerTaggerType").PEOPLE]=n.taggersData[c("ReactComposerTaggerType").PEOPLE].filter(function(o){return o.getUniqueID()!==m});n.taggersData[c("ReactComposerTaggerType").PRODUCT]=n.taggersData[c("ReactComposerTaggerType").PRODUCT].filter(function(o){return o.getUniqueID()!==m});n.$ReactComposerTaggerStore1=n.$ReactComposerTaggerStore1["delete"](m);this.emitChange(l)};k.prototype.$ReactComposerTaggerStore24=function(l,m){"use strict";var n=this.getComposerData(l),o=n.taggersData[c("ReactComposerTaggerType").PEOPLE];this.$ReactComposerTaggerStore29(l,o,m)};k.prototype.$ReactComposerTaggerStore25=function(l,m){"use strict";var n=this.getComposerData(l),o=n.taggersData[c("ReactComposerTaggerType").PRODUCT];this.$ReactComposerTaggerStore29(l,o,m)};k.prototype.$ReactComposerTaggerStore29=function(l,m,n){"use strict";__p&&__p();var o=[];for(var p=m,q=Array.isArray(p),r=0,p=q?p:p[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var s;if(q){if(r>=p.length)break;s=p[r++]}else{r=p.next();if(r.done)break;s=r.value}var t=s,u=t.getAuxiliaryData();if(this.$ReactComposerTaggerStore28(t)&&u.photos["delete"](n)&&u.photos.size==0)o.push(t.getUniqueID())}for(var v=o,w=Array.isArray(v),x=0,v=w?v:v[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var y;if(w){if(x>=v.length)break;y=v[x++]}else{x=v.next();if(x.done)break;y=x.value}var z=y;this.$ReactComposerTaggerStore27(l,z)}};k.prototype.$ReactComposerTaggerStore28=function(l){"use strict";return l.getAuxiliaryData().photos};k.prototype.isPostButtonDisabled=function(l,m){"use strict";var n=this.getTaggerData(l,c("ReactComposerTaggerType").PRODUCT);if(n.length>0)c("QE2Logger").logExposureForUser(j);return n!==null&&n.length>0&&n.length<m};f.exports=new k()}),null);
__d("PUWMethods",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({DRAGDROP:"dragdrop",FILE_SELECTOR:"file_selector",VAULT:"vault",RECENT_PHOTOS:"recent_photos",PHOTOS_OF_YOU:"photos_of_you",METHOD_EDITOR:"editor",SUGGESTIONS:"suggestions",CAMERA:"camera",COPYPASTE:"copypaste",DISABLE_SPHERICAL:"disable_spherical"})}),null);
__d("ReactComposerLoggingName",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ALBUM:"album",ALBUM_SPROUT:"album_sprout",ALBUM_TAB_SELECTOR:"album_tab_selector",ALBUM_TAGGER:"album_tagger",APP_INTEGRATION_BOX:"app_integration_box",APP_INTEGRATION_DROPBOX:"app_integration_dropbox",APP_INTEGRATION_GDRIVE:"app_integration_gdrive",APP_INTEGRATION_ONEDRIVE:"app_integration_onedrive",APP_INTEGRATION_QUIP:"app_integration_quip",ASSET_3D:"asset_3d",AUDIENCE_SELECTOR:"audience_selector",BACKDATE_TAG_SPROUT:"backdate_tag_sprout",BACKDATE_TAGGER:"backdate_tagger",BREAKING_NEWS:"breaking_news",BREAKING_NEWS_SPROUT:"breaking_news_sprout",CANVAS_EDITOR:"canvas_editor",CHEVRON_MENU_EDIT_POST:"chevron_menu/edit_post",COLLECTION_CLEAR_BUTTON:"collection_clear_button",COLLECTION_SELECTED:"collection_selected",COLLECTIONS_CREATE_CANCEL_BUTTON:"collections_create_cancel_button",COLLECTIONS_CREATE_SHARING_SPACE_CANCEL_BUTTON:"collections_create_sharing_space_cancel_button",COLLECTIONS_CREATE_SHARING_SPACE_SUBMIT_BUTTON:"collections_create_sharing_space_submit_button",COLLECTIONS_CREATE_SUBMIT_BUTTON:"collections_create_submit_button",COLLECTIONS_SELECTOR_BUTTON:"collections_selector_button",COLLECTIONS_SELECTOR_CREATE_BUTTON:"collections_selector_create_button",COLLECTIONS_SELECTOR_CREATE_SHARING_SPACE_BUTTON:"collections_selector_create_sharing_space_button",CONTACT_YOUR_REPRESENTATIVE_TAGGER:"contact_your_representative_tagger",CONTACT_YOUR_REPRESENTATIVE_SPROUT:"contact_your_representative_sprout",CONTENT_WARNINGS_TAGGER:"content_warnings_tagger",CRISIS_PAGE:"crisis_page",CRISIS_BOOKMARK:"crisis_bookmark",DELETE_POST_EDIT_BUTTON:"delete_post_dialog/edit_post_button",DOC_TAB_SELECTOR:"doc_tab_selector",FUNDRAISER_SPROUT:"fundraiser_sprout",ELLIPSIS_SPROUT:"ellipsis_sprout",ESCAPE_KEY:"escape_key",EVENT_SPROUT:"event_sprout",EVENT_TAB_SELECTOR:"event_tab_selector",FILE_DROPPED:"file_dropped",FILE_TAB_SELECTOR:"file_tab_selector",FIND_PLAYERS_SPROUT:"find_players_sprout",FUN_FACT:"fun_fact",FORMATTED_TEXT_BUTTON:"formatted_text_button",FORMATTED_TEXT_SPROUT:"formatted_text_sprout",FORMATTED_TEXT_TAGGER:"formatted_text_tagger",FRIEND_TAG_SPROUT:"friend_tag_sprout",FUN_FACT_SPROUT:"fun_fact_sprout",GAME_TAB_SELECTOR:"game_tab_selector",GET_BOOKINGS_SPROUT:"get_bookings_sprout",GET_MESSAGES_SPROUT:"get_messages_sprout",GET_TICKET_SPROUT:"get_ticket_sprout",GET_PHONE_CALLS_SPROUT:"get_phone_calls_sprout",GIF_SPROUT:"gif_sprout",GROUP_SELECTOR:"group_selector",GROUP_POLL_SPROUT:"group_poll_sprout",GROUP_MEET_UP:"group_meet_up",GROUP_MEET_UP_SELECTOR:"group_meet_up_selector",GROUP_MEETUP_EDIT_BUTTON:"group_meetup_edit_button",INLINE_COMPOSER:"inline_composer",ISSUE_TAGGER:"issue_tagger",LEARNING_COURSE_TAB_SELECTOR:"learning_course_tab_selector",JOB_POST_ATTACHMENT:"job_post_attachment",JOBS_COMPOSER:"jobs_composer",LEARNING_THIRD_PARTY_LINK_TAB_SELECTOR:"learning_third_party_link_tab_selector",LINK_DROPPED:"link_dropped",LINK_PASTED:"link_pasted",LINK_REMOVE_BUTTON:"link_remove_button",LIST_SPROUT:"list_sprout",LIVE_VIDEO_SPROUT:"live_video_sprout",LIVE_VIDEO_TAB_SELECTOR:"live_video_tab_selector",LOCATION_TAG_SPROUT:"location_tag_sprout",LOCATION_TAGGER:"location_tagger",MARKDOWN_SPROUT:"markdown_sprout",MARKDOWN_TAGGER:"markdown_tagger",MARKETPLACE:"marketplace",MEDIA_ATTACHMENT_UPLOAD_BUTTON:"media_attachment_upload_button",MEDIA_COLLAGE_PLUS_BUTTON:"media_collage_plus_button",MEDIA_FILE_DROPPED:"media_file_dropped",MEDIA_FILE_PASTED:"media_file_pasted",MEDIA_SPROUT:"media_sprout",MEDIA_TAB_SELECTOR:"media_tab_selector",MEDIA_TAGGER:"media_tagger",MEDIA_UPLOADS_PLUS_BUTTON:"media_uploads_plus_button",MEDIA_COMPOSER_ON_INIT:"media_composer_on_init",MENTIONS_INPUT_FOCUS:"mentions_input_focus",MESSAGING_TAGGER:"messaging_tagger",MESSENGER_PHOTO_VIEWER_SHARE:"messenger_photo_viewer_share",MINUTIAE_SPROUT:"minutiae_sprout",MINUTIAE_TAGGER:"minutiae_tagger",MLE_TAB_SELECTOR:"mle_tab_selector",MODAL_PAGE_INVITE_DASHBOARD:"modal_page_invite_dashboard",NOTES_SPROUT:"notes_sprout",NOTES_TAB_SELECTOR:"notes_tab_selector",PAGES_CTA_SELECTOR:"pages_cta_selector",PAGES_EXTRA_TAB_SELECTOR:"pages_extra_tab_selector",PAGES_ACTION_BAR_RECOMMEND:"pages_action_bar_recommend",PEOPLE_TAGGER:"people_tagger",PEOPLE_TAGGER_SPROUT:"people_tagger_sprout",PHOTO_UPLOAD_DONE:"photo_upload_done",PREFILL_HOLIDAY_CARD_SHARE_BUTTON:"prefill_holiday_card_share_button",PRODUCT_TAGGER:"product_tagger",PRODUCT_TAGGER_BANNER_UPSELL:"product_tagger_banner_upsell",PROMPT:"prompt",PUBLISHER_ABTEST_HOLDOUT_TAGGER:"publisher_abtest_holdout_tagger",QA_TAB_SELECTOR:"qa_tab_selector",QANDA_TAB_SELECTOR:"qanda_tab_selector",ORDER_FOOD:"order_food",QUICKSILVER_SHARE_SCORE_BUTTON:"quicksilver_share_score_button",QUESTION_TAB_SELECTOR:"question_tab_selector",QUIZ_TAB_SELECTOR:"quiz_tab_selector",RECOMMENDATIONS_DASHBOARD:"recommendations_dashboard",RECOMMENDATIONS_TAB_SELECTOR:"recommendations_tab_selector",RECOMMENDATIONS_SPROUT:"recommendations_sprout",RED_ENVELOPE_TAB_SELECTOR:"red_envelope_tab_selector",REP_TAGGING:"rep_tagging",SALES_PROMO_SPROUT:"sales_promo_sprout",SALES_PROMO_TAB_SELECTOR:"sales_promo_tab_selector",SELL_TAB_SELECTOR:"sell_tab_selector",SHARE_NOW_MENU_SHARE_TO_PAGE:"share_now_menu/share_to_page",SHARE_NOW_MENU_POST_TO_GROUP:"share_now_menu/post_to_group",SHARE_NOW_MENU_SEND_MESSAGE:"share_now_menu/send_message",SHARE_NOW_MENU_SHARE_FRIEND_TIMELINE:"share_now_menu/share_friend_timeline",SHARE_NOW_MENU_WRITE_POST:"share_now_menu/write_post",SHARING_SPACES_NEXT_BUTTON:"sharing_spaces_next_button",SHARING_SPACES_CREATE_NEW_ALBUM:"sharing_spaces_create_new_album",SPONSOR_SPROUT:"sponsor_sprout",SPONSOR_TAGGER:"sponsor_tagger",STATUS_TAB_SELECTOR:"status_tab_selector",STICKER_SPROUT:"sticker_sprout",TAGGER_SUMMARY_CONTACT_YOUR_REPRESENTATIVE:"tagger_summary_row/contact_your_representative",TAGGER_SUMMARY_LOCATION:"tagger_summary_row/location_tagger",TAGGER_SUMMARY_MINUTIAE:"tagger_summary_row/minutiae_tagger",TAGGER_SUMMARY_PEOPLE:"tagger_summary_row/people_tagger",TAGGER_SUMMARY_ROW:"tagger_summary_row",TAGGER_SUMMARY_TAG_EVENT:"tagger_summary_row/event_tagger",TARGETING_TAGGER:"targeting_tagger",TASK_TAB_SELECTOR:"task_tab_selector",TAG_EVENT:"tag_event",TEENS_AUDIENCE_SELECTOR:"teens_audience_selector",VISUAL_POLL_SPROUT:"visual_poll_sprout",OTHERS:"others"})}),null);
__d("ReactComposerPhotoLegacyLimitExceededDialog",["fbt","DOM","LayerDestroyOnHide","React","ReactDOM","XUIDialog.react","XUIDialogBody.react","XUIDialogFooter.react","XUIDialogOkayButton.react","XUIDialogTitle.react"],(function a(b,c,d,e,f,g,h){var i={show:function j(k){var l=h._("Trop de photos ajout\u00e9es"),m=h._("Vous ne pouvez ajouter que {maxselect} photos \u00e0 une publication. Pour en ajouter plus, essayez de cr\u00e9er un album.",[h.param("maxselect",k)]),n=c("DOM").create("div");c("ReactDOM").render(c("React").createElement(c("XUIDialog.react"),{shown:true,behaviors:{LayerDestroyOnHide:c("LayerDestroyOnHide")},width:600},c("React").createElement(c("XUIDialogTitle.react"),null,c("React").createElement("span",null,l)),c("React").createElement(c("XUIDialogBody.react"),null,m),c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIDialogOkayButton.react"),{use:"confirm",action:"cancel"}))),n)}};f.exports=i}),null);
__d("ReactComposerVideoLegacyLimitExceededDialog",["fbt","ErrorDialog"],(function a(b,c,d,e,f,g,h){var i={show:function j(){c("ErrorDialog").show(h._("Trop de fichiers"),h._("Veuillez ne s\u00e9lectionner qu\u2019un seul fichier vid\u00e9o \u00e0 la fois."))}};f.exports=i}),null);
__d("ReactComposerVideoUploadActionType",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){f.exports=c("keyMirrorRecursive")({VIDEO_SET_UPLOADER:null,VIDEO_UPLOAD_ADD:null,VIDEO_UPLOAD_REMOVE:null},"ReactComposerVideoUploadActionType")}),null);
__d("ReactComposerVideoUploadStore",["immutable","ReactComposerStoreBase","ReactComposerVideoUploadActionType"],(function a(b,c,d,e,f,g){__p&&__p();var h,i,j=c("immutable").Record({file:null});h=babelHelpers.inherits(k,c("ReactComposerStoreBase"));i=h&&h.prototype;function k(){"use strict";__p&&__p();var l=void 0;i.constructor.call(this,function(){return{uploader:null,video:null}},function(m){switch(m.type){case c("ReactComposerVideoUploadActionType").VIDEO_SET_UPLOADER:l&&l.$ReactComposerVideoUploadStore1(m);break;case c("ReactComposerVideoUploadActionType").VIDEO_UPLOAD_ADD:l&&l.$ReactComposerVideoUploadStore2(m);break;case c("ReactComposerVideoUploadActionType").VIDEO_UPLOAD_REMOVE:l&&l.$ReactComposerVideoUploadStore3(m);break;default:}});l=this}k.prototype.getUploader=function(l){"use strict";return this.getComposerData(l).uploader};k.prototype.getVideo=function(l){"use strict";return this.getComposerData(l).video};k.prototype.isUploading=function(l){"use strict";return this.getUploader(l).isUploading()};k.prototype.$ReactComposerVideoUploadStore1=function(l){"use strict";var m=this.validateAction(l,["composerID","uploader"]),n=m[0],o=m[1],p=this.getComposerData(n);p.uploader=o;this.emitChange(n)};k.prototype.$ReactComposerVideoUploadStore2=function(l){"use strict";var m=this.validateAction(l,["composerID","file"]),n=m[0],o=m[1],p=this.getComposerData(n);p.video=new j({file:o});this.emitChange(n)};k.prototype.$ReactComposerVideoUploadStore3=function(l){"use strict";var m=this.validateAction(l,"composerID"),n=this.getComposerData(m);n.video=null;n.input&&n.input.clear();this.emitChange(m)};f.exports=new k()}),null);
__d("ReactComposerVideoUploadActions",["ReactComposerDispatcher","ReactComposerVideoUploadActionType","ReactComposerVideoUploadStore"],(function a(b,c,d,e,f,g){c("ReactComposerVideoUploadStore");var h={setUploader:function i(j,k){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerVideoUploadActionType").VIDEO_SET_UPLOADER,uploader:k})},add:function i(j,k){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerVideoUploadActionType").VIDEO_UPLOAD_ADD,file:k})},remove:function i(j){c("ReactComposerDispatcher").dispatch({composerID:j,type:c("ReactComposerVideoUploadActionType").VIDEO_UPLOAD_REMOVE})}};f.exports=h}),null);
__d("ReactComposerMediaUtils",["invariant","Arbiter","Bootloader","Map","PUWMethods","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerLoggingName","ReactComposerMediaFilterUtils","ReactComposerMediaUploadActions","ReactComposerMediaUploadStore","ReactComposerMediaUploadType","ReactComposerPhotoActions","ReactComposerPhotoLegacyLimitExceededDialog","ReactComposerTaggerActions","ReactComposerTaggerStore","ReactComposerTaggerType","ReactComposerVideoLegacyLimitExceededDialog","ReactComposerVideoUploadActions","ReactComposerVideoUploadStore","VideoUploader","VideoUploadFeatureDetector","VideoUploadFile","curry","uniqueID"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i={clearInput:function j(k,l){if(k.input!==null){var m=this.getFileNamesFromFileInput(k.getInput());if(l||!i.hasVideos(m))k.clear()}},getFileNames:function j(k){var l=[];for(var m=0;m<k.length;m++)l.push(k[m].name);return l},getFileNamesFromFileInput:function j(k){if(c("VideoUploadFeatureDetector").supportsFileAPI())return this.getFileNames(k.files);else return[k.value.split("/").pop().split("\\").pop()]},hasVideos:function j(k){return c("ReactComposerMediaFilterUtils").hasVideos(k)},hasAudioFiles:function j(k){return c("ReactComposerMediaFilterUtils").hasAudioFiles(k)},filterVideos:function j(k){return c("ReactComposerMediaFilterUtils").filterVideos(k)},filterAudioFiles:function j(k){return c("ReactComposerMediaFilterUtils").filterAudioFiles(k)},filterFileOfSupportedType:function j(k,l){return c("ReactComposerMediaFilterUtils").filterFileOfSupportedType(k,l)},uploadVideo:function j(k,l){var m=c("ReactComposerMediaUploadStore").getUploadsOfType(k,c("ReactComposerMediaUploadType").PHOTO);if(m.size>0)c("ReactComposerMediaUploadActions").removeAllPhotoUploads(k,m);c("ReactComposerVideoUploadActions").add(k,l)},uploadPhotos:function j(k,l,m,n,o,p){__p&&__p();var q=m.isUploadLimitExceeded(n,l);if(q){c("ReactComposerPhotoLegacyLimitExceededDialog").show(m.getMaxSelectableFilesCount(n));return}var r=l?l.length:1;if(r<1)return;if(c("ReactComposerVideoUploadStore").getVideo(k))c("ReactComposerVideoUploadActions").remove(k);c("ReactComposerMediaUploadActions").photosSelect(k,r,o);p&&p()},uploadVideosFromTarget:function j(k,l,m,n,o){if(o)this.uploadMultiMediaFromTarget(k,l,m,n,o);else{if(l.files&&l.files.length>1){c("ReactComposerVideoLegacyLimitExceededDialog").show();return}this.uploadVideo(k,c("VideoUploadFile").fromFileInput(l))}},uploadVideos:function j(k,l,m,n,o,p){if(o)this.uploadMultiMedia(k,l,m,n,c("PUWMethods").FILE_SELECTOR,p);else{if(l&&l.length>1){c("ReactComposerVideoLegacyLimitExceededDialog").show();return}this.uploadVideo(k,c("VideoUploadFile").fromFile(l[0]))}},uploadMultiMediaFromTarget:function j(k,l,m,n,o){var p=this.getVideoXUploader(k);p.upload(Array.from(l.files));this.uploadPhotos(k,l.files,m,n,c("PUWMethods").FILE_SELECTOR,function(){m&&m.upload(l)},o)},uploadPhotosOrVideoFromTarget:function j(k,l,m,n,o){var p=this.getFileNamesFromFileInput(l);if(this.hasVideos(p))this.uploadVideosFromTarget(k,l,m,n,o);else this.uploadPhotos(k,l.files,m,n,c("PUWMethods").FILE_SELECTOR,function(){m&&m.upload(l)})},uploadMultiMedia:function j(k,l,m,n){var o=arguments.length<=4||arguments[4]===undefined?c("PUWMethods").FILE_SELECTOR:arguments[4],p=arguments[5],q=this.getVideoXUploader(k,p);q.upload(l);var r=l.filter(function(s){return!this.hasVideos([s.name])}.bind(this));this.uploadPhotos(k,r,m,n,o,function(){r.forEach(function(s){s.uploadID=c("uniqueID")();s.filename=""});m.enqueueAsyncUploadRequest(k,r,{},{},false)})},uploadPhotosOrVideo:function j(k,l,m,n){var o=arguments.length<=4||arguments[4]===undefined?c("PUWMethods").FILE_SELECTOR:arguments[4],p=arguments[5],q=arguments.length<=6||arguments[6]===undefined?null:arguments[6],r=this.getFileNames(l);if(this.hasVideos(r))this.uploadVideos(k,l,m,n,p,q);else this.uploadPhotos(k,l,m,n,o,function(){l.forEach(function(s){s.uploadID=c("uniqueID")();s.filename=""});m.enqueueAsyncUploadRequest(k,l,{},{},false)})},subscribeToImageEdit:function j(k,l){return c("Arbiter").subscribe(["AttachmentsPhotoEditor/newImage"+k,"AttachmentsPhotoEditor/tagsUpdated"+k],c("curry")(i.onImageEdited,k,l))},onImageEdited:function j(k,l,m,n){__p&&__p();if(m==="AttachmentsPhotoEditor/newImage"+k){var o=c("ReactComposerMediaUploadStore").getUploadsOfType(k,c("ReactComposerMediaUploadType").PHOTO),p=o.find(function(p){return p.photoID===n.fbid||p.originalPhotoID===n.fbid}),q=c("ReactComposerMediaUploadStore").getUploadIndex(k,p.id),r=n.blob;r.uploadID=c("uniqueID")();r.name=p.filename||c("uniqueID")();var s=new(c("Map"))([[r.uploadID,q]]);l&&l.enqueueAsyncUploadRequest(k,[r],{data:{original_fbid:n.fbid,xy_tags:n.xyTags,stickers:n.stickers,text_overlays:n.textOverlays,has_crop:n.hasCrop,has_filter:n.hasFilter},indexMap:s},{xyTags:n.xyTags},false);c("ReactComposerPhotoActions").removePhoto(k,p.photoID,p.id);c("ReactComposerMediaUploadActions").photosSelect(k,1,c("PUWMethods").METHOD_EDITOR)}else if(m==="AttachmentsPhotoEditor/tagsUpdated"+k)i.handleFaceboxAndXYTags(k,n.fbid,n.xyTags);c("ReactComposerPhotoActions").finishPhotoEdit(k)},handleFaceboxAndXYTags:function j(k,l,m){c("ReactComposerPhotoActions").untagAllForPhoto(k,l);m.forEach(function(n){if(n.from_facebox)c("ReactComposerPhotoActions").tagFacebox(k,l,n.facebox,n.subject,n.name);else if(n.is_product_tag)c("ReactComposerPhotoActions").tagXYProduct(k,l,n.name,n.source,n.subject,n.x,n.y);else c("ReactComposerPhotoActions").tagXY(k,l,n.name,n.source,n.subject,n.x,n.y)})},handleXYTagsOnly:function j(k,l,m){m.forEach(function(n){if(n.from_facebox)return;else if(n.is_product_tag)c("ReactComposerPhotoActions").tagXYProduct(k,l,n.name,n.source,n.subject,n.x,n.y);else c("ReactComposerPhotoActions").tagXY(k,l,n.name,n.source,n.subject,n.x,n.y)})},handleVideoUploadForDroppedFiles:function j(k,l,m){__p&&__p();var n=c("ReactComposerMediaUploadStore").getUploadsCount(m.composerID)>0;if(n)return false;var o=this.getFileNames(k);if(!o||o.length!==1)return false;var p=i.hasVideos(o);if(p){c("Bootloader").loadModules(["ComposerXVideoUploadDialogController"],function(q){return q.showDialog({targetID:m.targetID,files:k,composerEntryPointRef:m.composerType,canShowOptimisticPost:l.shouldShowOptimisticVideoPost})},"ReactComposerMediaUtils");return true}return false},handleSpecialMediaUpload:function j(event,k,l,m){__p&&__p();var n=c("ReactComposerMediaUploadStore").getUploadsCount(m.composerID)>0;if(!l.useVideoUploadDialog||n)return false;var o=event.target;if(!o||!o.files||o.files.length!==1)return false;var p=i.getFileNamesFromFileInput(o),q=i.hasVideos(p),r=i.hasAudioFiles(p);if(r&&l.canUploadAudio){c("Bootloader").loadModules(["ComposerXAudioUploadDialogController"],function(s){return s.showDialog({targetID:m.targetID,fileInput:k,originalComposerID:m.composerID})},"ReactComposerMediaUtils");return true}else if(q){c("Bootloader").loadModules(["ComposerXVideoUploadDialogController"],function(s){return s.showDialog({targetID:m.targetID,fileInput:k,composerEntryPointRef:m.composerType,canShowOptimisticPost:l.shouldShowOptimisticVideoPost,originalComposerID:m.composerID})},"ReactComposerMediaUtils");return true}return false},isMultimediaPost:function j(k){return c("ReactComposerMediaUploadStore").getUploadsCount(k,c("ReactComposerMediaUploadType").VIDEO)>0&&c("ReactComposerMediaUploadStore").getUploadsCount(k,c("ReactComposerMediaUploadType").PHOTO)>0},getVideoXUploader:function j(k){var l=arguments.length<=1||arguments[1]===undefined?null:arguments[1],m=null;if(l&&l.videoUploadParams)m=l;else m=c("ReactComposerAttachmentStore").getAttachmentsConfig(k,c("ReactComposerAttachmentType").MEDIA);m||h(0);var n=c("ReactComposerMediaUploadStore").getVideoUploader(k,m.videoUploadParams);return n},tryGetVideoXUploader:function j(k){var l=arguments.length<=1||arguments[1]===undefined?null:arguments[1];try{return this.getVideoXUploader(k,l)}catch(m){return null}},getVideoUploader:function j(k){var l=c("ReactComposerAttachmentStore").getAttachmentsConfig(k,c("ReactComposerAttachmentType").MEDIA);l||h(0);var m=JSON.parse(JSON.stringify(l.videoUploadParams));return new(c("VideoUploader"))(m)},changeToPeopleTaggerAfterUpload:function j(k){var l=c("ReactComposerTaggerStore").getSelectedTagger(k),m=c("ReactComposerAttachmentStore").getIsAttachmentSelected(k,c("ReactComposerAttachmentType").MEDIA);if(l===null&&m)c("ReactComposerTaggerActions").selectTaggerWithoutAutofocus(k,c("ReactComposerLoggingName").PHOTO_UPLOAD_DONE,c("ReactComposerTaggerType").PEOPLE)}};f.exports=i}),null);
__d("ReactComposerEventAttachmentActionType",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){f.exports=c("keyMirrorRecursive")({EVENT_ATTACHMENT_ENABLED:null,FETCH_EVENT_ATTACHMENT:null,SET_EVENT_MARKUP:null},"ReactComposerEventAttachmentActionType")}),null);
__d("XReactComposerEventAttachmentController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/react_composer/event/attachment/",{composer_id:{type:"String",required:true},event_id:{type:"String",required:true}})}),null);
__d("ReactComposerEventAttachmentStore",["AsyncRequest","ReactComposerAttachmentActionType","ReactComposerAttachmentType","ReactComposerEventAttachmentActionType","ReactComposerStoreBase","XReactComposerEventAttachmentController"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("ReactComposerStoreBase"));i=h&&h.prototype;function j(){"use strict";__p&&__p();var k=void 0;i.constructor.call(this,function(){return{eventID:null,isEnabled:false,isFetching:false,isTimeline:false,markup:null,pendingRequest:null}},function(l){switch(l.type){case c("ReactComposerEventAttachmentActionType").EVENT_ATTACHMENT_ENABLED:k&&k.$ReactComposerEventAttachmentStore1(l);break;case c("ReactComposerEventAttachmentActionType").FETCH_EVENT_ATTACHMENT:k&&k.$ReactComposerEventAttachmentStore2(l);break;case c("ReactComposerEventAttachmentActionType").SET_EVENT_MARKUP:k&&k.$ReactComposerEventAttachmentStore3(l);break;case c("ReactComposerAttachmentActionType").SELECT_ATTACHMENT:k&&k.$ReactComposerEventAttachmentStore4(l);break}});k=this}j.prototype.isEnabled=function(k){"use strict";return this.getComposerData(k).isEnabled};j.prototype.getEventID=function(k){"use strict";return this.getComposerData(k).eventID};j.prototype.getMarkup=function(k){"use strict";return this.getComposerData(k).markup};j.prototype.getIsTimeline=function(k){"use strict";return this.getComposerData(k).isTimeline};j.prototype.hasAttachment=function(k){"use strict";return this.getComposerData(k).markup!=null};j.prototype.isFetching=function(k){"use strict";return this.getComposerData(k).isFetching};j.prototype.$ReactComposerEventAttachmentStore1=function(k){"use strict";var l=this.validateAction(k,["composerID","enabled"]),m=l[0],n=l[1],o=this.getComposerData(m);o.isEnabled=n};j.prototype.$ReactComposerEventAttachmentStore2=function(k){"use strict";__p&&__p();var l=this.validateAction(k,["composerID","eventID"]),m=l[0],n=l[1];if(!this.isEnabled(m))return;var o=this.getComposerData(m);o.isFetching=true;var p=c("XReactComposerEventAttachmentController").getURIBuilder().setString("composer_id",m).setString("event_id",n).getURI();o.pendingRequest=new(c("AsyncRequest"))(p).setFinallyHandler(function(){o.isFetching=false;o.pendingRequest=null;this.emitChange(m)}.bind(this));o.pendingRequest.send();this.emitChange(m)};j.prototype.$ReactComposerEventAttachmentStore3=function(k){"use strict";var l=this.validateAction(k,["composerID","eventID","markup"]),m=l[0],n=l[1],o=l[2],p=this.getComposerData(m);p.markup=o;p.eventID=n;this.emitChange(m)};j.prototype.$ReactComposerEventAttachmentStore4=function(k){"use strict";var l=this.validateAction(k,["composerID","id"]),m=l[0],n=l[1];if(n===c("ReactComposerAttachmentType").STATUS)return;var o=this.getComposerData(m);o.markup=null;o.isFetching=false;o.pendingRequest&&o.pendingRequest.abandon();this.emitChange(m)};f.exports=new j()}),null);
__d("ReactComposerTaggerButton.react",["cx","React","Tooltip.react","TooltipLink.react","emptyFunction","joinClasses"],(function a(b,c,d,e,f,g,h){var i=c("React").PropTypes,j=c("React").createClass({displayName:"ReactComposerTaggerButton",propTypes:{taggerID:i.string.isRequired,title:i.string,tooltip:i.string,selected:i.bool,hasData:i.bool,onSelect:i.func,suppressTaggerLink:i.bool},getDefaultProps:function k(){return{title:null,tooltip:null,selected:false,hasData:false,onSelect:c("emptyFunction"),suppressTaggerLink:false}},render:function k(){var l="_3xem"+(this.props.selected?" _50hx":""),m=c("joinClasses")("_2vwi"+(this.props.hasData?" _6xe":""),this.props.className),n=this.props.suppressTaggerLink?c("Tooltip.react"):c("TooltipLink.react");return c("React").createElement(n,{onClick:this._onSelect,"data-testid":"testid-"+this.props.taggerID,tooltip:this.props.tooltip,"data-tooltip-content":this.props.tooltip,className:l,href:"#",role:"button"},c("React").createElement("span",{className:"accessible_elem"},this.props.title),c("React").createElement("div",{className:m}),this.props.children)},_onSelect:function k(){this.props.onSelect&&this.props.onSelect(this.props.taggerID)}});f.exports=j}),null);
__d("ReactComposerPropsAndStoreBasedStateMixin",["invariant","ExecutionEnvironment","ReactComposerContextTypes","StoreBasedStateMixinHelper","setImmediate"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=function i(){__p&&__p();for(var j=arguments.length,k=Array(j),l=0;l<j;l++)k[l]=arguments[l];return{_queuedUpdates:[],contextTypes:c("ReactComposerContextTypes"),getInitialState:function m(){var n=void 0;if(this.constructor.getAttachmentInitialState)n=this.constructor.getAttachmentInitialState(this.context.composerID,this.props,this.context);else n={};if(this.constructor.beforeCalculateInitialState)this.constructor.beforeCalculateInitialState(this.context.composerID,this.props,this.context);return Object.assign({},n,this.constructor.calculateState(this.context.composerID,this.props,this.context))},componentWillMount:function m(){__p&&__p();this.constructor.calculateState||h(0);this.context.composerID||h(0);this._recalculateStateID=null;var n=function(o){if(!c("ExecutionEnvironment").canUseDOM)return;if(this.isMounted()&&o.composerID===this.context.composerID)this.setState(this.constructor.calculateState(this.context.composerID,this.props,this.context));this._recalculateStateID=null;if(this._queuedUpdates.length)this._queuedUpdates.shift()()}.bind(this);this._mixin=new(c("StoreBasedStateMixinHelper"))(k);this._mixin.subscribeCallback(function(o){if(this._recalculateStateID===null)this._recalculateStateID=c("setImmediate")(n,o);else this._queuedUpdates.push(function(){this._recalculateStateID=c("setImmediate")(n,o)}.bind(this))}.bind(this))},componentWillReceiveProps:function m(n){var o=void 0;if(this.constructor.getAttachmentWillReceivePropsState)o=this.constructor.getAttachmentWillReceivePropsState(this.context.composerID,n,this.props,this.context);this.setState(Object.assign({},o||{},this.constructor.calculateState(this.context.composerID,n,this.context)))},componentWillUnmount:function m(){this._mixin.release();this._mixin=null}}};f.exports=i}),null);
__d("ReactComposerTaggerButtonMixin",["cx","invariant","React","ReactComposerPropsAndStoreBasedStateMixin","ReactComposerTaggerActions","ReactComposerTaggerButton.react","ReactComposerTaggerStore"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j={mixins:[c("ReactComposerPropsAndStoreBasedStateMixin")(c("ReactComposerTaggerStore"))],statics:{calculateState:function k(l,m){var n=c("ReactComposerTaggerStore").getSelectedTagger(l);return{selected:n===this.taggerID,hasData:c("ReactComposerTaggerStore").hasData(l,this.taggerID),showNUX:c("ReactComposerTaggerStore").shouldShowNUX(l,this.taggerID),showTooltip:c("ReactComposerTaggerStore").shouldShowTooltip(l,this.taggerID),shouldHide:c("ReactComposerTaggerStore").isDisabled(l,this.taggerID)}}},componentWillMount:function k(){this.constructor.taggerID||i(0)},render:function k(){if(this.state.shouldHide)return null;var l=this.getRef?this.getRef():"";return c("React").createElement("div",{className:"uiContextualLayerParent",style:{display:"inline-block"}},c("React").createElement(c("ReactComposerTaggerButton.react"),babelHelpers["extends"]({taggerID:this.constructor.taggerID,title:this.getTitle(),tooltip:this.getTooltip(),className:this.getClassName(),ref:l,onSelect:this._onSelect,suppressTaggerLink:this.constructor.suppressTaggerLink},this.state),this.getNUX&&this.getNUX(),this.props.children))},_onSelect:function k(){this._onSelectX&&this._onSelectX();if(this.constructor.unselectable!==true)c("ReactComposerTaggerActions").selectTagger(this.context.composerID,this.constructor.loggingName,this.constructor.taggerID,this.constructor.disableToggle)}};f.exports=j}),null);
__d("ReactComposerPrefillActionTypes",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){f.exports=c("keyMirrorRecursive")({SET_PREFILL_DATA:null},"ReactComposerPrefillActionTypes")}),null);
__d("ReactComposerPrefillStore",["invariant","ReactComposerPrefillActionTypes","ReactComposerStoreBase"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;i=babelHelpers.inherits(k,c("ReactComposerStoreBase"));j=i&&i.prototype;function k(){"use strict";var l=void 0;j.constructor.call(this,function(){return{prefillConfig:{}}},function(m){switch(m.type){case c("ReactComposerPrefillActionTypes").SET_PREFILL_DATA:l&&l.$ReactComposerPrefillStore1(m);break}});l=this}k.prototype.getField=function(l,m){"use strict";return this.$ReactComposerPrefillStore2(l,[m])};k.prototype.getAndEraseField=function(l,m){"use strict";return this.getAndEraseNestedField(l,[m])};k.prototype.getAndEraseNestedField=function(l,m){"use strict";m.length>0||h(0);var n=this.$ReactComposerPrefillStore2(l,m);setTimeout(function(){this.$ReactComposerPrefillStore3(l,m)}.bind(this),0);return n};k.prototype.$ReactComposerPrefillStore2=function(l,m){"use strict";var n=this.getComposerData(l).prefillConfig;for(var o=0;o<m.length;o++)n=n&&n[m[o]];return n};k.prototype.$ReactComposerPrefillStore4=function(l,m){"use strict";this.$ReactComposerPrefillStore3(l,[m])};k.prototype.$ReactComposerPrefillStore3=function(l,m){"use strict";var n=this.getComposerData(l).prefillConfig;for(var o=0;o<m.length-1;o++)n=n&&n[m[o]];if(n!=undefined)n[m[m.length-1]]=null};k.prototype.$ReactComposerPrefillStore1=function(l){"use strict";var m=this.validateAction(l,["composerID","prefillConfig"]),n=m[0],o=m[1],p=this.getComposerData(n);p.prefillConfig=o||{}};f.exports=new k()}),null);
__d("ReactComposerTaggerContainerStateMixin",["invariant","Arbiter","ReactComposerEvents","ReactComposerPrefillStore","ReactComposerPropsAndStoreBasedStateMixin","ReactComposerTaggerActions","ReactComposerTaggerStore","isEmpty"],(function a(b,c,d,e,f,g,h){__p&&__p();var i=function i(){__p&&__p();for(var j=arguments.length,k=Array(j),l=0;l<j;l++)k[l]=arguments[l];return{_prefillSubscription:undefined,mixins:[c("ReactComposerPropsAndStoreBasedStateMixin").apply(undefined,k.concat([c("ReactComposerTaggerStore")]))],statics:{beforeCalculateInitialState:function m(n,o){var p=o.taggerConfig&&o.taggerConfig.defaultData;if(p){var q=c("ReactComposerTaggerStore").getTaggerData(n,this.taggerID);if(c("isEmpty")(q))c("ReactComposerTaggerActions").setTaggerDataWithoutLogging(n,this.taggerID,p)}if(o.taggerSource)c("ReactComposerTaggerActions").setTaggerSource(n,this.taggerID,o.taggerSource)},calculateState:function m(n,o){var p=c("ReactComposerTaggerStore").getSelectedTagger(n),q=c("ReactComposerTaggerStore").getAutoFocusOnSelectedTagger(n),r=c("ReactComposerTaggerStore").getTaggerData(n,this.taggerID),s=c("ReactComposerTaggerStore").getTaggerSource(n,this.taggerID),t=p===this.taggerID;return{autoFocus:q,isSelected:t,taggerData:r,taggerSource:s}}},componentWillMount:function m(){this._prefillSubscription=c("Arbiter").subscribe(c("ReactComposerEvents").SET_PREFILL_DATA+this.context.composerID,this._handlePrefill);this.constructor.taggerID||h(0)},componentDidUpdate:function m(n,o){if(this.__onTaggerDataChanged){var p=Object.keys(o.taggerData).length===0&&Object.keys(this.state.taggerData).length>0,q=Object.keys(o.taggerData).length>0&&Object.keys(this.state.taggerData).length===0;if(p||q)this.__onTaggerDataChanged(this.state.taggerData)}},componentWillUnmount:function m(){this._prefillSubscription&&this._prefillSubscription.unsubscribe();this._prefillSubscription=null},_handlePrefill:function m(){var n=c("ReactComposerPrefillStore").getAndEraseNestedField(this.context.composerID,["taggersData",this.constructor.taggerID]);if(n)c("ReactComposerTaggerActions").setTaggerDataWithoutLogging(this.context.composerID,this.constructor.taggerID,n)}}};f.exports=i}),null);
__d("ReactKeyPressHandler.react",["Event","React","SubscriptionsHandler"],(function a(b,c,d,e,f,g){var h=c("React").PropTypes,i=c("React").createClass({displayName:"ReactKeyPressHandler",propTypes:{onKeyDownEvent:h.func.isRequired},getInitialState:function j(){return{subscriptions:new(c("SubscriptionsHandler"))()}},componentDidMount:function j(){this.state.subscriptions.engage();this.state.subscriptions.addSubscriptions(c("Event").listen(document.body,"keydown",function(k){this.props.onKeyDownEvent&&this.props.onKeyDownEvent(k)}.bind(this)))},componentWillUnmount:function j(){this.state.subscriptions&&this.state.subscriptions.release()},render:function j(){return this.props.children}});f.exports=i}),null);
__d("ReactComposerTaggerHideOnEscapeKeyPress.react",["Keys","React","ReactComposerContextTypes","ReactComposerLoggingName","ReactComposerTaggerActions","ReactKeyPressHandler.react"],(function a(b,c,d,e,f,g){var h=c("React").PropTypes,i=c("React").createClass({displayName:"ReactComposerTaggerHideOnEscapeKeyPress",contextTypes:c("ReactComposerContextTypes"),propTypes:{shouldHideOnEscape:h.bool},render:function j(){return this.props.shouldHideOnEscape?c("React").createElement(c("ReactKeyPressHandler.react"),{onKeyDownEvent:this._onKeyDownEvent},this.props.children):this.props.children},_onKeyDownEvent:function j(event){if(event.keyCode===c("Keys").ESC){event.stopPropagation();c("ReactComposerTaggerActions").deselectCurrentTagger(this.context.composerID,c("ReactComposerLoggingName").ESCAPE_KEY)}}});f.exports=i}),null);
__d("ReactComposerTaggerContainerMixin",["invariant","React","ReactComposerTaggerActions","ReactComposerTaggerContainerStateMixin","ReactComposerTaggerHideOnEscapeKeyPress.react"],(function a(b,c,d,e,f,g,h){__p&&__p();var i=function i(){__p&&__p();return{mixins:[c("ReactComposerTaggerContainerStateMixin").apply(undefined,arguments)],componentWillMount:function j(){this.constructor.taggerComponent||h(0)},render:function j(){if(!this.state.isSelected)return c("React").createElement("noscript",null);var k=this.constructor.taggerComponent,l=this.constructor.enableHideOnEscape&&this.state.isSelected;return c("React").createElement("div",{"data-testid":this.constructor.webDriverTestID},c("React").createElement(c("ReactComposerTaggerHideOnEscapeKeyPress.react"),{shouldHideOnEscape:l},c("React").createElement(k,babelHelpers["extends"]({},this.props,{autoFocus:this.state.autoFocus,taggerSource:this.state.taggerSource,taggerData:this.state.taggerData,onSelect:this._onTaggerDataChanged}))))},_onTaggerDataChanged:function j(k){if(this._suppressUpdateLogging&&this._suppressUpdateLogging(k))c("ReactComposerTaggerActions").setTaggerDataWithoutLogging(this.context.composerID,this.constructor.taggerID,k);else c("ReactComposerTaggerActions").setTaggerData(this.context.composerID,this.constructor.loggingName,this.constructor.taggerID,k);this.__onTaggerDataChanged&&this.__onTaggerDataChanged(k);this.props.onSelect&&this.props.onSelect(k)}}};f.exports=i}),null);
__d("ReactComposerTaggerViewStyles",["React"],(function a(b,c,d,e,f,g){var h=320,i=210,j=40,k=c("React").PropTypes,l={useScrollableArea:k.bool.isRequired,itemHeight:k.number,maxHeight:k.number};f.exports={DEFAULT:{useScrollableArea:false},SCROLLABLE:{useScrollableArea:true,itemHeight:j,maxHeight:h},SCROLLABLE_SHORT:{useScrollableArea:true,itemHeight:j,maxHeight:i},Shape:l}}),null);
__d("ReactComposerTaggerViewMixin",["cx","React","ReactComposerTaggerViewStyles","ReactDOM","ScrollableArea","ScrollableArea.react","TypeaheadViewPropTypes","joinClasses","setImmediate"],(function a(b,c,d,e,f,g,h){__p&&__p();var i=c("React").PropTypes,j={propTypes:Object.assign({customIcon:i.object,taggerViewStyle:i.shape(c("ReactComposerTaggerViewStyles").Shape),taggerListClassName:i.string},c("TypeaheadViewPropTypes")),getDefaultProps:function k(){return{role:"listbox",taggerViewStyle:c("ReactComposerTaggerViewStyles").DEFAULT,taggerListClassName:""}},render:function k(){var l=this.props.entries.length,m="_599r"+(!l?" _599s":"");m=c("joinClasses")(this.props.taggerListClassName,m);var n=this.props.entries.map(this._renderItem),o=c("React").createElement("ul",{className:m,id:this.props.controlleeID,role:this.props.role,ref:"list"},n),p=this.props.taggerViewStyle;if(p.useScrollableArea){var q=p.itemHeight*l;if(q>p.maxHeight)o=c("React").createElement(c("ScrollableArea.react"),{ref:this._scrollableAreaMount,className:"_53vr",height:p.maxHeight},o)}return o},_renderItem:function k(l){var m=l===this.props.highlightedEntry,n=l.getAuxiliaryData(),o=n.isRegexEntry,p=o?this.getRegexItemImpl():this.getItemImpl(),q=(m?"selected":"")+(o?" _3ooq":"");return c("React").createElement(p,{className:q,key:l.getUniqueID(),entry:l,highlighted:m,onSelect:this.props.onSelect,onHighlight:this.props.onHighlight,onRenderHighlight:this._onRenderHighlight,customIcon:this.props.customIcon})},_onRenderHighlight:function k(l){if(this._scrollableArea)this._scrollableArea.scrollIntoView(l,false);this.props.onRenderHighlight(l)},_scrollableAreaMount:function k(l){var m=c("ReactDOM").findDOMNode(l);this._scrollableArea=c("ScrollableArea").getInstance(m);c("setImmediate")(function(){this._scrollableArea&&this._scrollableArea.resize()}.bind(this))}};f.exports=j}),null);
__d("ReactComposerTaggerView.react",["React","ReactComposerTaggerViewMixin","XUITypeaheadViewItem.react"],(function a(b,c,d,e,f,g){var h=c("React").createClass({displayName:"ReactComposerTaggerView",mixins:[c("ReactComposerTaggerViewMixin")],getItemImpl:function i(){return c("XUITypeaheadViewItem.react")}});f.exports=h}),null);
__d("ReactComposerTaggerPresenter",["ReactComposerTaggerView.react"],(function a(b,c,d,e,f,g){f.exports={ViewRenderer:c("ReactComposerTaggerView.react"),useLayer:true}}),null);
__d("ReactComposerSessionMetricsActionTypes",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){f.exports=c("keyMirrorRecursive")({KEYSTROKE:null,PASTE:null},"ReactComposerSessionMetricsActionTypes")}),null);
__d("ReactComposerSessionMetricsStore",["NavigationMetrics","ReactComposerAttachmentActionType","ReactComposerSessionMetricsActionTypes","ReactComposerStoreBase"],(function a(b,c,d,e,f,g){__p&&__p();var h,i,j=-1;h=babelHelpers.inherits(k,c("ReactComposerStoreBase"));i=h&&h.prototype;function k(){"use strict";__p&&__p();var l=void 0;i.constructor.call(this,function(){c("NavigationMetrics").addRetroactiveListener(c("NavigationMetrics").Events.NAVIGATION_DONE,function(m,n){var o=n.tti;l.ttiTimestamp=o});return{composerStartTime:null,keystrokeCount:0,pasteCount:0}},function(m){switch(m.type){case c("ReactComposerAttachmentActionType").SELECT_ATTACHMENT:l&&l.$ReactComposerSessionMetricsStore1(m);break;case c("ReactComposerSessionMetricsActionTypes").KEYSTROKE:l&&l.$ReactComposerSessionMetricsStore2(m);break;case c("ReactComposerSessionMetricsActionTypes").PASTE:l&&l.$ReactComposerSessionMetricsStore3(m);break}});this.ttiTimestamp=j;l=this}k.prototype.getComposerEntryTime=function(l){"use strict";if(this.ttiTimestamp==j)return 0;else return Math.round((this.getComposerData(l).composerStartTime-this.ttiTimestamp)/1e3)};k.prototype.getComposerStartTime=function(l){"use strict";return this.getComposerData(l).composerStartTime};k.prototype.getKeystrokeCount=function(l){"use strict";return this.getComposerData(l).keystrokeCount};k.prototype.getPasteCount=function(l){"use strict";return this.getComposerData(l).pasteCount};k.prototype.$ReactComposerSessionMetricsStore1=function(l){"use strict";var m=this.validateAction(l,"composerID"),n=this.getComposerData(m);if(!n.composerStartTime)n.composerStartTime=Date.now()};k.prototype.$ReactComposerSessionMetricsStore2=function(l){"use strict";var m=this.validateAction(l,"composerID"),n=this.getComposerData(m);n.keystrokeCount++};k.prototype.$ReactComposerSessionMetricsStore3=function(l){"use strict";var m=this.validateAction(l,"composerID"),n=this.getComposerData(m);n.pasteCount++};f.exports=new k()}),null);
__d("ReactComposerCollectionsActionTypes",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){f.exports=c("keyMirrorRecursive")({SHOW_COLLECTION_SELECTOR:null,HIDE_COLLECTION_SELECTOR:null,SHOW_CREATION_LAYER:null,HIDE_CREATION_LAYER:null,SHOW_SHARING_SPACE_CREATION_LAYER:null,HIDE_SHARING_SPACE_CREATION_LAYER:null,SPACE_SELECTOR_LOADED:null},"ReactComposerCollectionsActionTypes")}),null);
__d("ReactComposerProfilePhoto.react",["cx","fbt","Image.react","Link.react","React"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=c("React").PropTypes,m=40;j=babelHelpers.inherits(n,c("React").PureComponent);k=j&&j.prototype;n.prototype.render=function(){"use strict";__p&&__p();var o="_3hvt",p=c("React").createElement(c("Image.react"),{className:"_bth",src:this.props.src,height:m,width:m}),q=i._("Profil de {name}",[i.param("name",this.props.profileName)]),r=void 0;if(this.props.profileDialogURI)r=c("React").createElement(c("Link.react"),{ajaxify:this.props.profileDialogURI,rel:"dialog","aria-label":q,className:o,href:this.props.profileURI,onClick:function(s){this.props.onClick(s);s.stopPropagation()}.bind(this),onFocus:function s(t){t.stopPropagation();t.nativeEvent.isPropagationStopped=true}},p);else if(this.props.profileURI)r=c("React").createElement(c("Link.react"),{"aria-label":q,className:o,href:this.props.profileURI,onClick:this.props.onClick},p);else r=c("React").createElement("div",{className:o},p);return r};function n(){"use strict";j.apply(this,arguments)}n.PROFILE_PIC_WIDTH=m;n.propTypes={src:l.string.isRequired,profileName:l.string,profileURI:l.string,profileDialogURI:l.string,onClick:l.func};f.exports=n}),null);
__d("ReactComposerPostUtilsCore",["invariant","ReactComposerActions"],(function a(b,c,d,e,f,g,h){var i={getCoreData:function j(k,l,m){!isNaN(m)&&m>0||h(0);return Object.assign({is_react:true,xhpc_composerid:k,xhpc_targetid:m},l)},handlePostSucceeded:function j(k){c("ReactComposerActions").postSucceeded(k);c("ReactComposerActions").reset(k)}};f.exports=i}),null);
__d("ContentStateInlineStyle",["CharacterMetadata","immutable"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("immutable").Map,i={add:function k(l,m,n){return j(l,m,n,true)},remove:function k(l,m,n){return j(l,m,n,false)}};function j(k,l,m,n){__p&&__p();var o=k.getBlockMap(),p=l.getStartKey(),q=l.getStartOffset(),r=l.getEndKey(),s=l.getEndOffset(),t=o.skipUntil(function(u,v){return v===p}).takeUntil(function(u,v){return v===r}).concat(h([[r,o.get(r)]])).map(function(u,v){__p&&__p();var w,x;if(p===r){w=q;x=s}else{w=v===p?q:0;x=v===r?s:u.getLength()}var y=u.getCharacterList(),z;while(w<x){z=y.get(w);y=y.set(w,n?c("CharacterMetadata").applyStyle(z,m):c("CharacterMetadata").removeStyle(z,m));w++}return u.set("characterList",y)});return k.merge({blockMap:o.merge(t),selectionBefore:l,selectionAfter:l})}f.exports=i}),null);
__d("applyEntityToContentBlock",["CharacterMetadata"],(function a(b,c,d,e,f,g){"use strict";function h(i,j,k,l){var m=i.getCharacterList();while(j<k){m=m.set(j,c("CharacterMetadata").applyEntity(m.get(j),l));j++}return i.set("characterList",m)}f.exports=h}),null);
__d("applyEntityToContentState",["immutable","applyEntityToContentBlock"],(function a(b,c,d,e,f,g){"use strict";function h(i,j,k){var l=i.getBlockMap(),m=j.getStartKey(),n=j.getStartOffset(),o=j.getEndKey(),p=j.getEndOffset(),q=l.skipUntil(function(r,s){return s===m}).takeUntil(function(r,s){return s===o}).toOrderedMap().merge(c("immutable").OrderedMap([[o,l.get(o)]])).map(function(r,s){var t=s===m?n:0,u=s===o?p:r.getLength();return c("applyEntityToContentBlock")(r,t,u,k)});return i.merge({blockMap:l.merge(q),selectionBefore:j,selectionAfter:j})}f.exports=h}),null);
__d("DraftEntitySegments",[],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={getRemovalRange:function i(j,k,l,m,n){__p&&__p();var o=l.split(" ");o=o.map(function(r,y){if(n==="forward"){if(y>0)return" "+r}else if(y<o.length-1)return r+" ";return r});var p=m,q,r,s=null,t=null;for(var u=0;u<o.length;u++){r=o[u];q=p+r.length;if(j<q&&p<k)if(s!==null)t=q;else{s=p;t=q}else if(s!==null)break;p=q}var v=m+l.length,w=s===m,x=t===v;if(!w&&x||w&&!x)if(n==="forward"){if(t!==v)t++}else if(s!==m)s--;return{start:s,end:t}}};f.exports=h}),null);
__d("getRangesForDraftEntity",["invariant"],(function a(b,c,d,e,f,g,h){"use strict";function i(j,k){var l=[];j.findEntityRanges(function(m){return m.getEntity()===k},function(m,n){l.push({start:m,end:n})});!!l.length||h(0);return l}f.exports=i}),null);
__d("getCharacterRemovalRange",["invariant","DraftEntitySegments","getRangesForDraftEntity"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();function i(k,l,m,n,o){__p&&__p();var p=n.getStartOffset(),q=n.getEndOffset(),r=l.getEntityAt(p),s=m.getEntityAt(q-1);if(!r&&!s)return n;var t=n;if(r&&r===s)t=j(k,l,t,o,r,true,true);else if(r&&s){var u=j(k,l,t,o,r,false,true),v=j(k,m,t,o,s,false,false);t=t.merge({anchorOffset:u.getAnchorOffset(),focusOffset:v.getFocusOffset(),isBackward:false})}else if(r){var w=j(k,l,t,o,r,false,true);t=t.merge({anchorOffset:w.getStartOffset(),isBackward:false})}else if(s){var x=j(k,m,t,o,s,false,false);t=t.merge({focusOffset:x.getEndOffset(),isBackward:false})}return t}function j(k,l,m,n,o,p,q){__p&&__p();var r=m.getStartOffset(),s=m.getEndOffset(),t=k.__get(o),u=t.getMutability(),v=q?r:s;if(u==="MUTABLE")return m;var w=c("getRangesForDraftEntity")(l,o).filter(function(z){return v<=z.end&&v>=z.start});w.length==1||h(0);var x=w[0];if(u==="IMMUTABLE")return m.merge({anchorOffset:x.start,focusOffset:x.end,isBackward:false});if(!p)if(q)s=x.end;else r=x.start;var y=c("DraftEntitySegments").getRemovalRange(r,s,l.getText().slice(x.start,x.end),x.start,n);return m.merge({anchorOffset:y.start,focusOffset:y.end,isBackward:false})}f.exports=i}),null);
__d("randomizeBlockMapKeys",["ContentBlockNode","immutable","generateRandomKey"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("immutable").OrderedMap,i=function i(l){__p&&__p();var m={},n=void 0;return h(l.withMutations(function(o){__p&&__p();o.forEach(function(p,q){__p&&__p();var r=p.getKey(),s=p.getNextSiblingKey(),t=p.getPrevSiblingKey(),u=p.getChildKeys(),v=p.getParentKey(),w=c("generateRandomKey")();m[r]=w;if(s){var x=o.get(s);if(x)o.setIn([s,"prevSibling"],w);else o.setIn([r,"nextSibling"],null)}if(t){var y=o.get(t);if(y)o.setIn([t,"nextSibling"],w);else o.setIn([r,"prevSibling"],null)}if(v&&o.get(v)){var z=o.get(v),A=z.getChildKeys();o.setIn([v,"children"],A.set(A.indexOf(p.getKey()),w))}else{o.setIn([r,"parent"],null);if(n){o.setIn([n.getKey(),"nextSibling"],w);o.setIn([r,"prevSibling"],m[n.getKey()])}n=o.get(r)}u.forEach(function(B){var C=o.get(B);if(C)o.setIn([B,"parent"],w);else o.setIn([r,"children"],p.getChildKeys().filter(function(D){return D!==B}))})})}).toArray().map(function(o){return[m[o.getKey()],o.set("key",m[o.getKey()])]}))},j=function j(l){return h(l.toArray().map(function(m){var n=c("generateRandomKey")();return[n,m.set("key",n)]}))},k=function k(l){var m=l.first()instanceof c("ContentBlockNode");if(!m)return j(l);return i(l)};f.exports=k}),null);
__d("removeEntitiesAtEdges",["invariant","CharacterMetadata","findRangesImmutable"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();function i(l,m){__p&&__p();var n=l.getBlockMap(),o=l.getEntityMap(),p={},q=m.getStartKey(),r=m.getStartOffset(),s=n.get(q),t=k(o,s,r);if(t!==s)p[q]=t;var u=m.getEndKey(),v=m.getEndOffset(),w=n.get(u);if(q===u)w=t;var x=k(o,w,v);if(x!==w)p[u]=x;if(!Object.keys(p).length)return l.set("selectionAfter",m);return l.merge({blockMap:n.merge(p),selectionAfter:m})}function j(l,m,n){var o;c("findRangesImmutable")(l,function(p,q){return p.getEntity()===q.getEntity()},function(p){return p.getEntity()===m},function(p,q){if(p<=n&&q>=n)o={start:p,end:q}});typeof o==="object"||h(0);return o}function k(l,m,n){__p&&__p();var o=m.getCharacterList(),p=n>0?o.get(n-1):undefined,q=n<o.count()?o.get(n):undefined,r=p?p.getEntity():undefined,s=q?q.getEntity():undefined;if(s&&s===r){var t=l.__get(s);if(t.getMutability()!=="MUTABLE"){var u=j(o,s,n),v=u.start,w=u.end,x;while(v<w){x=o.get(v);o=o.set(v,c("CharacterMetadata").applyEntity(x,null));v++}return m.set("characterList",o)}}return m}f.exports=i}),null);
__d("getContentStateFragment",["randomizeBlockMapKeys","removeEntitiesAtEdges"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=function h(i,j){__p&&__p();var k=j.getStartKey(),l=j.getStartOffset(),m=j.getEndKey(),n=j.getEndOffset(),o=c("removeEntitiesAtEdges")(i,j),p=o.getBlockMap(),q=p.keySeq(),r=q.indexOf(k),s=q.indexOf(m)+1;return c("randomizeBlockMapKeys")(p.slice(r,s).map(function(t,u){var v=t.getText(),w=t.getCharacterList();if(k===m)return t.merge({text:v.slice(l,n),characterList:w.slice(l,n)});if(u===k)return t.merge({text:v.slice(l),characterList:w.slice(l)});if(u===m)return t.merge({text:v.slice(0,n),characterList:w.slice(0,n)});return t}))};f.exports=h}),null);
__d("insertIntoList",[],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i,j,k){__p&&__p();if(k===i.count())j.forEach(function(n){i=i.push(n)});else if(k===0)j.reverse().forEach(function(n){i=i.unshift(n)});else{var l=i.slice(0,k),m=i.slice(k);i=l.concat(j,m).toList()}return i}f.exports=h}),null);
__d("insertFragmentIntoContentState",["invariant","BlockMapBuilder","ContentBlockNode","immutable","insertIntoList","randomizeBlockMapKeys"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=c("immutable").List,j=function j(q,r,s,t,u,v){var w=s.get(u),x=w.getText(),y=w.getCharacterList(),z=u,A=v+t.getText().length,B=w.merge({text:x.slice(0,v)+t.getText()+x.slice(v),characterList:c("insertIntoList")(y,t.getCharacterList(),v),data:t.getData()});return q.merge({blockMap:s.set(u,B),selectionBefore:r,selectionAfter:r.merge({anchorKey:z,anchorOffset:A,focusKey:z,focusOffset:A,isBackward:false})})},k=function k(q,r,s){var t=q.getText(),u=q.getCharacterList(),v=t.slice(0,r),w=u.slice(0,r),x=s.first();return q.merge({text:v+x.getText(),characterList:w.concat(x.getCharacterList()),type:v?q.getType():x.getType(),data:x.getData()})},l=function l(q,r,s){var t=q.getText(),u=q.getCharacterList(),v=t.length,w=t.slice(r,v),x=u.slice(r,v),y=s.last();return y.merge({text:y.getText()+w,characterList:y.getCharacterList().concat(x),data:y.getData()})},m=function m(q,r){__p&&__p();var s=q.getKey(),t=q,u=[];if(r.get(s))u.push(s);while(t&&t.getNextSiblingKey()){var v=t.getNextSiblingKey();if(!v)break;u.push(v);t=r.get(v)}return u},n=function n(q,r,s,t){__p&&__p();return q.withMutations(function(u){__p&&__p();var v=s.getKey(),w=t.getKey(),x=s.getNextSiblingKey(),y=s.getParentKey(),z=m(t,q),A=z[z.length-1];if(u.get(w)){u.setIn([v,"nextSibling"],w);u.setIn([w,"prevSibling"],v)}else{u.setIn([v,"nextSibling"],t.getNextSiblingKey());u.setIn([t.getNextSiblingKey(),"prevSibling"],v)}u.setIn([A,"nextSibling"],x);if(x)u.setIn([x,"prevSibling"],A);z.forEach(function(G){return u.setIn([G,"parent"],y)});if(y){var B=q.get(y),C=B.getChildKeys(),D=C.indexOf(v),E=D+1,F=C.toArray();F.splice.apply(F,[E,0].concat(z));u.setIn([y,"children"],i(F))}})},o=function o(q,r,s,t,u,v){__p&&__p();var w=s.first()instanceof c("ContentBlockNode"),x=[],y=t.size,z=s.get(u),A=t.first(),B=t.last(),C=B.getLength(),D=B.getKey(),E=w&&(!z.getChildKeys().isEmpty()||!A.getChildKeys().isEmpty());s.forEach(function(G,H){__p&&__p();if(H!==u){x.push(G);return}if(E)x.push(G);else x.push(k(G,v,t));t.slice(E?0:1,y-1).forEach(function(I){return x.push(I)});x.push(l(G,v,t))});var F=c("BlockMapBuilder").createFromArray(x);if(w)F=n(F,s,z,A);return q.merge({blockMap:F,selectionBefore:r,selectionAfter:r.merge({anchorKey:D,anchorOffset:C,focusKey:D,focusOffset:C,isBackward:false})})},p=function p(q,r,s){r.isCollapsed()||h(0);var t=q.getBlockMap(),u=c("randomizeBlockMapKeys")(s),v=r.getStartKey(),w=r.getStartOffset(),x=t.get(v);if(x instanceof c("ContentBlockNode"))x.getChildKeys().isEmpty()||h(0);if(u.size===1)return j(q,r,t,u.first(),v,w);return o(q,r,t,u,v,w)};f.exports=p}),null);
__d("insertTextIntoContentState",["invariant","immutable","insertIntoList"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=c("immutable").Repeat;function j(k,l,m,n){l.isCollapsed()||h(0);var o=m.length;if(!o)return k;var p=k.getBlockMap(),q=l.getStartKey(),r=l.getStartOffset(),s=p.get(q),t=s.getText(),u=s.merge({text:t.slice(0,r)+m+t.slice(r,s.getLength()),characterList:c("insertIntoList")(s.getCharacterList(),i(n,o).toList(),r)}),v=r+o;return k.merge({blockMap:p.set(q,u),selectionAfter:l.merge({anchorOffset:v,focusOffset:v})})}f.exports=j}),null);
__d("modifyBlockForContentState",["immutable"],(function a(b,c,d,e,f,g){"use strict";var h=c("immutable").Map;function i(j,k,l){var m=k.getStartKey(),n=k.getEndKey(),o=j.getBlockMap(),p=o.toSeq().skipUntil(function(q,r){return r===m}).takeUntil(function(q,r){return r===n}).concat(h([[n,o.get(n)]])).map(l);return j.merge({blockMap:o.merge(p),selectionBefore:k,selectionAfter:k})}f.exports=i}),null);
__d("getNextDelimiterBlockKey",["ContentBlockNode"],(function a(b,c,d,e,f,g){__p&&__p();var h=function h(i,j){__p&&__p();var k=i instanceof c("ContentBlockNode");if(!k)return null;var l=i.getNextSiblingKey();if(l)return l;var m=i.getParentKey();if(!m)return null;var n=j.get(m);while(n&&!n.getNextSiblingKey()){var o=n.getParentKey();n=o?j.get(o):null}if(!n)return null;return n.getNextSiblingKey()};f.exports=h}),null);
__d("removeRangeFromContentState",["ContentBlockNode","immutable","getNextDelimiterBlockKey"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("immutable").List,i=c("immutable").Map,j=function j(r,s,t){if(!r)return;var u=s.get(r);if(!u)return;s.set(r,t(u))},k=function k(r,s){__p&&__p();var t=[];if(!r)return t;var u=s.get(r);while(u&&u.getParentKey()){var v=u.getParentKey();if(v)t.push(v);u=v?s.get(v):null}return t},l=function l(r,s){__p&&__p();var t=[];if(!r)return t;var u=c("getNextDelimiterBlockKey")(r,s);while(u&&s.get(u)){var v=s.get(u);t.push(u);u=v.getParentKey()?c("getNextDelimiterBlockKey")(v,s):null}return t},m=function m(r,s,t){if(!r)return null;var u=t.get(r.getKey()).getNextSiblingKey();while(u&&!s.get(u))u=t.get(u).getNextSiblingKey()||null;return u},n=function n(r,s,t){if(!r)return null;var u=t.get(r.getKey()).getPrevSiblingKey();while(u&&!s.get(u))u=t.get(u).getPrevSiblingKey()||null;return u},o=function o(r,s,t,u){__p&&__p();return r.withMutations(function(v){__p&&__p();j(s.getKey(),v,function(w){return w.merge({nextSibling:m(s,v,u),prevSibling:n(s,v,u)})});j(t.getKey(),v,function(w){return w.merge({nextSibling:m(t,v,u),prevSibling:n(t,v,u)})});k(s.getKey(),u).forEach(function(w){return j(w,v,function(x){return x.merge({children:x.getChildKeys().filter(function(y){return v.get(y)}),nextSibling:m(x,v,u),prevSibling:n(x,v,u)})})});j(s.getNextSiblingKey(),v,function(w){return w.merge({prevSibling:s.getPrevSiblingKey()})});j(s.getPrevSiblingKey(),v,function(w){return w.merge({nextSibling:m(s,v,u)})});j(t.getNextSiblingKey(),v,function(w){return w.merge({prevSibling:n(t,v,u)})});j(t.getPrevSiblingKey(),v,function(w){return w.merge({nextSibling:t.getNextSiblingKey()})});k(t.getKey(),u).forEach(function(w){j(w,v,function(x){return x.merge({children:x.getChildKeys().filter(function(y){return v.get(y)}),nextSibling:m(x,v,u),prevSibling:n(x,v,u)})})});l(t,u).forEach(function(w){return j(w,v,function(x){return x.merge({nextSibling:m(x,v,u),prevSibling:n(x,v,u)})})})})},p=function p(r,s){__p&&__p();if(s.isCollapsed())return r;var t=r.getBlockMap(),u=s.getStartKey(),v=s.getStartOffset(),w=s.getEndKey(),x=s.getEndOffset(),y=t.get(u),z=t.get(w),A=y instanceof c("ContentBlockNode"),B=[];if(A){var C=z.getChildKeys(),D=k(w,t);if(z.getNextSiblingKey())B=B.concat(D);if(!C.isEmpty())B=B.concat(D.concat([w]));B=B.concat(k(c("getNextDelimiterBlockKey")(z,t),t))}var E=void 0;if(y===z)E=q(y.getCharacterList(),v,x);else E=y.getCharacterList().slice(0,v).concat(z.getCharacterList().slice(x));var F=y.merge({text:y.getText().slice(0,v)+z.getText().slice(x),characterList:E}),G=t.toSeq().skipUntil(function(I,J){return J===u}).takeUntil(function(I,J){return J===w}).filter(function(I,J){return B.indexOf(J)===-1}).concat(i([[w,null]])).map(function(I,J){return J===u?F:null}),H=t.merge(G).filter(function(I){return!!I});if(A)H=o(H,y,z,t);return r.merge({blockMap:H,selectionBefore:s,selectionAfter:s.merge({anchorKey:u,anchorOffset:v,focusKey:u,focusOffset:v,isBackward:false})})},q=function q(r,s,t){__p&&__p();if(s===0)while(s<t){r=r.shift();s++}else if(t===r.count())while(t>s){r=r.pop();t--}else{var u=r.slice(0,s),v=r.slice(t);r=u.concat(v).toList()}return r};f.exports=p}),null);
__d("splitBlockInContentState",["invariant","ContentBlockNode","immutable","generateRandomKey"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=c("immutable").List,j=c("immutable").Map,k=function k(n,o,p){if(!n)return;var q=o.get(n);if(!q)return;o.set(n,p(q))},l=function l(n,o,p){__p&&__p();return n.withMutations(function(q){__p&&__p();var r=o.getKey(),s=p.getKey();k(o.getParentKey(),q,function(t){var u=t.getChildKeys(),v=u.indexOf(r)+1,w=u.toArray();w.splice(v,0,s);return t.merge({children:i(w)})});k(o.getNextSiblingKey(),q,function(t){return t.merge({prevSibling:s})});k(r,q,function(t){return t.merge({nextSibling:s})});k(s,q,function(t){return t.merge({prevSibling:r})})})},m=function m(n,o){o.isCollapsed()||h(0);var p=o.getAnchorKey(),q=o.getAnchorOffset(),r=n.getBlockMap(),s=r.get(p),t=s.getText(),u=s.getCharacterList(),v=c("generateRandomKey")(),w=s instanceof c("ContentBlockNode"),x=s.merge({text:t.slice(0,q),characterList:u.slice(0,q)}),y=x.merge({key:v,text:t.slice(q),characterList:u.slice(q),data:j()}),z=r.toSeq().takeUntil(function(C){return C===s}),A=r.toSeq().skipUntil(function(C){return C===s}).rest(),B=z.concat([[p,x],[v,y]],A).toOrderedMap();if(w){s.getChildKeys().isEmpty()||h(0);B=l(B,x,y)}return n.merge({blockMap:B,selectionBefore:o,selectionAfter:o.merge({anchorKey:v,anchorOffset:0,focusKey:v,focusOffset:0,isBackward:false})})};f.exports=m}),null);
__d("DraftModifier",["invariant","CharacterMetadata","ContentStateInlineStyle","immutable","applyEntityToContentState","getCharacterRemovalRange","getContentStateFragment","gkx","insertFragmentIntoContentState","insertTextIntoContentState","modifyBlockForContentState","removeEntitiesAtEdges","removeRangeFromContentState","splitBlockInContentState"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=c("immutable").OrderedSet,j={replaceText:function k(l,m,n,o,p){var q=c("removeEntitiesAtEdges")(l,m),r=c("removeRangeFromContentState")(q,m),s=c("CharacterMetadata").create({style:o||i(),entity:p||null});return c("insertTextIntoContentState")(r,r.getSelectionAfter(),n,s)},insertText:function k(l,m,n,o,p){m.isCollapsed()||h(0);return j.replaceText(l,m,n,o,p)},moveText:function k(l,m,n){var o=c("getContentStateFragment")(l,m),p=j.removeRange(l,m,"backward");return j.replaceWithFragment(p,n,o)},replaceWithFragment:function k(l,m,n){var o=c("removeEntitiesAtEdges")(l,m),p=c("removeRangeFromContentState")(o,m);return c("insertFragmentIntoContentState")(p,p.getSelectionAfter(),n)},removeRange:function k(l,m,n){__p&&__p();var o=void 0,p=void 0,q=void 0,r=void 0;if(m.getIsBackward())m=m.merge({anchorKey:m.getFocusKey(),anchorOffset:m.getFocusOffset(),focusKey:m.getAnchorKey(),focusOffset:m.getAnchorOffset(),isBackward:false});o=m.getAnchorKey();p=m.getFocusKey();q=l.getBlockForKey(o);r=l.getBlockForKey(p);var s=m.getStartOffset(),t=m.getEndOffset(),u=q.getEntityAt(s),v=r.getEntityAt(t-1);if(o===p)if(u&&u===v){var w=c("getCharacterRemovalRange")(l.getEntityMap(),q,r,m,n);return c("removeRangeFromContentState")(l,w)}var x=m;if(c("gkx")("AT4OHQOtsQXrOADgyVq6K5UIDe9T9eDsSwdY2t65CYKcEvQqwy-mi67Du6upmMMIJ9MJGXqczfRABuu9cZxiVQ31ZCO7_57Q5Y5XG2T5gJJ6NQ"))x=c("getCharacterRemovalRange")(l.getEntityMap(),q,r,m,n);var y=c("removeEntitiesAtEdges")(l,x);return c("removeRangeFromContentState")(y,x)},splitBlock:function k(l,m){var n=c("removeEntitiesAtEdges")(l,m),o=c("removeRangeFromContentState")(n,m);return c("splitBlockInContentState")(o,o.getSelectionAfter())},applyInlineStyle:function k(l,m,n){return c("ContentStateInlineStyle").add(l,m,n)},removeInlineStyle:function k(l,m,n){return c("ContentStateInlineStyle").remove(l,m,n)},setBlockType:function k(l,m,n){return c("modifyBlockForContentState")(l,m,function(o){return o.merge({type:n,depth:0})})},setBlockData:function k(l,m,n){return c("modifyBlockForContentState")(l,m,function(o){return o.merge({data:n})})},mergeBlockData:function k(l,m,n){return c("modifyBlockForContentState")(l,m,function(o){return o.merge({data:o.getData().merge(n)})})},applyEntity:function k(l,m,n){var o=c("removeEntitiesAtEdges")(l,m);return c("applyEntityToContentState")(o,m,n)}};f.exports=j}),null);
__d("createPlainBlocksFromText",["CharacterMetadata","ContentBlock","immutable","generateRandomKey","sanitizeDraftText"],(function a(b,c,d,e,f,g){"use strict";var h=c("immutable").List,i=c("immutable").Repeat,j=c("CharacterMetadata").EMPTY;function k(l){return l.map(function(m){m=c("sanitizeDraftText")(m);var n=m.length;return new(c("ContentBlock"))({key:c("generateRandomKey")(),text:m,type:"unstyled",characterList:h(i(j,n))})})}f.exports=k}),null);
__d("createEditorStateWithEntities",["invariant","ContentState","DraftModifier","EditorState","SelectionState","UnicodeUtils","applyEntityToContentBlock","createPlainBlocksFromText"],(function a(b,c,d,e,f,g,h){__p&&__p();function i(j){__p&&__p();var k,l,m=j.addEntityToContentStateFn,n=j.allowUndo,o=j.decorator,p=j.entityCreationFn,q=j.splitIntoBlocks,r=j.text,s=j.ranges;!m||!p||h(0);if(q===undefined)q=true;if(!r)r="";var t=[],u=[],v=q?r.split(/(\r\n?|\n)/g):[r],w=0;v.forEach(function(A,B){if(B%2===0){t.push(A);u.push(w)}w+=c("UnicodeUtils").strlen(A)});var x=c("createPlainBlocksFromText")(t),y=c("ContentState").createFromBlockArray(x);if(s&&s.length)if(m)(function(){__p&&__p();var A=m;y=s.reduce(function(y,B,C){__p&&__p();var D=A(B.entity,y),E=D.getLastCreatedEntityKey(),F=B.offset,G=F+B.length,H=void 0,I=void 0,J=void 0,K=void 0;for(var L=0;L<u.length;L++){var M=u[L],N=u[L+1],O=N===undefined;if(O||F>=M&&F<N){H=x[L];I=F-M}if(O||G>=M&&G<N){J=x[L];K=G-M;break}}H&&J||h(0);var P=c("UnicodeUtils").substr(H.getText(),0,I),Q=P.length,R=c("UnicodeUtils").substr(J.getText(),0,K),S=R.length,T=new(c("SelectionState"))({anchorKey:H.getKey(),anchorOffset:Q,focusKey:J.getKey(),focusOffset:S,isBackward:false,hasFocus:false}),U=c("DraftModifier").applyEntity(D,T,E);return U},y)})();else if(p)(function(){__p&&__p();var A=p;s.forEach(function(B){__p&&__p();var C=A(B.entity);if(C===null)return;var D=B.offset,E,F;for(var G=0;G<u.length;G++){var H=u[G],I=u[G+1];if(I===undefined||D>=H&&D<I){E=x[G];F=D-H;break}}var J=c("UnicodeUtils").substr(x[G].getText(),0,F);F=J.length;x[G]=c("applyEntityToContentBlock")(E,F,F+B.length,C);y=c("ContentState").createFromBlockArray(x)})})();var z=c("EditorState").createWithContent(y,o);if(n===false)z=c("EditorState").set(z,{allowUndo:false});return z}f.exports=i}),null);
__d("splitTextIntoTextBlocks",[],(function a(b,c,d,e,f,g){"use strict";var h=/\r\n?|\n/g;function i(j){return j.split(h)}f.exports=i}),null);
__d("ExtensibleSproutsItemType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ACHIEVEMENT:"ACHIEVEMENT",ANIMATED_EFFECTS:"ANIMATED_EFFECTS",APP_INTEGRATION_BOX:"APP_INTEGRATION_BOX",APP_INTEGRATION_DROPBOX:"APP_INTEGRATION_DROPBOX",APP_INTEGRATION_GDRIVE:"APP_INTEGRATION_GDRIVE",APP_INTEGRATION_ONEDRIVE:"APP_INTEGRATION_ONEDRIVE",APP_INTEGRATION_QUIP:"APP_INTEGRATION_QUIP",AUDIO:"AUDIO",BACKDATE:"BACKDATE",BIRTHDAY_CAMERA:"BIRTHDAY_CAMERA",BIRTHDAY_STICKER:"BIRTHDAY_STICKER",BREAKING_NEWS:"BREAKING_NEWS",CONTACT_YOUR_REPRESENTATIVE:"CONTACT_YOUR_REPRESENTATIVE",EVENTS:"EVENTS",FACECAST:"FACECAST",FILE:"FILE",FIND_PLAYERS:"FIND_PLAYERS",FUN_FACT:"FUN_FACT",FUNDRAISER:"FUNDRAISER",GET_BOOKINGS:"GET_BOOKINGS",GET_DIRECTIONS:"GET_DIRECTIONS",GET_MESSAGES:"GET_MESSAGES",GET_TICKET:"GET_TICKET",GET_PHONE_CALLS:"GET_PHONE_CALLS",GIF:"GIF",GROUP_MEET_UP:"GROUP_MEET_UP",INSPIRATION_CAMERA:"INSPIRATION_CAMERA",LIFE_EVENT:"LIFE_EVENT",LIST:"LIST",LOCATION:"LOCATION",MARKDOWN:"MARKDOWN",MEDIA:"MEDIA",MINUTIAE:"MINUTIAE",MOVIES:"MOVIES",NOTE:"NOTE",ORDER_FOOD:"ORDER_FOOD",PAGE_OFFER:"PAGE_OFFER",PAGE_RECOMMENDATIONS_ADD_TAGS:"PAGE_RECOMMENDATIONS_ADD_TAGS",PHOTO:"PHOTO",PLANETARIUM:"PLANETARIUM",PUBLISH_JOB_POST:"PUBLISH_JOB_POST",Q_AND_A:"Q_AND_A",RECOMMENDATION:"RECOMMENDATION",RED_ENVELOPE:"RED_ENVELOPE",SALES_PROMO:"SALES_PROMO",SELL:"SELL",SPONSOR_TAG:"SPONSOR_TAG",SPOTIFY_SHARE:"SPOTIFY_SHARE",STICKER:"STICKER",SUGGESTED_PHOTO:"SUGGESTED_PHOTO",SUGGESTED_PHOTO_CAPTION:"SUGGESTED_PHOTO_CAPTION",TAG_EVENT:"TAG_EVENT",TAG_PRODUCT:"TAG_PRODUCT",TEXT_BACKGROUND:"TEXT_BACKGROUND",THREESIXTY_CAPTURE:"THREESIXTY_CAPTURE",TRANSLITERATION:"TRANSLITERATION",VIDEO:"VIDEO",VIDEO_SUGGESTIONS:"VIDEO_SUGGESTIONS",VISUAL_POLLS:"VISUAL_POLLS",WITH_TAG:"WITH_TAG",WRITE_POST:"WRITE_POST",DISCUSSION:"DISCUSSION",MORE:"MORE",SELL_MULTIPLE_ITEMS:"SELL_MULTIPLE_ITEMS"})}),null);
__d("ReactComposerFeatureType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({EVENT:"event",FILE:"file",ISSUE_TAG:"issue_tag",LINK:"link",MENTION_TAG:"mention_tag",MILESTONE:"milestone",PAGE_CTA:"page_cta",PHOTO_TAG:"photo_tag",PRIVACY:"privacy",TEXT:"text",COLLECTIONS:"collections",COLLECTION_CREATION:"collection_creation",MESSAGING:"messaging",ALBUM:"album",BREAKING_NEWS:"breaking_news",ASSET_3D:"ASSET_3D"})}),null);
__d("SATPPresetCollection",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CAMERA:"CAMERA",COMMENTS:"COMMENTS",COMPOSER_TOP:"COMPOSER_TOP",COMPOSER_DEFAULT:"COMPOSER_DEFAULTS",COMPOSER_ALL:"COMPOSER_ALL",LISTS:"LISTS",AVATARS:"AVATARS"})}),null);
__d("StickerAssetType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({IMAGE:"BestEffortImage",SPRITE:"SpriteImage",PADDED_SPRITE:"PaddedSpriteImage"})}),null);
__d("XStickerAssetController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/stickers/asset/",{sticker_id:{type:"Int",required:true},image_type:{type:"Enum",defaultValue:"BestEffortImage",enumType:1}})}),null);