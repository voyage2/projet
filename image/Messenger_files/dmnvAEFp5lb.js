if (self.CavalryLogger) { CavalryLogger.start_js(["kAS2J"]); }

__d("ChannelConstants",[],(function a(b,c,d,e,f,g){var h="channel/",i={CHANNEL_MANUAL_RECONNECT_DEFER_MSEC:2e3,MUTE_WARNING_TIME_MSEC:25e3,WARNING_COUNTDOWN_THRESHOLD_MSEC:15e3,ON_SHUTDOWN:h+"shutdown",ON_INVALID_HISTORY:h+"invalid_history",ON_CONFIG:h+"config",ON_ENTER_STATE:h+"enter_state",ON_EXIT_STATE:h+"exit_state",ATTEMPT_RECONNECT:h+"attempt_reconnect",RTI_SESSION:h+"new_rti_address",GET_RTI_SESSION_REQUEST:h+"rti_session_request",SKYWALKER:h+"skywalker",CHANNEL_ESTABLISHED:h+"established",OK:"ok",ERROR:"error",ERROR_MAX:"error_max",ERROR_MISSING:"error_missing",ERROR_MSG_TYPE:"error_msg_type",ERROR_SHUTDOWN:"error_shutdown",ERROR_STALE:"error_stale",SYS_OWNER:"sys_owner",SYS_NONOWNER:"sys_nonowner",SYS_ONLINE:"sys_online",SYS_OFFLINE:"sys_offline",SYS_TIMETRAVEL:"sys_timetravel",HINT_AUTH:"shutdown auth",HINT_CONN:"shutdown conn",HINT_DISABLED:"shutdown disabled",HINT_INVALID_STATE:"shutdown invalid state",HINT_MAINT:"shutdown maint",HINT_UNSUPPORTED:"shutdown unsupported",reason_Unknown:0,reason_AsyncError:1,reason_TooLong:2,reason_Refresh:3,reason_RefreshDelay:4,reason_UIRestart:5,reason_NeedSeq:6,reason_PrevFailed:7,reason_IFrameLoadGiveUp:8,reason_IFrameLoadRetry:9,reason_IFrameLoadRetryWorked:10,reason_PageTransitionRetry:11,reason_IFrameLoadMaxSubdomain:12,reason_NoChannelInfo:13,reason_NoChannelHost:14,CAPABILITY_VOIP_INTEROP:8,FANTAIL_SERVICE:"WebchatClient",SUBSCRIBE:"subscribe",UNSUBSCRIBE:"unsubscribe",FAKE_DFF:"fake_dff",THROTTLED:h+"throttled",JUMPSTART:h+"jumpstart",ENTITY_PRESENCE_ACTIVE_PING:"entity_presence/active_ping",SUBSCRIPTION_STATE:{SUBSCRIBE:"s",MUTATE_CONTEXT:"m",UNSUBSCRIBE:"u"},DEFAULT_MAX_SUBSCRIPTIONS:300,DEFAULT_EVICTION_BATCH_SIZE:20,getArbiterType:function j(k){return h+"message:"+k},getSkywalkerArbiterType:function j(k){return h+"skywalker:"+k},getRTISkywalkerArbiterType:function j(k,l){return h+"skywalker:"+k+":"+l}};f.exports=i}),null);
__d("RTISubscriptionData",["ArbiterToken","ChannelConstants"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("ChannelConstants").SUBSCRIPTION_STATE;function i(j,k,l,m,n,o){__p&&__p();this.$RTISubscriptionData1=j;this.$RTISubscriptionData2=k;this.$RTISubscriptionData6=true;this.$RTISubscriptionData7=false;this.$RTISubscriptionData8=h.SUBSCRIBE;this.$RTISubscriptionData9=null;this.$RTISubscriptionData10=Date.now();this.$RTISubscriptionData3=m?m:{};this.$RTISubscriptionData4=n?n:null;this.$RTISubscriptionData5=o?o:null;this.$RTISubscriptionData11=l}i.prototype.getCreatedTime=function(){return this.$RTISubscriptionData10};i.prototype.getTopic=function(){return this.$RTISubscriptionData1};i.prototype.getViewId=function(){return this.$RTISubscriptionData11};i.prototype.getListener=function(){return this.$RTISubscriptionData2};i.prototype.getSubscribeCallback=function(){return this.$RTISubscriptionData4};i.prototype.getUnsubscribeHook=function(){return this.$RTISubscriptionData5};i.prototype.getArbiterToken=function(){return this.$RTISubscriptionData9};i.prototype.setArbiterToken=function(j){this.$RTISubscriptionData9=j};i.prototype.isAlive=function(){return this.$RTISubscriptionData8!=h.UNSUBSCRIBE};i.prototype.isDirty=function(){return this.$RTISubscriptionData6};i.prototype.setDirty=function(j){this.$RTISubscriptionData6=j};i.prototype.getState=function(){return this.$RTISubscriptionData8};i.prototype.setState=function(j){this.$RTISubscriptionData8=j};i.prototype.getContext=function(){return this.$RTISubscriptionData3};i.prototype.isSent=function(){return this.$RTISubscriptionData7};i.prototype.setSent=function(j){this.$RTISubscriptionData7=j};i.prototype.prepareMutateContext=function(j){this.setState(h.MUTATE_CONTEXT);this.setDirty(true);this.setSent(false);this.$RTISubscriptionData3=j};i.prototype.prepareUnsubscribe=function(){this.setState(h.UNSUBSCRIBE);this.setDirty(true);this.setSent(false);this.$RTISubscriptionData2=null};f.exports=i}),null);
__d("RTISubscriptionStore",["Arbiter","ChannelConstants","CurrentLocale","ErrorUtils","RTISubscriptionData","RTISubscriptionManagerConfig"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.$RTISubscriptionStore1={};this.$RTISubscriptionStore2=1}h.prototype.subscribe=function(i,j,k,l,m){__p&&__p();if(!k)k={};Object.assign(k,this.$RTISubscriptionStore3());var n=this.$RTISubscriptionStore2;this.$RTISubscriptionStore2+=1;var o=new(c("RTISubscriptionData"))(i,j,n,k,l,m);if(!(i in this.$RTISubscriptionStore1))this.$RTISubscriptionStore1[i]={};this.$RTISubscriptionStore1[i][n]=o;var p=c("ChannelConstants").getRTISkywalkerArbiterType(i,n),q=c("Arbiter").subscribe(p,function(r,event){event.obj.forEach(function(s){var t={topic:i,payload:s};c("ErrorUtils").applyWithGuard(j,this,[t])}.bind(this))}.bind(this));o.setArbiterToken(q);return o};h.prototype.unsubscribe=function(i){if(!this.isSubscribed(i))return;i.prepareUnsubscribe();if(i.getArbiterToken()){c("Arbiter").unsubscribe(i.getArbiterToken());i.setArbiterToken(null)}};h.prototype.mutateContext=function(i,j){if(!this.isSubscribed(i))return;i.prepareMutateContext(j)};h.prototype.isSubscribed=function(i){return i.getTopic()in this.$RTISubscriptionStore1&&i.getViewId()in this.$RTISubscriptionStore1[i.getTopic()]&&i.isAlive()};h.prototype.$RTISubscriptionStore3=function(){__p&&__p();var i={};i.locale=c("CurrentLocale").get();if(c("RTISubscriptionManagerConfig").assimilator){var j=c("RTISubscriptionManagerConfig").assimilator;if(j.tierType)i.tierType=j.tierType;if(j.sandboxIP&&j.sandboxPort&&j.sandboxHostname){i.sandboxIP=j.sandboxIP;i.sandboxPort=j.sandboxPort;i.sandboxHostname=j.sandboxHostname}}return i};h.prototype.clearSubscriptions=function(){this.$RTISubscriptionStore1={}};h.prototype.deleteSubscriptions=function(i){var j=[];this.forEachSubscription(function(k){if(i.call(this,k))j.push(k)}.bind(this));j.forEach(function(k){if(k.getTopic()in this.$RTISubscriptionStore1){var l=this.$RTISubscriptionStore1[k.getTopic()];delete l[k.getViewId()]}}.bind(this))};h.prototype.forEachSubscription=function(i){for(var j in this.$RTISubscriptionStore1){var k=this.$RTISubscriptionStore1[j];for(var l in k){var m=k[parseInt(l,10)];i.call(this,m)}}};f.exports=h}),null);
__d("RTISubscriptionToken",["RTISubscriptionData"],(function a(b,c,d,e,f,g){__p&&__p();function h(i,j,k,l){"use strict";this.$RTISubscriptionToken1=i;this.$RTISubscriptionToken2=j;this.$RTISubscriptionToken3=k;this.$RTISubscriptionToken4=l;this.$RTISubscriptionToken5=null}h.prototype.setFriendFanoutToken=function(i){"use strict";this.$RTISubscriptionToken5=i};h.prototype.getFriendFanoutToken=function(){"use strict";return this.$RTISubscriptionToken5};h.prototype.getSubscriptionData=function(){"use strict";return this.$RTISubscriptionToken1};h.prototype.getContext=function(){"use strict";return this.$RTISubscriptionToken1.getContext()};h.prototype.mutateContext=function(i){"use strict";this.$RTISubscriptionToken3(this.$RTISubscriptionToken1,i)};h.prototype.unsubscribe=function(){"use strict";var i=this.$RTISubscriptionToken1.getUnsubscribeHook();if(i)i();this.$RTISubscriptionToken2(this.$RTISubscriptionToken1);if(this.$RTISubscriptionToken5)this.$RTISubscriptionToken5.unsubscribe()};h.prototype.fastUnsubscribe=function(){"use strict";this.unsubscribe();this.$RTISubscriptionToken4()};f.exports=h}),null);
__d("SystemEvents",["ArbiterMixin","ErrorUtils","SystemEventsInitialData","UserAgent_DEPRECATED","TimeSlice","mixin","setIntervalAcrossTransitions"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=1e3;h=babelHelpers.inherits(k,c("mixin")(c("ArbiterMixin")));i=h&&h.prototype;function k(){i.constructor.call(this);this.USER="SystemEvents/USER";this.ONLINE="SystemEvents/ONLINE";this.TIME_TRAVEL="SystemEvents/TIME_TRAVEL";this.$SystemEvents1=c("SystemEventsInitialData").ORIGINAL_USER_ID;this.$SystemEvents2=this.$SystemEvents1;this.$SystemEvents3=navigator.onLine;this.$SystemEvents4=Date.now();this.$SystemEvents5()}k.prototype.isPageOwner=function(l){return(l||this.$SystemEvents6())==this.$SystemEvents1};k.prototype.isOnline=function(){return!!(c("UserAgent_DEPRECATED").chrome()||this.$SystemEvents3)};k.prototype.checkTimeTravel=function(){var l=Date.now(),m=l-this.$SystemEvents4;this.$SystemEvents4=l;if(m<0||m>1e4)this.inform(this.TIME_TRAVEL,m)};k.prototype.$SystemEvents5=function(){this.$SystemEvents7();this.$SystemEvents8();this.$SystemEvents9();this.$SystemEvents10()};k.prototype.$SystemEvents7=function(){__p&&__p();var l=c("TimeSlice").guard(function(){if(!this.$SystemEvents3){this.$SystemEvents3=true;this.inform(this.ONLINE,this.$SystemEvents3)}}.bind(this),"SystemEvents onOnline"),m=c("TimeSlice").guard(function(){if(this.$SystemEvents3){this.$SystemEvents3=false;this.inform(this.ONLINE,this.$SystemEvents3)}}.bind(this),"SystemEvents onOffline");if(c("UserAgent_DEPRECATED").ie())if(c("UserAgent_DEPRECATED").ie()>=11){window.addEventListener("online",l,false);window.addEventListener("offline",m,false)}else if(c("UserAgent_DEPRECATED").ie()>=8)window.attachEvent("onload",function(){document.body.ononline=l;document.body.onoffline=m});else c("setIntervalAcrossTransitions")(function(){(navigator.onLine?l:m)()},j);else if(window.addEventListener){window.addEventListener("online",l,false);window.addEventListener("offline",m,false)}};k.prototype.$SystemEvents8=function(){c("setIntervalAcrossTransitions")(function(){var l=this.$SystemEvents6();if(this.$SystemEvents2!=l){this.$SystemEvents2=l;this.inform(this.USER,l)}}.bind(this),j)};k.prototype.$SystemEvents9=function(){c("setIntervalAcrossTransitions")(this.checkTimeTravel.bind(this),j)};k.prototype.$SystemEvents10=function(){c("setIntervalAcrossTransitions")(function(){if(window.onerror!=c("ErrorUtils").onerror)window.onerror=c("ErrorUtils").onerror},j)};k.prototype.$SystemEvents6=function(){return/c_user=(\d+)/.test(document.cookie)&&RegExp.$1||"0"};f.exports=new k()}),19);
__d("RTISubscriptionManager",["invariant","Arbiter","ChannelConstants","CurrentLocale","CurrentUser","ErrorUtils","RTIFriendFanoutConfig","RTISubscriptionData","RTISubscriptionManagerConfig","RTISubscriptionStore","RTISubscriptionToken","Run","SystemEvents","UserActivity","gkx","idx","setTimeoutAcrossTransitions"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=c("ChannelConstants").SUBSCRIPTION_STATE;function j(p){if(k(p)===false)return null;return p.split("/",2)[1]}function k(p){return p.startsWith("gqls/")}var l=void 0;function m(){if(l===undefined){var p,q=(p=c("RTISubscriptionManagerConfig"))!=null?(p=p.config)!=null?p.www_unevictable_topic_regexes:p:p;l=q?q.map(function(r){return new RegExp(r)}):null}return l}function n(p){var l=m();return l==null||l.every(function(q){return q.test(p)===false})}function o(){__p&&__p();this.$RTISubscriptionManager1=c("gkx")("AT6UOqSJUX6U0W3UWtIQ6EcHs88wcD99w9p_WvcI-H8-YrRKuD_V8bTuBT0vvO87JwWs9rpHAoy5VlEZOw9c7FFj");this.$RTISubscriptionManager2=new(c("RTISubscriptionStore"))();this.$RTISubscriptionManager3={};this.$RTISubscriptionManager4=[];this.$RTISubscriptionManager5={};this.$RTISubscriptionManager6=null;this.$RTISubscriptionManager7;this.$RTISubscriptionManager8=false;this.$RTISubscriptionManager9=false;this.$RTISubscriptionManager10=false;this.$RTISubscriptionManager11=true;this.$RTISubscriptionManager12=document.readyState==="complete";c("Run").onAfterLoad(function(){this.$RTISubscriptionManager12=true;this.flush()}.bind(this));this.$RTISubscriptionManager13=null;c("Arbiter").subscribe(c("ChannelConstants").ON_ENTER_STATE,function(p,q){__p&&__p();if(!this.$RTISubscriptionManager13)return;var r=/pull/.test(q.state);if(!this.$RTISubscriptionManager6&&r){this.$RTISubscriptionManager7=true;if(!this.$RTISubscriptionManager8){this.$RTISubscriptionManager8=true;c("setTimeoutAcrossTransitions")(function(){this.$RTISubscriptionManager6=this.$RTISubscriptionManager7;this.$RTISubscriptionManager8=false;if(this.$RTISubscriptionManager6)this.flush()}.bind(this),o.PULL_HINT_DELAY_MILLIS)}}else if(!r){this.$RTISubscriptionManager7=false;this.$RTISubscriptionManager6=false}else if(r){this.$RTISubscriptionManager6=true;this.flush()}}.bind(this));c("SystemEvents").subscribe(c("SystemEvents").ONLINE,function(p,q){if(!q){this.$RTISubscriptionManager6=false;this.$RTISubscriptionManager7=false}}.bind(this));c("SystemEvents").subscribe(c("SystemEvents").USER,function(p,q){this.$RTISubscriptionManager6=false;this.$RTISubscriptionManager7=false;if(this.$RTISubscriptionManager1)this.$RTISubscriptionManager2.clearSubscriptions();else{this.$RTISubscriptionManager3={};this.$RTISubscriptionManager4=[];this.$RTISubscriptionManager5={}}}.bind(this));c("Arbiter").subscribe(c("ChannelConstants").RTI_SESSION,function(p,q){if(!this.$RTISubscriptionManager13&&q)this.deleteSubscriptions(function(r){return r.getState()===i.UNSUBSCRIBE});this.$RTISubscriptionManager13=q;if(this.$RTISubscriptionManager13){this.$RTISubscriptionManager6=true;this.flush()}}.bind(this));c("Arbiter").subscribe(c("ChannelConstants").ON_INVALID_HISTORY,function(){this.$RTISubscriptionManager6=true;if(this.$RTISubscriptionManager1)this.forEachSubscription(function(p){p.setDirty(true)});else this.forEachSubscription(function(p,q){q.setDirty(true)});this.getCurrentSession()}.bind(this));this.getCurrentSession();c("Arbiter").subscribe(c("ChannelConstants").SKYWALKER,function(p,q){var r=q.obj.topic,s=q.obj.view_id,t={};if(q.obj.payloads===undefined)t.obj=[q.obj.payload];else t.obj=q.obj.payloads;var u=this.$RTISubscriptionManager1?c("ChannelConstants").getRTISkywalkerArbiterType(r,s):c("ChannelConstants").getSkywalkerArbiterType(r);c("Arbiter").inform(u,t)}.bind(this))}o.prototype.subscribe=function(p,q,r,s,t){__p&&__p();p||h(0);q||h(0);if(this.$RTISubscriptionManager1){var u=this.$RTISubscriptionManager2.subscribe(p,q,r,s,t),v=this.$RTISubscriptionManager14(u),w=p.substr(0,p.lastIndexOf("/"));if(c("RTIFriendFanoutConfig").passFriendFanoutSubscribeGK&&c("RTIFriendFanoutConfig").topicPrefixes.indexOf(w)>=0){var x=p+"_user_id_"+c("CurrentUser").getID(),y=this.$RTISubscriptionManager2.subscribe(x,q,r),z=this.$RTISubscriptionManager14(y);v.setFriendFanoutToken(z)}this.flush();return v}var A=this.subscribeInternal(p,q,r,s,t),w=p.substr(0,p.lastIndexOf("/"));if(!c("RTIFriendFanoutConfig").passFriendFanoutSubscribeGK||c("RTIFriendFanoutConfig").topicPrefixes.indexOf(w)<0)return A;var x=p+"_user_id_"+c("CurrentUser").getID(),B=this.subscribeInternal(x,q,r);A.setFriendFanoutToken(B);return A};o.prototype.subscribeInternal=function(p,q,r,s,t){__p&&__p();var u,v=this,w=this.getMaxSubscriptions(),x=Object.keys(this.$RTISubscriptionManager3).length-Object.keys(this.$RTISubscriptionManager5).length;if(x>=w){var u=function(){__p&&__p();var E=v.getEvictionBatchSize();if(E===0)return{v:null};var F=0;v.$RTISubscriptionManager4=v.$RTISubscriptionManager4.filter(function(p){__p&&__p();if(!this.isSubscribed(p)||this.$RTISubscriptionManager3[p].getState()!==i.SUBSCRIBE)return false;if(F===0&&x<w)return true;if(F<E)if(n(p)){this.unsubscribe(this.$RTISubscriptionManager3[p]);F++;x--;if(F>=E)F=0;return false}return true}.bind(v));if(v.$RTISubscriptionManager4.length===0&&x>=w)return{v:null}}();if(typeof u==="object")return u.v}r=r||{};r.locale=c("CurrentLocale").get();if(c("RTISubscriptionManagerConfig").assimilator){r.tierType=c("RTISubscriptionManagerConfig").assimilator.tierType;r.sandboxIP=c("RTISubscriptionManagerConfig").assimilator.sandboxIP;r.sandboxPort=c("RTISubscriptionManagerConfig").assimilator.sandboxPort;r.sandboxHostname=c("RTISubscriptionManagerConfig").assimilator.sandboxHostname}var y=new(c("RTISubscriptionData"))(p,q,0,r,s,t);if(this.isSubscribed(p)){var z=this.$RTISubscriptionManager3[p],A=JSON.stringify(y.getContext())===JSON.stringify(z.getContext());if(p in this.$RTISubscriptionManager5)if(A){y.setDirty(false);y.setSent(true);delete this.$RTISubscriptionManager5[p]}else this.flush();else{if(z&&z.getArbiterToken()){c("Arbiter").unsubscribe(z.getArbiterToken());z.setArbiterToken(null)}y.setDirty(z.isDirty());y.setSent(z.isSent());k(p)}}var B=this.$RTISubscriptionManager14(y);this.$RTISubscriptionManager3[p]=y;this.$RTISubscriptionManager4.push(p);var C=c("ChannelConstants").getSkywalkerArbiterType(p),D=c("Arbiter").subscribe(C,function(E,event){var F=event.obj.length;for(var G=0;G<F;G++){var H={topic:p,payload:event.obj[G]};c("ErrorUtils").applyWithGuard(q,this,[H])}this.$RTISubscriptionManager15()}.bind(this));y.setArbiterToken(D);this.flush();return B};o.prototype.mutateContext=function(p,q){__p&&__p();p||h(0);q||h(0);if(this.$RTISubscriptionManager1){if(this.$RTISubscriptionManager2.isSubscribed(p)){this.$RTISubscriptionManager2.mutateContext(p,q);this.flush()}}else{var r=p.getTopic();if(r in this.$RTISubscriptionManager3&&!(r in this.$RTISubscriptionManager5)){p.prepareMutateContext(q);this.flush()}}};o.prototype.unsubscribe=function(p){__p&&__p();p||h(0);if(this.$RTISubscriptionManager1)this.$RTISubscriptionManager2.unsubscribe(p);else{var q=p.getTopic();if(q in this.$RTISubscriptionManager3){p.prepareUnsubscribe();if(p.getArbiterToken()){c("Arbiter").unsubscribe(p.getArbiterToken());p.setArbiterToken(null)}this.$RTISubscriptionManager5[q]=true}}};o.prototype.unsubscribeAll=function(){if(this.isReady()){var p={reset:"t"};this.$RTISubscriptionManager13.issueRequest("/sub",p,{},function(q){})}};o.prototype.activePing=function(){if(this.isReady()){var p={state:"active"};this.$RTISubscriptionManager13.issueRequest("/active_ping",p,{},function(q){})}};o.prototype.flush=function(){__p&&__p();var p,q=this;if(this.isReady()&&!this.$RTISubscriptionManager9){var r;(function(){__p&&__p();q.$RTISubscriptionManager9=true;q.$RTISubscriptionManager10=false;var s=[],t={},u=true,v=void 0;if(q.$RTISubscriptionManager1)v=function v(z){__p&&__p();if(z.isDirty()){if(z.getState()===i.MUTATE_CONTEXT)u=false;var A="subscriptions",B=t[A];if(!B){B=[];t[A]=B}s.push(z);z.setDirty(false);z.setSent(false);var C={topic:z.getTopic(),state:z.getState(),context:z.getContext(),viewId:z.getViewId()};B.push(C)}else u=false};else v=function v(z,A){__p&&__p();if(A.isDirty()){if(A.getState()===i.MUTATE_CONTEXT)u=false;var B="subscriptions",C=t[B];if(!C){C=[];t[B]=C}s.push(A);A.setDirty(false);A.setSent(false);var D={topic:A.getTopic(),state:A.getState(),context:A.getContext()};C.push(D)}else u=false};q.forEachSubscription(v);if(u&&t.subscriptions&&t.subscriptions.length>0){var w=[];for(r=0;r<t.subscriptions.length;r++)if(t.subscriptions[r].state===i.SUBSCRIBE)w.push(t.subscriptions[r]);t.subscriptions=w;q.$RTISubscriptionManager11=true}var x=function(z){__p&&__p();var A=z.data!=null;if(this.$RTISubscriptionManager11&&A)this.$RTISubscriptionManager11=false;for(var B=0;B<s.length;B++){var C=s[B];C.setSent(A);C.setDirty(!A);if(C.getState()===i.SUBSCRIBE){var D=C.getSubscribeCallback();if(D!==null)c("ErrorUtils").applyWithGuard(D,this,[z])}else if(C.getState()===i.MUTATE_CONTEXT){if(A)C.setState(i.SUBSCRIBE)}else if(C.getState()===i.UNSUBSCRIBE)if(A&&!this.$RTISubscriptionManager1)delete this.$RTISubscriptionManager5[C.getTopic()]}this.deleteSubscriptions(function(C){return C.getState()===i.UNSUBSCRIBE&&C.isSent()});this.$RTISubscriptionManager9=false;if(this.$RTISubscriptionManager10){this.$RTISubscriptionManager10=false;this.flush()}}.bind(q);if(Object.keys(t).length>0){var y={};if(q.$RTISubscriptionManager11)y.reset="t";q.$RTISubscriptionManager13.issueRequest("/sub",y,t,x)}else q.$RTISubscriptionManager9=false})()}else{this.$RTISubscriptionManager10=true;if(this.$RTISubscriptionManager13===null)this.getCurrentSession()}};o.prototype.deleteSubscriptions=function(p){__p&&__p();var q,r=this;p||h(0);if(this.$RTISubscriptionManager1)this.$RTISubscriptionManager2.deleteSubscriptions(p);else(function(){var s=[];r.forEachSubscription(function(u,v){if(p.apply(this,[v]))s.push(u)});for(var t=0;t<s.length;t++)delete r.$RTISubscriptionManager3[s[t]]})()};o.prototype.forEachSubscription=function(p){p||h(0);if(this.$RTISubscriptionManager1)this.$RTISubscriptionManager2.forEachSubscription(p);else for(var q in this.$RTISubscriptionManager3)if(Object.prototype.hasOwnProperty.call(this.$RTISubscriptionManager3,q))p.apply(this,[q,this.$RTISubscriptionManager3[q]])};o.prototype.getSubscriptions=function(){var p=[];if(this.$RTISubscriptionManager1)this.forEachSubscription(function(q){p.push(q)});else this.forEachSubscription(function(q,r){p.push(r)});return p};o.prototype.isUnflushedUnsubscribe=function(p){p||h(0);return p in this.$RTISubscriptionManager5};o.prototype.isSubscribed=function(p){p||h(0);return p in this.$RTISubscriptionManager3};o.prototype.isMultiViewSubscribed=function(p){p||h(0);if(!this.$RTISubscriptionManager1)return false;return this.$RTISubscriptionManager2.isSubscribed(p)};o.prototype.isReady=function(){if(this.$RTISubscriptionManager13&&this.$RTISubscriptionManager6!==null&&this.$RTISubscriptionManager6&&this.$RTISubscriptionManager12)return true;return false};o.prototype.getCurrentSession=function(){c("Arbiter").inform(c("ChannelConstants").GET_RTI_SESSION_REQUEST)};o.prototype.getEvictionBatchSize=function(){if(c("RTISubscriptionManagerConfig").config&&Object.prototype.hasOwnProperty.call(c("RTISubscriptionManagerConfig").config,"eviction_batch_size"))return c("RTISubscriptionManagerConfig").config.eviction_batch_size;else return c("ChannelConstants").DEFAULT_EVICTION_BATCH_SIZE};o.prototype.getMaxSubscriptions=function(){if(c("RTISubscriptionManagerConfig").config&&Object.prototype.hasOwnProperty.call(c("RTISubscriptionManagerConfig").config,"max_subscriptions"))return c("RTISubscriptionManagerConfig").config.max_subscriptions;else return c("ChannelConstants").DEFAULT_MAX_SUBSCRIPTIONS};o.prototype.$RTISubscriptionManager15=function(){__p&&__p();var p=null,q=null;if(c("RTISubscriptionManagerConfig").config){p=c("RTISubscriptionManagerConfig").config.www_idle_unsubscribe_min_time_ms;q=c("RTISubscriptionManagerConfig").config.www_idle_unsubscribe_times_ms}if(!p||!q)return;if(c("UserActivity").isActive(p))return;this.forEachSubscription(function(r,s){var t=s.getTopic(),u=false,v=j(t);if(v!==null&&n(t))if(q!==null&&typeof q==="object"&&q[v]!==undefined)u=!c("UserActivity").isActive(q[v]);else u=false;if(u)this.unsubscribe(s)}.bind(this))};o.prototype.$RTISubscriptionManager14=function(p){return new(c("RTISubscriptionToken"))(p,function(q){this.unsubscribe(q)}.bind(this),function(q,r){this.mutateContext(q,r)}.bind(this),function(){this.flush()}.bind(this))};c("Run").onUnload(function(){o.unsubscribeAll()});o.PULL_HINT_DELAY_MILLIS=1e4;Object.keys(o.prototype).forEach(function(p){o[p]=function(){var q=o;return o.prototype[p].apply(q,arguments)}});o.call(o);f.exports=o}),null);
__d("UFICommentFilterFallbackWarning.react",["cx","fbt","React","UFIPagerGenerator","UFIPaging","WebCommentViewOption","distinctArrayBy"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;function l(n,o,p){var q=o.availableComments,r=o.repliesMap,s=void 0;if(p)s=r[n]||[];else s=q||[];s=c("distinctArrayBy")(s,function(t){return t.id});return s.length}j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;m.shouldRender=function(n,o,p,q){__p&&__p();if(!n)return false;var r=n.availableComments,s=n.commentCounts,t=n.deletedCounts,u=n.hasPagedToplevel,v=n.orderingMode,w=n.ranges,x=n.repliesExpandedMap,y=n.repliesMap;if(!r||!s||!t||!v||!w||!x||!y)return false;var z=Math.max((s[o]||0)-(t[o]||0),0),A=w[o];if(!A||!z||v!==c("WebCommentViewOption").FILTERED||q&&!x[o]||!q&&!u)return false;var B=l(o,n,q),C=A.isLoadingPrev(),D=A.isLoadingNext(),E=A.getOffset(),F=A.getLength(),G=c("UFIPagerGenerator").isBottomPager(q,v,o),H=Math.min(F,z);if(p===c("UFIPaging").ALL)return!C&&!D&&E===0&&F>=z&&B<H;else if(!G&&p===c("UFIPaging").TOP||G&&p===c("UFIPaging").BOTTOM)return!C&&E===0&&B<H;else if(!G&&p===c("UFIPaging").BOTTOM||G&&p===c("UFIPaging").TOP)return!D&&E+F>=z&&B<H;return false};m.prototype.$UFICommentFilterFallbackWarning1=function(){var n=this.props,o=n.asReplyWarning,p=n.ufiProps,q=p||{},r=q.feedback,s=q.orderingMode,t=r&&r.orderingmodes||[],u=t.find(function(w){return w&&w.value===s}),v=u&&u.name;if(o)if(v)return i._("{ordering mode name} est s\u00e9lectionn\u00e9, certaines r\u00e9ponses ont peut-\u00eatre \u00e9t\u00e9 filtr\u00e9es.",[i.param("ordering mode name",v)]);else return i._("Certaines r\u00e9ponses ont peut-\u00eatre \u00e9t\u00e9 filtr\u00e9es par le mode de classement s\u00e9lectionn\u00e9.");else if(v)return i._("{ordering mode name} est s\u00e9lectionn\u00e9, certains commentaires ont peut-\u00eatre \u00e9t\u00e9 filtr\u00e9s.",[i.param("ordering mode name",v)]);else return i._("Certains commentaires ont peut-\u00eatre \u00e9t\u00e9 filtr\u00e9s par le mode de classement s\u00e9lectionn\u00e9.")};m.prototype.render=function(){var n=this.props,o=n.ufiProps,p=n.targetID,q=n.pagingDirection,r=n.asReplyWarning;if(!this.constructor.shouldRender(o,p,q,r))return null;return c("React").createElement("div",{className:"_2ah8 _4oep UFIRow"},c("React").createElement("div",{className:"_2ah9"},this.$UFICommentFilterFallbackWarning1()))};function m(){j.apply(this,arguments)}f.exports=m}),null);
__d("UFIReactionBadgeDecorator.react",["cx","FBFeedLocations","FeedbackSourceType","React","UFICommentReactionCount.react","idx","queryThenMutateDOM"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=300,l=180,m=200;i=babelHelpers.inherits(n,c("React").PureComponent);j=i&&i.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=j.constructor).call.apply(o,[this].concat(r)),this.rootElement=null,this.renderAtBottomCanceller=null,this.state={renderAtBottom:true},p}n.prototype.componentDidMount=function(){__p&&__p();var o=k;if(this.props.contextArgs.source===c("FeedbackSourceType").PHOTOS_SNOWLIFT)o=l;else if(this.props.contextArgs.source===c("FeedbackSourceType").TAHOE)o=m;var p=true;this.renderAtBottomCanceller=c("queryThenMutateDOM")(function(){p=this.rootElement!==undefined&&this.rootElement!==null&&this.rootElement.offsetWidth>=o||this.props.isFullWidthAttachment===true}.bind(this),function(){this.renderAtBottomCanceller=null;if(!p)this.setState({renderAtBottom:false})}.bind(this))};n.prototype.componentWillUnmount=function(){this.renderAtBottomCanceller&&this.renderAtBottomCanceller.cancel()};n.prototype.render=function(){var o,p=this.props.comment.reactioncount>0&&this.props.contextArgs.feedLocationType!=c("FBFeedLocations").CE_PII_STRIPPED_FEED?c("React").createElement(c("UFICommentReactionCount.react"),{comment:this.props.comment,actorForPost:this.props.feedback.actorforpost,supportedReactions:this.props.feedback.supportedreactions,contextArgs:this.props.contextArgs}):null;return c("React").createElement("div",{className:"_10la"+(this.state.renderAtBottom?" _10lg":"")+(this.props.isFlexibleWidthAttachment?" _t-l":"")+(this.props.isFullWidthAttachment?" _3qr8":"")+("comment_place_info"===((o=this.props.comment)!=null?(o=o.attachment)!=null?o.type:o:o)?" _m_9":""),ref:function(q){this.rootElement=q}.bind(this)},this.props.children,c("React").createElement("div",{className:"_10lo"+(this.props.comment.reactioncount?" _10lp":"")},p))};f.exports=n}),null);
__d("UFIShareNowMenuBootloader.react",["BootloadedComponent.react","JSResource","React","UFIShareLink.react"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j="ufi_share_link_placeholder",k="ufi_share_link_loaded";h=babelHelpers.inherits(l,c("React").Component);i=h&&h.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=i.constructor).call.apply(m,[this].concat(p)),this.state={openOnInit:false,focusOnInit:false,interacted:false},n}l.prototype.render=function(){var m=this.state,n=m.openOnInit,o=m.focusOnInit,p=m.interacted,q=this.props,r=q.endpoint,s=q.endpointData,t=q.onShow,u=q.onHide,v=q.openOnInitOverride,w=c("React").createElement(c("UFIShareLink.react"),{href:"#","data-testid":j,onClick:function(){return this.setState({interacted:true,openOnInit:true})}.bind(this),onFocus:function(){return this.setState({interacted:true,focusOnInit:true})}.bind(this),onMouseOver:function(){return this.setState({openOnInit:false,focusOnInit:false,interacted:true})}.bind(this)});if(p||v)return c("React").createElement(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("UFIShareNowMenu.react").__setRef("UFIShareNowMenuBootloader.react"),bootloadPlaceholder:w,endpoint:r,endpointData:s,onShow:t,onHide:u,openOnInit:n||v,focusOnInit:o},c("React").createElement(c("UFIShareLink.react"),{href:"#","data-testid":k}));return w};f.exports=l}),null);
__d("BlueBarFixedBehaviorController",["Arbiter","Bootloader"],(function a(b,c,d,e,f,g){__p&&__p();f.exports={init:function h(i){__p&&__p();if(!("getBoundingClientRect"in i))return;var j=void 0,k=document.documentElement;function l(o){if(j!==o){j=o;c("Arbiter").inform("bluebarFixedBehaviorController/isfixed",j,c("Arbiter").BEHAVIOR_STATE)}}function m(){var o=i.getBoundingClientRect(),p=o.top,q=k?k.clientTop:0,r=Math.round(p)-q<=0;l(r)}function n(){l(false)}m();c("Bootloader").loadModules(["Event"],function(o){o.listen(window,"scroll",m)},"BlueBarFixedBehaviorController");c("Arbiter").subscribe("quickling/response",m);c("Arbiter").subscribe("banner/shown",n)}}}),null);
__d("formatNumber",["fbt","intlNumUtils"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();function i(n,o){return c("intlNumUtils").formatNumber(n,o)}function j(n,o){var p=h._({"*":"+{number}"},[h.param("number",c("intlNumUtils").formatNumberWithThousandDelimiters(n,o),[0,n])]);return p.toString()}function k(n,o){var p=h._({"*":"\u003C{number}"},[h.param("number",c("intlNumUtils").formatNumberWithThousandDelimiters(n,o),[0,n])]);return p.toString()}function l(n,o,p){return n>o?j(o,p):c("intlNumUtils").formatNumberWithThousandDelimiters(n,p)}function m(n,o,p){return n<o?k(o,p):c("intlNumUtils").formatNumberWithThousandDelimiters(n,p)}i.withThousandDelimiters=c("intlNumUtils").formatNumberWithThousandDelimiters;i.withMaxLimit=l;i.withMinLimit=m;f.exports=i}),null);
__d("cancelAnimationFramePolyfill",[],(function a(b,c,d,e,f,g){var h=b.cancelAnimationFrame&&b.cancelAnimationFrame.nativeBackup||b.cancelAnimationFrame||b.webkitCancelAnimationFrame||b.mozCancelAnimationFrame||b.oCancelAnimationFrame||b.msCancelAnimationFrame||b.clearTimeout;f.exports=h}),null);
__d("cancelAnimationFrame",["Env","TimerStorage","TimeSlice","cancelAnimationFramePolyfill","requestAnimationFrameAcrossTransitions"],(function a(b,c,d,e,f,g){__p&&__p();var h=c("TimerStorage").ANIMATION_FRAME;function i(j){if(j!=null)if(c("Env").gk_raf_flush)c("requestAnimationFrameAcrossTransitions").cancelVirtualRAF(j);else{c("TimerStorage").unset(h,j);var k=h+String(j);c("TimeSlice").cancelWithToken(k)}c("cancelAnimationFramePolyfill")(j)}f.exports=i}),18);
__d("replaceNativeTimer",["cancelAnimationFrame","clearInterval","clearTimeout","requestAnimationFrame","setInterval","setTimeout"],(function a(b,c,d,e,f,g){__p&&__p();c("setTimeout").nativeBackup=b.setTimeout;c("clearTimeout").nativeBackup=b.clearTimeout;c("setInterval").nativeBackup=b.setInterval;c("clearInterval").nativeBackup=b.clearInterval;c("requestAnimationFrame").nativeBackup=b.requestAnimationFrame;c("cancelAnimationFrame").nativeBackup=b.cancelAnimationFrame;b.setTimeout=c("setTimeout");b.clearTimeout=c("clearTimeout");b.setInterval=c("setInterval");b.clearInterval=c("clearInterval");b.requestAnimationFrame=c("requestAnimationFrame");b.cancelAnimationFrame=c("cancelAnimationFrame")}),18);